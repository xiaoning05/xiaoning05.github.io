import{d as b,r as u,X as f,dW as g,aQ as w,ao as P,o as N,q as y,e as n,b as a,a as l,h as v,t as C,E as V,i as x,__tla as D}from"./index-34f06ebd.js";import{_ as L,__tla as R}from"./DictTag.vue_vue_type_script_lang-942df0b2.js";import{D as T,__tla as U}from"./dict-e142e39a.js";import{f as q,__tla as E}from"./formatter-20c10600.js";let p,F=Promise.all([(()=>{try{return D}catch{}})(),(()=>{try{return R}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return E}catch{}})()]).then(async()=>{p=b({name:"ContractProductList",__name:"ContractProductList",props:{modelValue:{default:()=>[]}},setup(_){const i=_,s=u([]),d=f(()=>e=>{const t=Number(e.price)/100*Number(e.count)*(1-Number(e.discountPercent)/100);return e.totalPrice=isNaN(t)?0:g(t),isNaN(t)?0:t.toFixed(2)}),c=u(!1);return w(()=>i.modelValue,e=>{e&&e.length!==0&&!c.value&&(s.value=[...i.modelValue.map(t=>(t.totalPrice=P(t.totalPrice),t))],c.value=!0)},{immediate:!0,deep:!0}),(e,t)=>{const r=V,m=L,h=x;return N(),y(h,{data:l(s),"show-overflow-tooltip":!0,stripe:!0},{default:n(()=>[a(r,{align:"center",label:"\u4EA7\u54C1\u540D\u79F0",prop:"name",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u7C7B\u578B",prop:"categoryName",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u5355\u4F4D",prop:"unit"},{default:n(o=>[a(m,{type:l(T).CRM_PRODUCT_UNIT,value:o.row.unit},null,8,["type","value"])]),_:1}),a(r,{align:"center",label:"\u4EA7\u54C1\u7F16\u7801",prop:"no"}),a(r,{formatter:l(q),align:"center",label:"\u4EF7\u683C\uFF08\u5143\uFF09",prop:"price",width:"100"},null,8,["formatter"]),a(r,{align:"center",label:"\u6570\u91CF",prop:"count",width:"200"}),a(r,{align:"center",label:"\u6298\u6263(%)",prop:"discountPercent",width:"200"}),a(r,{align:"center",label:"\u5408\u8BA1",prop:"totalPrice",width:"100"},{default:n(({row:o})=>[v(C(l(d)(o)),1)]),_:1})]),_:1},8,["data"])}}})});export{p as _,F as __tla};
