import{P as R,_ as T,__tla as q}from"./util-51a1c02c.js";import{d as A,r as l,e as B,u as C,p as L,a,o as d,v as x,w as u,f,c as j,q as M,F as Q,l as Y,a4 as E,ay as G,_ as H,az as J,aA as K,ai as N,__tla as O}from"./index-d5b00dc9.js";import{g as W,u as X,__tla as Z}from"./template-dca52a26.js";import{u as aa,__tla as ea}from"./page-705461e4.js";import{u as ta,__tla as ra}from"./tagsView-5c5a0671.js";import{u as la,__tla as oa}from"./useMessage-2288a5f2.js";import{__tla as sa}from"./Dialog.vue_vue_type_style_index_0_lang-03cf6454.js";import{__tla as _a}from"./Qrcode-40322773.js";import{__tla as na}from"./Qrcode.vue_vue_type_style_index_0_scoped_8fc6cf2d_lang-cc9cfa74.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as ia}from"./el-text-3f839333.js";import{__tla as ua}from"./IFrame.vue_vue_type_script_setup_true_lang-b745399c.js";import{__tla as ma}from"./vuedraggable.umd-08ee5cad.js";import{__tla as ca}from"./el-collapse-item-b89b6104.js";import{__tla as pa}from"./index-bd0d9e6c.js";let I,va=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return pa}catch{}})()]).then(async()=>{let i;i="diy_page_index",I=A({name:"DiyTemplateDecorate",__name:"decorate",setup(da){const e=l(0),m=B([{name:"\u57FA\u7840\u8BBE\u7F6E",icon:"ep:iphone"},{name:"\u9996\u9875",icon:"ep:home-filled"},{name:"\u6211\u7684",icon:"ep:user-filled"}]),y=la(),_=l(!1),r=l(),h=l(),o=l(),g=l(""),w=[],c=l(w),b=()=>{if(e.value===0)return c.value=w,void(o.value=r.value);c.value=R,o.value=r.value.pages.find(n=>n.name===m[e.value].name)},S=async()=>{if(h){_.value=!0;try{e.value===0?await X(a(r)):await aa(a(o)),y.success("\u4FDD\u5B58\u6210\u529F")}finally{_.value=!1}}},k=()=>D(),D=()=>sessionStorage.setItem(i,`${e.value}`),{currentRoute:p}=C(),{delView:P}=ta();return L(async()=>{var n;if(r.value={id:void 0,name:"",used:!1,usedTime:void 0,remark:"",previewPicUrls:[],property:"",pages:[]},(n=h.value)==null||n.resetFields(),!p.value.params.id)return y.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void P(a(p));await(async t=>{_.value=!0;try{r.value=await W(t),o.value=r.value;const v="http://mall.yudao.iocoder.cn";g.value=`${v}/#/pages/index/index?templateId=${r.value.id}`}finally{_.value=!1}})(p.value.params.id),(()=>{const t=G(sessionStorage.getItem(i))||0;sessionStorage.removeItem(i),t!==e.value&&(e.value=t,b())})()}),(n,t)=>{const v=H,U=J,$=K,z=N,F=T;return a(r)&&!a(_)?(d(),x(F,{key:0,modelValue:a(o).property,"onUpdate:modelValue":t[1]||(t[1]=s=>a(o).property=s),title:a(m)[a(e)].name,libs:a(c),"show-page-config":a(e)!==0,"show-tab-bar":a(e)===0,"show-navigation-bar":a(e)!==0,"preview-url":a(g),onSave:S,onReset:k},{toolBarLeft:u(()=>[f(z,{modelValue:a(e),"onUpdate:modelValue":t[0]||(t[0]=s=>Y(e)?e.value=s:null),class:"h-full!",onChange:b},{default:u(()=>[(d(!0),j(Q,null,M(a(m),(s,V)=>(d(),x($,{key:V,content:s.name},{default:u(()=>[f(U,{label:V},{default:u(()=>[f(v,{icon:s.icon,size:24},null,8,["icon"])]),_:2},1032,["label"])]),_:2},1032,["content"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title","libs","show-page-config","show-tab-bar","show-navigation-bar","preview-url"])):E("",!0)}}})});export{va as __tla,I as default};
