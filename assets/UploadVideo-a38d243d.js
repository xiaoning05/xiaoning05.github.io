import{d as D,aY as G,a2 as R,r as n,e as Y,o as j,v as E,w as t,f as o,h as p,a as e,l as F,g as P,D as H,bm as N,c7 as Q,Q as S,A as X,G as Z,cx as $,_ as z,__tla as J}from"./index-f0743f71.js";import{U as K,H as L,c as O,__tla as T}from"./upload-fd64910a.js";import{u as W,__tla as ee}from"./useMessage-75a00a06.js";import{U as ae,__tla as le}from"./useUpload-8303eb6e.js";let v,te=Promise.all([(()=>{try{return J}catch{}})(),(()=>{try{return T}catch{}})(),(()=>{try{return ee}catch{}})(),(()=>{try{return le}catch{}})()]).then(async()=>{let m;m=P("span",{class:"el-upload__tip",style:{"margin-left":"10px"}},"\u683C\u5F0F\u652F\u6301 MP4\uFF0C\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC7 10MB",-1),v=z(D({__name:"UploadVideo",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","uploaded"],setup(h,{emit:b}){const i=W(),U=G("accountId"),w={title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}],introduction:[{required:!0,message:"\u8BF7\u8F93\u5165\u63CF\u8FF0",trigger:"blur"}]},x=h,c=b,s=R({get:()=>x.modelValue,set(a){c("update:modelValue",a)}}),_=n([]),r=Y({type:ae.Video,title:"",introduction:"",accountId:U}),f=n(null),V=n(null),I=()=>{var a;(a=f.value)==null||a.validate(l=>{var u;if(!l)return!1;(u=V.value)==null||u.submit()})},k=a=>{if(a.code!==0)return i.error("\u4E0A\u4F20\u51FA\u9519\uFF1A"+a.msg),!1;_.value=[],r.title="",r.introduction="",s.value=!1,i.notifySuccess("\u4E0A\u4F20\u6210\u529F"),c("uploaded")},C=a=>i.error(`\u4E0A\u4F20\u5931\u8D25: ${a.message}`);return(a,l)=>{const u=H,M=N,q=Q,y=S,g=X,A=Z,B=$;return j(),E(B,{title:"\u65B0\u5EFA\u89C6\u9891",modelValue:e(s),"onUpdate:modelValue":l[3]||(l[3]=d=>F(s)?s.value=d:null),width:"600px"},{footer:t(()=>[o(u,{onClick:l[2]||(l[2]=d=>s.value=!1)},{default:t(()=>[p("\u53D6 \u6D88")]),_:1}),o(u,{type:"primary",onClick:I},{default:t(()=>[p("\u63D0 \u4EA4")]),_:1})]),default:t(()=>[o(M,{action:e(K),headers:e(L),multiple:"",limit:1,"file-list":e(_),data:e(r),"before-upload":e(O),"on-error":C,"on-success":k,ref_key:"uploadVideoRef",ref:V,"auto-upload":!1,class:"mb-5"},{trigger:t(()=>[o(u,{type:"primary",plain:""},{default:t(()=>[p("\u9009\u62E9\u89C6\u9891")]),_:1})]),tip:t(()=>[m]),_:1},8,["action","headers","file-list","data","before-upload"]),o(q),o(A,{model:e(r),rules:w,ref_key:"uploadFormRef",ref:f},{default:t(()=>[o(g,{label:"\u6807\u9898",prop:"title"},{default:t(()=>[o(y,{modelValue:e(r).title,"onUpdate:modelValue":l[0]||(l[0]=d=>e(r).title=d),placeholder:"\u6807\u9898\u5C06\u5C55\u793A\u5728\u76F8\u5173\u64AD\u653E\u9875\u9762\uFF0C\u5EFA\u8BAE\u586B\u5199\u6E05\u6670\u3001\u51C6\u786E\u3001\u751F\u52A8\u7684\u6807\u9898"},null,8,["modelValue"])]),_:1}),o(g,{label:"\u63CF\u8FF0",prop:"introduction"},{default:t(()=>[o(y,{rows:3,type:"textarea",modelValue:e(r).introduction,"onUpdate:modelValue":l[1]||(l[1]=d=>e(r).introduction=d),placeholder:"\u4ECB\u7ECD\u8BED\u5C06\u5C55\u793A\u5728\u76F8\u5173\u64AD\u653E\u9875\u9762\uFF0C\u5EFA\u8BAE\u586B\u5199\u7B80\u6D01\u660E\u786E\u3001\u6709\u4FE1\u606F\u91CF\u7684\u5185\u5BB9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mp/material/components/UploadVideo.vue"]])});export{te as __tla,v as default};
