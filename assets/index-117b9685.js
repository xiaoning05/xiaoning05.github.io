import{d as re,u as oe,r as i,n as ue,aR as de,p as pe,G as se,o as u,c as _,b as l,e as t,a,F as n,g as y,q as d,a0 as U,H as ie,w as C,$ as _e,h as b,f as ne,s as ce,x as me,y as ye,z as ve,L as fe,A as be,B as he,C as ke,i as Ve,v as we,_ as Ue,__tla as Ce}from"./index-b079f499.js";import{_ as Te,__tla as ge}from"./index-749396de.js";import{E as xe,a as Ee,b as Ie,__tla as Pe}from"./el-dropdown-item-91c82072.js";import{_ as De,__tla as Re}from"./ContentWrap-0fab5b86.js";import Se,{__tla as Ne}from"./OrderDeliveryForm-a6365c0f.js";import qe,{__tla as Ae}from"./OrderUpdateRemarkForm-548b364f.js";import{e as Ye,__tla as Oe}from"./index-e1f381f8.js";import{a as Fe,__tla as ze}from"./index-d029fce6.js";import{a as T,D as k,e as He,__tla as Le}from"./dict-2c56908b.js";import{g as Me,__tla as Ke}from"./index-bb33dbd4.js";import{D as g,T as Xe}from"./constants-99751ef9.js";import Ge,{__tla as je}from"./OrderTableColumn-7513a897.js";import{__tla as Be}from"./index-c1a7e444.js";import{__tla as Je}from"./index-3be78f60.js";import{__tla as Ze}from"./Dialog-07bcd661.js";import{__tla as $e}from"./useMessage-66b9cf03.js";import{__tla as Qe}from"./el-image-8a70494f.js";import{__tla as We}from"./el-image-viewer-3e8b0085.js";import{__tla as ea}from"./DictTag-6d4c3489.js";import"./color-f5b6e279.js";import{__tla as aa}from"./formatTime-0805635f.js";import{__tla as la}from"./index-1bcef585.js";let G,ta=Promise.all([(()=>{try{return Ce}catch{}})(),(()=>{try{return ge}catch{}})(),(()=>{try{return Pe}catch{}})(),(()=>{try{return Re}catch{}})(),(()=>{try{return Ne}catch{}})(),(()=>{try{return Ae}catch{}})(),(()=>{try{return Oe}catch{}})(),(()=>{try{return ze}catch{}})(),(()=>{try{return Le}catch{}})(),(()=>{try{return Ke}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return Be}catch{}})(),(()=>{try{return Je}catch{}})(),(()=>{try{return Ze}catch{}})(),(()=>{try{return $e}catch{}})(),(()=>{try{return Qe}catch{}})(),(()=>{try{return We}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})()]).then(async()=>{let D;D={class:"flex items-center justify-center"},G=Ue(re({name:"TradeOrder",__name:"index",setup(ra){const{currentRoute:j,push:B}=oe(),x=i(!0),R=i(2),E=i([]),S=i(),r=i({pageNo:1,pageSize:10,status:void 0,payChannelCode:void 0,createTime:void 0,terminal:void 0,type:void 0,deliveryType:void 0,logisticsId:void 0,pickUpStoreId:void 0,pickUpVerifyCode:void 0}),h=ue({queryParam:""}),N=i([{value:"no",label:"\u8BA2\u5355\u53F7"},{value:"userId",label:"\u7528\u6237UID"},{value:"userNickname",label:"\u7528\u6237\u6635\u79F0"},{value:"userMobile",label:"\u7528\u6237\u7535\u8BDD"}]),J=c=>{var o;(o=N.value.filter(p=>p.value!==c))==null||o.forEach(p=>{r.value.hasOwnProperty(p.value)&&delete r.value[p.value]})},v=async()=>{x.value=!0;try{const c=await Ye(a(r));E.value=c.list,R.value=c.total}finally{x.value=!1}},I=async()=>{r.value.pageNo=1,await v()},Z=()=>{var c;(c=S.value)==null||c.resetFields(),r.value={pageNo:1,pageSize:10,status:void 0,payChannelCode:void 0,createTime:void 0,terminal:void 0,type:void 0,deliveryType:void 0,logisticsId:void 0,pickUpStoreId:void 0,pickUpVerifyCode:void 0},I()},q=i(),A=i();de(()=>j.value,()=>{v()});const P=i([]),Y=i([]);return pe(async()=>{await v(),P.value=await Fe(),Y.value=await Me()}),(c,o)=>{const p=ce,m=me,s=ye,$=ve,O=fe,f=be,V=he,Q=ke,F=De,z=xe,W=Ee,ee=Ie,ae=Ve,le=Te,H=se("hasPermi"),te=we;return u(),_(n,null,[l(F,null,{default:t(()=>[l(Q,{ref_key:"queryFormRef",ref:S,inline:!0,model:a(r),class:"-mb-15px","label-width":"68px"},{default:t(()=>[l(s,{label:"\u8BA2\u5355\u72B6\u6001",prop:"status"},{default:t(()=>[l(m,{modelValue:a(r).status,"onUpdate:modelValue":o[0]||(o[0]=e=>a(r).status=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TRADE_ORDER_STATUS),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u652F\u4ED8\u65B9\u5F0F",prop:"payChannelCode"},{default:t(()=>[l(m,{modelValue:a(r).payChannelCode,"onUpdate:modelValue":o[1]||(o[1]=e=>a(r).payChannelCode=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(He)(a(k).PAY_CHANNEL_CODE),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{default:t(()=>[l($,{modelValue:a(r).createTime,"onUpdate:modelValue":o[2]||(o[2]=e=>a(r).createTime=e),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-280px","end-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4","start-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),l(s,{label:"\u8BA2\u5355\u6765\u6E90",prop:"terminal"},{default:t(()=>[l(m,{modelValue:a(r).terminal,"onUpdate:modelValue":o[3]||(o[3]=e=>a(r).terminal=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TERMINAL),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u8BA2\u5355\u7C7B\u578B",prop:"type"},{default:t(()=>[l(m,{modelValue:a(r).type,"onUpdate:modelValue":o[4]||(o[4]=e=>a(r).type=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TRADE_ORDER_TYPE),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u914D\u9001\u65B9\u5F0F",prop:"deliveryType"},{default:t(()=>[l(m,{modelValue:a(r).deliveryType,"onUpdate:modelValue":o[5]||(o[5]=e=>a(r).deliveryType=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TRADE_DELIVERY_TYPE),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r).deliveryType===a(g).EXPRESS.type?(u(),d(s,{key:0,label:"\u5FEB\u9012\u516C\u53F8",prop:"logisticsId"},{default:t(()=>[l(m,{modelValue:a(r).logisticsId,"onUpdate:modelValue":o[6]||(o[6]=e=>a(r).logisticsId=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(Y),e=>(u(),d(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):U("",!0),a(r).deliveryType===a(g).PICK_UP.type?(u(),d(s,{key:1,label:"\u81EA\u63D0\u95E8\u5E97",prop:"pickUpStoreId"},{default:t(()=>[l(m,{modelValue:a(r).pickUpStoreId,"onUpdate:modelValue":o[7]||(o[7]=e=>a(r).pickUpStoreId=e),class:"!w-280px",clearable:"",multiple:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(P),e=>(u(),d(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):U("",!0),a(r).deliveryType===a(g).PICK_UP.type?(u(),d(s,{key:2,label:"\u6838\u9500\u7801",prop:"pickUpVerifyCode"},{default:t(()=>[l(O,{modelValue:a(r).pickUpVerifyCode,"onUpdate:modelValue":o[8]||(o[8]=e=>a(r).pickUpVerifyCode=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u81EA\u63D0\u6838\u9500\u7801",onKeyup:ie(I,["enter"])},null,8,["modelValue"])]),_:1})):U("",!0),l(s,{label:"\u805A\u5408\u641C\u7D22"},{default:t(()=>[C(l(O,{modelValue:a(r)[a(h).queryParam],"onUpdate:modelValue":o[10]||(o[10]=e=>a(r)[a(h).queryParam]=e),type:a(h).queryParam==="userId"?"number":"text",class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165"},{prepend:t(()=>[l(m,{modelValue:a(h).queryParam,"onUpdate:modelValue":o[9]||(o[9]=e=>a(h).queryParam=e),class:"!w-110px",clearable:"",placeholder:"\u5168\u90E8",onChange:J},{default:t(()=>[(u(!0),_(n,null,y(a(N),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","type"]),[[_e,!0]])]),_:1}),l(s,null,{default:t(()=>[l(V,{onClick:I},{default:t(()=>[l(f,{class:"mr-5px",icon:"ep:search"}),b(" \u641C\u7D22 ")]),_:1}),l(V,{onClick:Z},{default:t(()=>[l(f,{class:"mr-5px",icon:"ep:refresh"}),b(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(F,null,{default:t(()=>[C((u(),d(ae,{data:a(E),"row-key":"id"},{default:t(()=>[l(a(Ge),{list:a(E),"pick-up-store-list":a(P)},{default:t(({row:e})=>[ne("div",D,[C((u(),d(V,{link:"",type:"primary",onClick:L=>{return w=e.id,void B({name:"TradeOrderDetail",params:{id:w}});var w}},{default:t(()=>[l(f,{icon:"ep:notification"}),b(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"])),[[H,["trade:order:query"]]]),C((u(),d(ee,{onCommand:L=>((w,M)=>{var K,X;switch(w){case"remark":(K=A.value)==null||K.open(M);break;case"delivery":(X=q.value)==null||X.open(M)}})(L,e)},{dropdown:t(()=>[l(W,null,{default:t(()=>[e.deliveryType===a(g).EXPRESS.type&&e.status===a(Xe).UNDELIVERED.status?(u(),d(z,{key:0,command:"delivery"},{default:t(()=>[l(f,{icon:"ep:takeaway-box"}),b(" \u53D1\u8D27 ")]),_:1})):U("",!0),l(z,{command:"remark"},{default:t(()=>[l(f,{icon:"ep:chat-line-square"}),b(" \u5907\u6CE8 ")]),_:1})]),_:2},1024)]),default:t(()=>[l(V,{link:"",type:"primary"},{default:t(()=>[l(f,{icon:"ep:d-arrow-right"}),b(" \u66F4\u591A ")]),_:1})]),_:2},1032,["onCommand"])),[[H,["trade:order:update"]]])])]),_:1},8,["list","pick-up-store-list"])]),_:1},8,["data"])),[[te,a(x)]]),l(le,{limit:a(r).pageSize,"onUpdate:limit":o[11]||(o[11]=e=>a(r).pageSize=e),page:a(r).pageNo,"onUpdate:page":o[12]||(o[12]=e=>a(r).pageNo=e),total:a(R),onPagination:v},null,8,["limit","page","total"])]),_:1}),l(Se,{ref_key:"deliveryFormRef",ref:q,onSuccess:v},null,512),l(qe,{ref_key:"updateRemarkForm",ref:A,onSuccess:v},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/trade/order/index.vue"]])});export{ta as __tla,G as default};
