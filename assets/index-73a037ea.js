import{d as re,u as oe,r as i,e as ue,aT as de,p as pe,L as se,o as u,c as _,f as l,w as t,a,F as n,q as y,v as d,a5 as U,M as ie,x as C,a4 as _e,h as b,g as ne,y as ce,z as me,A as ye,B as ve,Q as fe,C as be,D as he,G as ke,I as Ve,J as we,_ as Ue,__tla as Ce}from"./index-f0743f71.js";import{_ as Te,__tla as ge}from"./index-cf7b3541.js";import{E as Ie,a as xe,b as Ee,__tla as De}from"./el-dropdown-item-6b32a7c7.js";import{_ as Pe,__tla as Se}from"./ContentWrap-5acc4fb9.js";import Re,{__tla as Ne}from"./OrderDeliveryForm-77b4d289.js";import qe,{__tla as Ye}from"./OrderUpdateRemarkForm-867daa31.js";import{e as Ae,__tla as Me}from"./index-b7749803.js";import{a as Oe,__tla as ze}from"./index-59142bce.js";import{a as T,D as k,e as Fe,__tla as Le}from"./dict-4a9940b3.js";import{g as He,__tla as Ke}from"./index-a9ea201b.js";import{D as g,T as Xe}from"./constants-99751ef9.js";import Be,{__tla as Ge}from"./OrderTableColumn-2ffca148.js";import{__tla as je}from"./index-8beae3df.js";import{__tla as Je}from"./index-a48a5540.js";import{__tla as Qe}from"./Dialog-8f786edd.js";import{__tla as Ze}from"./useMessage-75a00a06.js";import{__tla as We}from"./el-image-015376ce.js";import{__tla as $e}from"./el-image-viewer-d97aa530.js";import{__tla as ea}from"./DictTag-4f08045a.js";import"./color-f5b6e279.js";import{__tla as aa}from"./formatTime-e6df2ea5.js";import{__tla as la}from"./index-4baae72c.js";let B,ta=Promise.all([(()=>{try{return Ce}catch{}})(),(()=>{try{return ge}catch{}})(),(()=>{try{return De}catch{}})(),(()=>{try{return Se}catch{}})(),(()=>{try{return Ne}catch{}})(),(()=>{try{return Ye}catch{}})(),(()=>{try{return Me}catch{}})(),(()=>{try{return ze}catch{}})(),(()=>{try{return Le}catch{}})(),(()=>{try{return Ke}catch{}})(),(()=>{try{return Ge}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return Je}catch{}})(),(()=>{try{return Qe}catch{}})(),(()=>{try{return Ze}catch{}})(),(()=>{try{return We}catch{}})(),(()=>{try{return $e}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})()]).then(async()=>{let P;P={class:"flex items-center justify-center"},B=Ue(re({name:"TradeOrder",__name:"index",setup(ra){const{currentRoute:G,push:j}=oe(),I=i(!0),S=i(2),x=i([]),R=i(),r=i({pageNo:1,pageSize:10,status:void 0,payChannelCode:void 0,createTime:void 0,terminal:void 0,type:void 0,deliveryType:void 0,logisticsId:void 0,pickUpStoreId:void 0,pickUpVerifyCode:void 0}),h=ue({queryParam:""}),N=i([{value:"no",label:"\u8BA2\u5355\u53F7"},{value:"userId",label:"\u7528\u6237UID"},{value:"userNickname",label:"\u7528\u6237\u6635\u79F0"},{value:"userMobile",label:"\u7528\u6237\u7535\u8BDD"}]),J=c=>{var o;(o=N.value.filter(p=>p.value!==c))==null||o.forEach(p=>{r.value.hasOwnProperty(p.value)&&delete r.value[p.value]})},v=async()=>{I.value=!0;try{const c=await Ae(a(r));x.value=c.list,S.value=c.total}finally{I.value=!1}},E=async()=>{r.value.pageNo=1,await v()},Q=()=>{var c;(c=R.value)==null||c.resetFields(),r.value={pageNo:1,pageSize:10,status:void 0,payChannelCode:void 0,createTime:void 0,terminal:void 0,type:void 0,deliveryType:void 0,logisticsId:void 0,pickUpStoreId:void 0,pickUpVerifyCode:void 0},E()},q=i(),Y=i();de(()=>G.value,()=>{v()});const D=i([]),A=i([]);return pe(async()=>{await v(),D.value=await Oe(),A.value=await He()}),(c,o)=>{const p=ce,m=me,s=ye,Z=ve,M=fe,f=be,V=he,W=ke,O=Pe,z=Ie,$=xe,ee=Ee,ae=Ve,le=Te,F=se("hasPermi"),te=we;return u(),_(n,null,[l(O,null,{default:t(()=>[l(W,{ref_key:"queryFormRef",ref:R,inline:!0,model:a(r),class:"-mb-15px","label-width":"68px"},{default:t(()=>[l(s,{label:"\u8BA2\u5355\u72B6\u6001",prop:"status"},{default:t(()=>[l(m,{modelValue:a(r).status,"onUpdate:modelValue":o[0]||(o[0]=e=>a(r).status=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TRADE_ORDER_STATUS),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u652F\u4ED8\u65B9\u5F0F",prop:"payChannelCode"},{default:t(()=>[l(m,{modelValue:a(r).payChannelCode,"onUpdate:modelValue":o[1]||(o[1]=e=>a(r).payChannelCode=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(Fe)(a(k).PAY_CHANNEL_CODE),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{default:t(()=>[l(Z,{modelValue:a(r).createTime,"onUpdate:modelValue":o[2]||(o[2]=e=>a(r).createTime=e),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-280px","end-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4","start-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),l(s,{label:"\u8BA2\u5355\u6765\u6E90",prop:"terminal"},{default:t(()=>[l(m,{modelValue:a(r).terminal,"onUpdate:modelValue":o[3]||(o[3]=e=>a(r).terminal=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TERMINAL),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u8BA2\u5355\u7C7B\u578B",prop:"type"},{default:t(()=>[l(m,{modelValue:a(r).type,"onUpdate:modelValue":o[4]||(o[4]=e=>a(r).type=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TRADE_ORDER_TYPE),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u914D\u9001\u65B9\u5F0F",prop:"deliveryType"},{default:t(()=>[l(m,{modelValue:a(r).deliveryType,"onUpdate:modelValue":o[5]||(o[5]=e=>a(r).deliveryType=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(T)(a(k).TRADE_DELIVERY_TYPE),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(r).deliveryType===a(g).EXPRESS.type?(u(),d(s,{key:0,label:"\u5FEB\u9012\u516C\u53F8",prop:"logisticsId"},{default:t(()=>[l(m,{modelValue:a(r).logisticsId,"onUpdate:modelValue":o[6]||(o[6]=e=>a(r).logisticsId=e),class:"!w-280px",clearable:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(A),e=>(u(),d(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):U("",!0),a(r).deliveryType===a(g).PICK_UP.type?(u(),d(s,{key:1,label:"\u81EA\u63D0\u95E8\u5E97",prop:"pickUpStoreId"},{default:t(()=>[l(m,{modelValue:a(r).pickUpStoreId,"onUpdate:modelValue":o[7]||(o[7]=e=>a(r).pickUpStoreId=e),class:"!w-280px",clearable:"",multiple:"",placeholder:"\u5168\u90E8"},{default:t(()=>[(u(!0),_(n,null,y(a(D),e=>(u(),d(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):U("",!0),a(r).deliveryType===a(g).PICK_UP.type?(u(),d(s,{key:2,label:"\u6838\u9500\u7801",prop:"pickUpVerifyCode"},{default:t(()=>[l(M,{modelValue:a(r).pickUpVerifyCode,"onUpdate:modelValue":o[8]||(o[8]=e=>a(r).pickUpVerifyCode=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u81EA\u63D0\u6838\u9500\u7801",onKeyup:ie(E,["enter"])},null,8,["modelValue"])]),_:1})):U("",!0),l(s,{label:"\u805A\u5408\u641C\u7D22"},{default:t(()=>[C(l(M,{modelValue:a(r)[a(h).queryParam],"onUpdate:modelValue":o[10]||(o[10]=e=>a(r)[a(h).queryParam]=e),type:a(h).queryParam==="userId"?"number":"text",class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165"},{prepend:t(()=>[l(m,{modelValue:a(h).queryParam,"onUpdate:modelValue":o[9]||(o[9]=e=>a(h).queryParam=e),class:"!w-110px",clearable:"",placeholder:"\u5168\u90E8",onChange:J},{default:t(()=>[(u(!0),_(n,null,y(a(N),e=>(u(),d(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","type"]),[[_e,!0]])]),_:1}),l(s,null,{default:t(()=>[l(V,{onClick:E},{default:t(()=>[l(f,{class:"mr-5px",icon:"ep:search"}),b(" \u641C\u7D22 ")]),_:1}),l(V,{onClick:Q},{default:t(()=>[l(f,{class:"mr-5px",icon:"ep:refresh"}),b(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(O,null,{default:t(()=>[C((u(),d(ae,{data:a(x),"row-key":"id"},{default:t(()=>[l(a(Be),{list:a(x),"pick-up-store-list":a(D)},{default:t(({row:e})=>[ne("div",P,[C((u(),d(V,{link:"",type:"primary",onClick:L=>{return w=e.id,void j({name:"TradeOrderDetail",params:{id:w}});var w}},{default:t(()=>[l(f,{icon:"ep:notification"}),b(" \u8BE6\u60C5 ")]),_:2},1032,["onClick"])),[[F,["trade:order:query"]]]),C((u(),d(ee,{onCommand:L=>((w,H)=>{var K,X;switch(w){case"remark":(K=Y.value)==null||K.open(H);break;case"delivery":(X=q.value)==null||X.open(H)}})(L,e)},{dropdown:t(()=>[l($,null,{default:t(()=>[e.deliveryType===a(g).EXPRESS.type&&e.status===a(Xe).UNDELIVERED.status?(u(),d(z,{key:0,command:"delivery"},{default:t(()=>[l(f,{icon:"ep:takeaway-box"}),b(" \u53D1\u8D27 ")]),_:1})):U("",!0),l(z,{command:"remark"},{default:t(()=>[l(f,{icon:"ep:chat-line-square"}),b(" \u5907\u6CE8 ")]),_:1})]),_:2},1024)]),default:t(()=>[l(V,{link:"",type:"primary"},{default:t(()=>[l(f,{icon:"ep:d-arrow-right"}),b(" \u66F4\u591A ")]),_:1})]),_:2},1032,["onCommand"])),[[F,["trade:order:update"]]])])]),_:1},8,["list","pick-up-store-list"])]),_:1},8,["data"])),[[te,a(I)]]),l(le,{limit:a(r).pageSize,"onUpdate:limit":o[11]||(o[11]=e=>a(r).pageSize=e),page:a(r).pageNo,"onUpdate:page":o[12]||(o[12]=e=>a(r).pageNo=e),total:a(S),onPagination:v},null,8,["limit","page","total"])]),_:1}),l(Re,{ref_key:"deliveryFormRef",ref:q,onSuccess:v},null,512),l(qe,{ref_key:"updateRemarkForm",ref:Y,onSuccess:v},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/trade/order/index.vue"]])});export{ta as __tla,B as default};
