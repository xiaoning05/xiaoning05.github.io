import{d as Y,u as j,r as s,n as q,p as F,S as L,a as r,o as p,q as m,e as t,w as N,b as a,h as f,t as k,f as E,j as R,E as X,ai as z,A as H,B as J,i as Z,a9 as K,v as Q,_ as V,__tla as W}from"./index-aaa5adb3.js";import{_ as $,__tla as aa}from"./ContentWrap-04d7f6d1.js";import{_ as ta,__tla as ra}from"./DictTag-1c1088ae.js";import{D as ea,__tla as la}from"./dict-f2796e71.js";import{b as _a,a as oa,__tla as sa}from"./index-e905fa46.js";import{c as na,__tla as ia}from"./index-dfe00c9c.js";import{b as ca}from"./formCreate-a3356cdc.js";import ua,{__tla as pa}from"./ProcessInstanceBpmnViewer-f77e16f1.js";import{u as ma,__tla as fa}from"./useMessage-873da1e2.js";import{E as ya,__tla as da}from"./index-5b7dcbf1.js";import"./color-f5b6e279.js";import{__tla as ha}from"./bpmn-embedded-bff76519.js";import{__tla as va}from"./Dialog-9a73a39c.js";import{__tla as ba}from"./XTextButton-f95f9235.js";import{__tla as ga}from"./XButton-74cf0ce2.js";import{__tla as wa}from"./el-collapse-item-085d40d1.js";import{__tla as Ca}from"./el-link-50478468.js";import{__tla as xa}from"./el-drawer-784a5f9a.js";import{__tla as ka}from"./formatTime-9c0e8879.js";let D,Ea=Promise.all([(()=>{try{return W}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return ga}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return xa}catch{}})(),(()=>{try{return ka}catch{}})()]).then(async()=>{let y,d;y={class:"clearfix"},d={class:"el-icon-document"},D=V(Y({name:"BpmProcessInstanceCreate",__name:"index",setup(Da){const h=j(),I=ma(),c=s(!0),v=s([]),P=q({suspensionState:1}),b=s(null),_=s(),u=s({rule:[],option:{}}),o=s(),S=async g=>{if(_.value&&o.value){_.value.btn.loading(!0);try{await na({processDefinitionId:o.value.id,variables:g}),I.success("\u53D1\u8D77\u6D41\u7A0B\u6210\u529F"),h.go(-1)}finally{_.value.btn.loading(!1)}}};return F(()=>{(async()=>{c.value=!0;try{v.value=await _a(P)}finally{c.value=!1}})()}),(g,i)=>{const n=X,A=ta,B=z,w=H,C=J,M=Z,x=$,O=L("form-create"),T=K,G=ya,U=Q;return r(o)?(p(),m(x,{key:1},{default:t(()=>[a(G,{class:"box-card"},{default:t(()=>[E("div",y,[E("span",d,"\u7533\u8BF7\u4FE1\u606F\u3010"+k(r(o).name)+"\u3011",1),a(C,{style:{float:"right"},type:"primary",onClick:i[0]||(i[0]=e=>o.value=void 0)},{default:t(()=>[a(w,{icon:"ep:delete"}),f(" \u9009\u62E9\u5176\u5B83\u6D41\u7A0B ")]),_:1})]),a(T,{span:16,offset:6,style:{"margin-top":"20px"}},{default:t(()=>[a(O,{rule:r(u).rule,api:r(_),"onUpdate:api":i[1]||(i[1]=e=>R(_)?_.value=e:null),option:r(u).option,onSubmit:S},null,8,["rule","api","option"])]),_:1})]),_:1}),a(ua,{"bpmn-xml":r(b)},null,8,["bpmn-xml"])]),_:1})):(p(),m(x,{key:0},{default:t(()=>[N((p(),m(M,{data:r(v)},{default:t(()=>[a(n,{label:"\u6D41\u7A0B\u540D\u79F0",align:"center",prop:"name"}),a(n,{label:"\u6D41\u7A0B\u5206\u7C7B",align:"center",prop:"category"},{default:t(e=>[a(A,{type:r(ea).BPM_MODEL_CATEGORY,value:e.row.category},null,8,["type","value"])]),_:1}),a(n,{label:"\u6D41\u7A0B\u7248\u672C",align:"center",prop:"version"},{default:t(e=>[a(B,null,{default:t(()=>[f("v"+k(e.row.version),1)]),_:2},1024)]),_:1}),a(n,{label:"\u6D41\u7A0B\u63CF\u8FF0",align:"center",prop:"description"}),a(n,{label:"\u64CD\u4F5C",align:"center"},{default:t(e=>[a(C,{link:"",type:"primary",onClick:Ia=>(async l=>{o.value=l,l.formType==10?(ca(u,l.formConf,l.formFields),b.value=await oa(l.id)):l.formCustomCreatePath&&await h.push({path:l.formCustomCreatePath})})(e.row)},{default:t(()=>[a(w,{icon:"ep:plus"}),f(" \u9009\u62E9 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[U,r(c)]])]),_:1}))}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/bpm/processInstance/create/index.vue"]])});export{Ea as __tla,D as default};
