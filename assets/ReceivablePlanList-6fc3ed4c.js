import{d as S,r as s,n as x,u as D,aR as U,o as y,c as L,b as a,e as _,h as b,w as M,q,a as t,t as A,F as B,A as Y,B as j,ab as F,E as G,i as O,v as V,_ as X,__tla as Z}from"./index-aaa5adb3.js";import{_ as H,__tla as J}from"./ContentWrap-04d7f6d1.js";import{_ as K,__tla as Q}from"./index-b47c179c.js";import{_ as W,__tla as $}from"./DictTag-1c1088ae.js";import{E as aa,__tla as ta}from"./el-link-50478468.js";import{a as ra,__tla as ea}from"./index-751f946d.js";import la,{__tla as _a}from"./ReceivablePlanForm-8eb85f5e.js";import{B as oa,__tla as ia}from"./index-1f097625.js";import{d as na,__tla as sa}from"./formatTime-9c0e8879.js";import{f as pa,__tla as ca}from"./formatter-4b6b63b7.js";import{D as ma,__tla as ua}from"./dict-f2796e71.js";import{__tla as fa}from"./index-5b7dcbf1.js";import{__tla as da}from"./index-c602062a.js";import"./color-f5b6e279.js";import{__tla as ya}from"./Dialog-9a73a39c.js";import{__tla as ba}from"./index-c1a6a53a.js";import{__tla as ha}from"./useMessage-873da1e2.js";let h,va=Promise.all([(()=>{try{return Z}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return ha}catch{}})()]).then(async()=>{h=X(S({name:"CrmReceivablePlanList",__name:"ReceivablePlanList",props:{bizType:{type:Number,required:!0},bizId:{type:Number,required:!0}},setup(v){const o=v,p=s(!0),m=s(0),u=s([]),r=x({pageNo:1,pageSize:10,customerId:void 0}),c=async()=>{p.value=!0;try{r.customerId=void 0;let i={list:[],total:0};if(o.bizType!==oa.CRM_CUSTOMER)return;r.customerId=o.bizId,i=await ra(r),u.value=i.list,m.value=i.total}finally{p.value=!1}},f=s(),g=()=>{f.value.open("create")},{push:R}=D();return U(()=>[o.bizId,o.bizType],()=>{r.pageNo=1,c()},{immediate:!0,deep:!0}),(i,n)=>{const N=Y,w=j,C=F,E=aa,e=G,z=W,I=O,T=K,P=H,k=V;return y(),L(B,null,[a(C,{justify:"end"},{default:_(()=>[a(w,{onClick:g},{default:_(()=>[a(N,{class:"mr-5px",icon:"icon-park:income"}),b(" \u521B\u5EFA\u56DE\u6B3E\u8BA1\u5212 ")]),_:1})]),_:1}),a(P,{class:"mt-10px"},{default:_(()=>[M((y(),q(I,{data:t(u),stripe:!0,"show-overflow-tooltip":!0},{default:_(()=>[a(e,{label:"\u671F\u6570",fixed:"left",align:"center",prop:"no"},{default:_(l=>[a(E,{type:"primary",underline:!1,onClick:ga=>{return d=l.row.id,void R({name:"CrmReceivablePlanDetail",params:{id:d}});var d}},{default:_(()=>[b(A(l.row.period),1)]),_:2},1032,["onClick"])]),_:1}),a(e,{label:"\u5BA2\u6237\u540D\u79F0",align:"center",prop:"customerName"}),a(e,{label:"\u5408\u540C\u7F16\u53F7",align:"center",prop:"contractNo"}),a(e,{label:"\u8BA1\u5212\u8FD8\u6B3E\u91D1\u989D\uFF08\u5143\uFF09",align:"center",prop:"price",formatter:t(pa)},null,8,["formatter"]),a(e,{label:"\u8BA1\u5212\u8FD8\u6B3E\u65E5\u671F",align:"center",prop:"returnTime",formatter:t(na),width:"180px"},null,8,["formatter"]),a(e,{align:"center",label:"\u8BA1\u5212\u8FD8\u6B3E\u65B9\u5F0F",prop:"auditStatus"},{default:_(l=>[a(z,{type:t(ma).CRM_RECEIVABLE_RETURN_TYPE,value:l.row.returnType},null,8,["type","value"])]),_:1}),a(e,{label:"\u63D0\u524D\u51E0\u65E5\u63D0\u9192",align:"center",prop:"remindDays"}),a(e,{label:"\u5907\u6CE8",align:"center",prop:"remark"})]),_:1},8,["data"])),[[k,t(p)]]),a(T,{total:t(m),page:t(r).pageNo,"onUpdate:page":n[0]||(n[0]=l=>t(r).pageNo=l),limit:t(r).pageSize,"onUpdate:limit":n[1]||(n[1]=l=>t(r).pageSize=l),onPagination:c},null,8,["total","page","limit"])]),_:1}),a(la,{ref_key:"formRef",ref:f,onSuccess:c},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/receivable/plan/components/ReceivablePlanList.vue"]])});export{va as __tla,h as default};
