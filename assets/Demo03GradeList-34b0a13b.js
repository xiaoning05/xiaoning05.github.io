import{d as E,k as L,r as c,n as P,aR as F,G as M,o as i,c as R,b as t,e as s,w as p,q as d,h,a as e,F as j,A as B,B as T,E as X,i as Y,v as Z,_ as H,__tla as J}from"./index-aaa5adb3.js";import{_ as K,__tla as O}from"./ContentWrap-04d7f6d1.js";import{_ as Q,__tla as V}from"./index-b47c179c.js";import{d as W,__tla as $}from"./formatTime-9c0e8879.js";import{k as tt,l as at,__tla as et}from"./index-e63b2b27.js";import rt,{__tla as lt}from"./Demo03GradeForm-e6a2b030.js";import{u as ot,__tla as st}from"./useMessage-873da1e2.js";import{__tla as nt}from"./index-5b7dcbf1.js";import{__tla as it}from"./index-c602062a.js";import{__tla as _t}from"./Dialog-9a73a39c.js";let I,ct=Promise.all([(()=>{try{return J}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return V}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return et}catch{}})(),(()=>{try{return lt}catch{}})(),(()=>{try{return st}catch{}})(),(()=>{try{return nt}catch{}})(),(()=>{try{return it}catch{}})(),(()=>{try{return _t}catch{}})()]).then(async()=>{I=H(E({__name:"Demo03GradeList",props:{studentId:{type:null,required:!0}},setup(b){const{t:N}=L(),u=ot(),m=b,f=c(!1),w=c([]),k=c(0),r=P({pageNo:1,pageSize:10,studentId:void 0});F(()=>m.studentId,l=>{r.studentId=l,G()},{immediate:!1});const _=async()=>{f.value=!0;try{const l=await tt(r);w.value=l.list,k.value=l.total}finally{f.value=!1}},G=()=>{r.pageNo=1,_()},v=c(),C=(l,a)=>{m.studentId?v.value.open(l,a,m.studentId):u.error("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5B66\u751F")};return(l,a)=>{const S=B,y=T,n=X,D=Y,q=Q,x=K,g=M("hasPermi"),z=Z;return i(),R(j,null,[t(x,null,{default:s(()=>[p((i(),d(y,{type:"primary",plain:"",onClick:a[0]||(a[0]=o=>C("create"))},{default:s(()=>[t(S,{icon:"ep:plus",class:"mr-5px"}),h(" \u65B0\u589E ")]),_:1})),[[g,["infra:demo03-student:create"]]]),p((i(),d(D,{data:e(w),stripe:!0,"show-overflow-tooltip":!0},{default:s(()=>[t(n,{label:"\u7F16\u53F7",align:"center",prop:"id"}),t(n,{label:"\u540D\u5B57",align:"center",prop:"name"}),t(n,{label:"\u73ED\u4E3B\u4EFB",align:"center",prop:"teacher"}),t(n,{label:"\u521B\u5EFA\u65F6\u95F4",align:"center",prop:"createTime",formatter:e(W),width:"180px"},null,8,["formatter"]),t(n,{label:"\u64CD\u4F5C",align:"center"},{default:s(o=>[p((i(),d(y,{link:"",type:"primary",onClick:U=>C("update",o.row.id)},{default:s(()=>[h(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[g,["infra:demo03-student:update"]]]),p((i(),d(y,{link:"",type:"danger",onClick:U=>(async A=>{try{await u.delConfirm(),await at(A),u.success(N("common.delSuccess")),await _()}catch{}})(o.row.id)},{default:s(()=>[h(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[g,["infra:demo03-student:delete"]]])]),_:1})]),_:1},8,["data"])),[[z,e(f)]]),t(q,{total:e(k),page:e(r).pageNo,"onUpdate:page":a[1]||(a[1]=o=>e(r).pageNo=o),limit:e(r).pageSize,"onUpdate:limit":a[2]||(a[2]=o=>e(r).pageSize=o),onPagination:_},null,8,["total","page","limit"])]),_:1}),t(rt,{ref_key:"formRef",ref:v,onSuccess:_},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/infra/demo/demo03/erp/components/Demo03GradeList.vue"]])});export{ct as __tla,I as default};
