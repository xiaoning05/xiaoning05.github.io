import{d as J,d_ as Q,i as W,r as i,e as X,p as Y,K as Z,o as n,c as g,f as a,w as e,a as t,L as aa,F as A,q as ea,v as p,h as c,x as m,a4 as la,am as ta,d$ as N,P as ra,A as oa,y as sa,z as na,_ as ca,C as _a,D as ua,G as ia,H as pa,I as ma,__tla as da}from"./index-d5b00dc9.js";import{_ as fa,__tla as ya}from"./DictTag.vue_vue_type_script_lang-2a9ae33e.js";import{_ as ha,__tla as wa}from"./ContentWrap.vue_vue_type_script_setup_true_lang-29ba9b6b.js";import{_ as va,__tla as ka}from"./index-2b365e22.js";import{a as ba,D as E,__tla as Ca}from"./dict-29b94c3f.js";import{h as xa}from"./tree-82bb3b99.js";import{b as Sa,d as Oa,__tla as Ra}from"./index-db1339ed.js";import{_ as Ua,__tla as Va}from"./MenuForm.vue_vue_type_script_setup_true_lang-3abdbe2c.js";import{u as Ma,__tla as Ta}from"./useMessage-2288a5f2.js";import"./color-f5b6e279.js";import{__tla as ga}from"./index-bd0d9e6c.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as Aa}from"./Dialog.vue_vue_type_style_index_0_lang-03cf6454.js";import{__tla as Na}from"./index-9ed43bfb.js";import{__tla as Ea}from"./el-tree-select-8e562b9e.js";import"./constants-99751ef9.js";let F,Fa=Promise.all([(()=>{try{return da}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Ra}catch{}})(),(()=>{try{return Va}catch{}})(),(()=>{try{return Ta}catch{}})(),(()=>{try{return ga}catch{}})(),(()=>{try{return Aa}catch{}})(),(()=>{try{return Na}catch{}})(),(()=>{try{return Ea}catch{}})()]).then(async()=>{F=J({name:"SystemMenu",__name:"index",setup(Ia){const{wsCache:O}=Q(),{t:I}=W(),w=Ma(),v=i(!0),R=i([]),_=X({name:void 0,status:void 0}),U=i(),k=i(!1),b=i(!0),d=async()=>{v.value=!0;try{const f=await Sa(_);R.value=xa(f)}finally{v.value=!1}},C=()=>{d()},P=()=>{U.value.resetFields(),C()},V=i(),x=(f,r,y)=>{V.value.open(f,r,y)},q=()=>{b.value=!1,k.value=!k.value,ta(()=>{b.value=!0})},D=async()=>{try{await w.confirm("\u5373\u5C06\u66F4\u65B0\u7F13\u5B58\u5237\u65B0\u6D4F\u89C8\u5668\uFF01","\u5237\u65B0\u83DC\u5355\u7F13\u5B58"),O.delete(N.USER),O.delete(N.ROLE_ROUTERS),location.reload()}catch{}};return Y(()=>{d()}),(f,r)=>{const y=va,H=ra,S=oa,K=sa,L=na,u=ca,o=_a,z=ua,M=ha,s=ia,G=fa,$=pa,h=Z("hasPermi"),j=ma;return n(),g(A,null,[a(y,{title:"\u529F\u80FD\u6743\u9650",url:"https://doc.iocoder.cn/resource-permission"}),a(y,{title:"\u83DC\u5355\u8DEF\u7531",url:"https://doc.iocoder.cn/vue3/route/"}),a(M,null,{default:e(()=>[a(z,{ref_key:"queryFormRef",ref:U,inline:!0,model:t(_),class:"-mb-15px","label-width":"68px"},{default:e(()=>[a(S,{label:"\u83DC\u5355\u540D\u79F0",prop:"name"},{default:e(()=>[a(H,{modelValue:t(_).name,"onUpdate:modelValue":r[0]||(r[0]=l=>t(_).name=l),class:"!w-240px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",onKeyup:aa(C,["enter"])},null,8,["modelValue"])]),_:1}),a(S,{label:"\u72B6\u6001",prop:"status"},{default:e(()=>[a(L,{modelValue:t(_).status,"onUpdate:modelValue":r[1]||(r[1]=l=>t(_).status=l),class:"!w-240px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u83DC\u5355\u72B6\u6001"},{default:e(()=>[(n(!0),g(A,null,ea(t(ba)(t(E).COMMON_STATUS),l=>(n(),p(K,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(S,null,{default:e(()=>[a(o,{onClick:C},{default:e(()=>[a(u,{class:"mr-5px",icon:"ep:search"}),c(" \u641C\u7D22 ")]),_:1}),a(o,{onClick:P},{default:e(()=>[a(u,{class:"mr-5px",icon:"ep:refresh"}),c(" \u91CD\u7F6E ")]),_:1}),m((n(),p(o,{plain:"",type:"primary",onClick:r[2]||(r[2]=l=>x("create"))},{default:e(()=>[a(u,{class:"mr-5px",icon:"ep:plus"}),c(" \u65B0\u589E ")]),_:1})),[[h,["system:menu:create"]]]),a(o,{plain:"",type:"danger",onClick:q},{default:e(()=>[a(u,{class:"mr-5px",icon:"ep:sort"}),c(" \u5C55\u5F00/\u6298\u53E0 ")]),_:1}),a(o,{plain:"",onClick:D},{default:e(()=>[a(u,{class:"mr-5px",icon:"ep:refresh"}),c(" \u5237\u65B0\u83DC\u5355\u7F13\u5B58 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(M,null,{default:e(()=>[t(b)?m((n(),p($,{key:0,data:t(R),"default-expand-all":t(k),"row-key":"id"},{default:e(()=>[a(s,{"show-overflow-tooltip":!0,label:"\u83DC\u5355\u540D\u79F0",prop:"name",width:"250"}),a(s,{align:"center",label:"\u56FE\u6807",prop:"icon",width:"100"},{default:e(l=>[a(u,{icon:l.row.icon},null,8,["icon"])]),_:1}),a(s,{label:"\u6392\u5E8F",prop:"sort",width:"60"}),a(s,{"show-overflow-tooltip":!0,label:"\u6743\u9650\u6807\u8BC6",prop:"permission"}),a(s,{"show-overflow-tooltip":!0,label:"\u7EC4\u4EF6\u8DEF\u5F84",prop:"component"}),a(s,{"show-overflow-tooltip":!0,label:"\u7EC4\u4EF6\u540D\u79F0",prop:"componentName"}),a(s,{label:"\u72B6\u6001",prop:"status",width:"80"},{default:e(l=>[a(G,{type:t(E).COMMON_STATUS,value:l.row.status},null,8,["type","value"])]),_:1}),a(s,{align:"center",label:"\u64CD\u4F5C"},{default:e(l=>[m((n(),p(o,{link:"",type:"primary",onClick:T=>x("update",l.row.id)},{default:e(()=>[c(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[h,["system:menu:update"]]]),m((n(),p(o,{link:"",type:"primary",onClick:T=>x("create",void 0,l.row.id)},{default:e(()=>[c(" \u65B0\u589E ")]),_:2},1032,["onClick"])),[[h,["system:menu:create"]]]),m((n(),p(o,{link:"",type:"danger",onClick:T=>(async B=>{try{await w.delConfirm(),await Oa(B),w.success(I("common.delSuccess")),await d()}catch{}})(l.row.id)},{default:e(()=>[c(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[h,["system:menu:delete"]]])]),_:1})]),_:1},8,["data","default-expand-all"])),[[j,t(v)]]):la("",!0)]),_:1}),a(Ua,{ref_key:"formRef",ref:V,onSuccess:d},null,512)],64)}}})});export{Fa as __tla,F as default};
