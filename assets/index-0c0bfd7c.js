import{d as Q,r as y,u as V,C as j,p as G,D as J,o as m,c as K,b as a,e as _,a as t,w as N,q as f,h as s,$ as p,F as X,A as Y,l as Z,m as tt,a8 as at,__tla as rt}from"./index-34f06ebd.js";import{g as _t,_ as lt,__tla as et}from"./index-cb9c746b.js";import{u as it,__tla as ot}from"./tagsView-0be307a7.js";import{c as ct,t as mt,l as T,r as st,p as ut,__tla as nt}from"./index-93aed665.js";import{_ as yt,__tla as ft}from"./CustomerForm.vue_vue_type_script_setup_true_lang-369a4db1.js";import{_ as pt,__tla as ht}from"./CustomerDetailsInfo.vue_vue_type_script_setup_true_lang-6cd26d11.js";import{_ as dt,__tla as bt}from"./CustomerDetailsHeader.vue_vue_type_script_setup_true_lang-eae65437.js";import{_ as zt,__tla as vt}from"./ContactList.vue_vue_type_script_setup_true_lang-1b94d07e.js";import{_ as wt,__tla as Ct}from"./ContractList.vue_vue_type_script_setup_true_lang-c2ef6609.js";import{_ as Rt,__tla as kt}from"./BusinessList.vue_vue_type_script_setup_true_lang-2f8af0a5.js";import{_ as Mt,__tla as Ot}from"./ReceivableList.vue_vue_type_script_setup_true_lang-acb749b3.js";import{_ as Ut,__tla as St}from"./ReceivablePlanList.vue_vue_type_script_setup_true_lang-0d223213.js";import{_ as Tt,__tla as $t}from"./PermissionList.vue_vue_type_script_setup_true_lang-200f292a.js";import{_ as Et,__tla as gt}from"./TransferForm.vue_vue_type_script_setup_true_lang-d26834ea.js";import{_ as Dt,__tla as It}from"./index.vue_vue_type_script_setup_true_lang-b6bc0a9d.js";import{B as u,__tla as Pt}from"./index-ad2ad2c3.js";import{u as xt,__tla as Ft}from"./useMessage-7a5ab7ef.js";import{__tla as Wt}from"./el-timeline-item-d0b9b464.js";import{__tla as qt}from"./formatTime-ed0a77fd.js";import{__tla as At}from"./dict-e142e39a.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as Bt}from"./Dialog.vue_vue_type_style_index_0_lang-08560286.js";import{__tla as Ht}from"./el-tree-select-45b5cb50.js";import{__tla as Lt}from"./index-e7762555.js";import"./tree-82bb3b99.js";import{__tla as Qt}from"./index-cd2bb9f6.js";import{__tla as Vt}from"./ContentWrap.vue_vue_type_script_setup_true_lang-80915c85.js";import{__tla as jt}from"./index-460c50ff.js";import{__tla as Gt}from"./el-collapse-item-c051ca56.js";import{__tla as Jt}from"./el-descriptions-item-a4aeefac.js";import{__tla as Kt}from"./DictTag.vue_vue_type_script_lang-942df0b2.js";import"./color-f5b6e279.js";import{__tla as Nt}from"./index.vue_vue_type_script_setup_true_lang-68fe248c.js";import{__tla as Xt}from"./index-f8693880.js";import{__tla as Yt}from"./el-link-6a9ddb0c.js";import{__tla as Zt}from"./index-f9574535.js";import{__tla as ta}from"./ContactForm.vue_vue_type_script_setup_true_lang-d3cc1164.js";import{__tla as aa}from"./index-e159fffb.js";import{__tla as ra}from"./ContractForm.vue_vue_type_script_setup_true_lang-e3adda46.js";import{__tla as _a}from"./index-afd15d48.js";import{__tla as la}from"./ProductList.vue_vue_type_script_setup_true_lang-ad83c411.js";import{__tla as ea}from"./index-7e724689.js";import{__tla as ia}from"./formatter-20c10600.js";import{__tla as oa}from"./Table.vue_vue_type_style_index_0_scoped_1ee0f9ba_lang-2275dbf6.js";import{__tla as ca}from"./tsxHelper-15dafc9f.js";import{__tla as ma}from"./BusinessForm.vue_vue_type_script_setup_true_lang-b82751f9.js";import{__tla as sa}from"./index-a1941d5a.js";import{__tla as ua}from"./BusinessListModal.vue_vue_type_script_setup_true_lang-020a14c9.js";import{__tla as na}from"./index-f018baa9.js";import{__tla as ya}from"./ReceivableForm.vue_vue_type_script_setup_true_lang-be8cdd5b.js";import{__tla as fa}from"./index-93eaa981.js";import{__tla as pa}from"./ReceivablePlanForm.vue_vue_type_script_setup_true_lang-a83abe7a.js";import{__tla as ha}from"./PermissionForm.vue_vue_type_script_setup_true_lang-56c4e6d5.js";import{__tla as da}from"./FollowUpRecordForm.vue_vue_type_script_setup_true_lang-1319857e.js";import{__tla as ba}from"./UploadFile-ebcd7c2f.js";import{__tla as za}from"./UploadFile.vue_vue_type_style_index_0_scoped_3311e906_lang-748505e2.js";import{__tla as va}from"./useUpload-76a6f89f.js";import{__tla as wa}from"./index-176464f7.js";import{__tla as Ca}from"./UploadImgs-1bb9a3a3.js";import{__tla as Ra}from"./UploadImgs.vue_vue_type_style_index_0_scoped_78c552d7_lang-81992fa6.js";import{__tla as ka}from"./el-image-viewer-331eba6f.js";import{__tla as Ma}from"./BusinessList.vue_vue_type_script_setup_true_lang-5d4fdc5d.js";import{__tla as Oa}from"./BusinessTableSelect.vue_vue_type_script_setup_true_lang-3a66e5a0.js";import{__tla as Ua}from"./ContactList.vue_vue_type_script_setup_true_lang-0bb7fb36.js";import{__tla as Sa}from"./ContactTableSelect.vue_vue_type_script_setup_true_lang-7833d283.js";let $,Ta=Promise.all([(()=>{try{return rt}catch{}})(),(()=>{try{return et}catch{}})(),(()=>{try{return ot}catch{}})(),(()=>{try{return nt}catch{}})(),(()=>{try{return ft}catch{}})(),(()=>{try{return ht}catch{}})(),(()=>{try{return bt}catch{}})(),(()=>{try{return vt}catch{}})(),(()=>{try{return Ct}catch{}})(),(()=>{try{return kt}catch{}})(),(()=>{try{return Ot}catch{}})(),(()=>{try{return St}catch{}})(),(()=>{try{return $t}catch{}})(),(()=>{try{return gt}catch{}})(),(()=>{try{return It}catch{}})(),(()=>{try{return Pt}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Wt}catch{}})(),(()=>{try{return qt}catch{}})(),(()=>{try{return At}catch{}})(),(()=>{try{return Bt}catch{}})(),(()=>{try{return Ht}catch{}})(),(()=>{try{return Lt}catch{}})(),(()=>{try{return Qt}catch{}})(),(()=>{try{return Vt}catch{}})(),(()=>{try{return jt}catch{}})(),(()=>{try{return Gt}catch{}})(),(()=>{try{return Jt}catch{}})(),(()=>{try{return Kt}catch{}})(),(()=>{try{return Nt}catch{}})(),(()=>{try{return Xt}catch{}})(),(()=>{try{return Yt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return za}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Ra}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return Oa}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return Sa}catch{}})()]).then(async()=>{$=Q({name:"CrmCustomerDetail",__name:"index",setup($a){const l=y(0),z=y(!0),e=xt(),{delView:E}=it(),{currentRoute:g}=V(),o=y(),r=y({}),h=async()=>{z.value=!0;try{r.value=await ct(l.value),await q()}finally{z.value=!1}},v=y(),D=()=>{var c;(c=v.value)==null||c.open("update",l.value)},w=y(),I=()=>{var c;(c=w.value)==null||c.open("\u5BA2\u6237\u8F6C\u79FB",l.value,mt)},P=async()=>{await e.confirm(`\u786E\u5B9A\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!0),e.success(`\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},x=async()=>{await e.confirm(`\u786E\u5B9A\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!1),e.success(`\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},F=async()=>{await e.confirm(`\u786E\u5B9A\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await st([t(l.value)]),e.success(`\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},W=async()=>{await e.confirm(`\u786E\u5B9A\u5C06\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u5417\uFF1F`),await ut(t(l.value)),e.success(`\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u6210\u529F`),b()},C=y([]),q=async()=>{if(!l.value)return;const c=await _t({bizType:u.CRM_CUSTOMER,bizId:l.value});C.value=c.list},b=()=>{E(t(g))},{params:R}=j();return G(()=>{if(!R.id)return e.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u5BA2\u6237\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void b();l.value=R.id,h()}),(c,Ea)=>{const n=Y,i=Z,A=lt,B=tt,H=at,L=J("hasPermi");return m(),K(X,null,[a(dt,{customer:t(r),loading:t(z)},{default:_(()=>{var d,k,M,O,U,S;return[(d=t(o))!=null&&d.validateWrite?N((m(),f(n,{key:0,type:"primary",onClick:D},{default:_(()=>[s(" \u7F16\u8F91 ")]),_:1})),[[L,["crm:customer:update"]]]):p("",!0),(k=t(o))!=null&&k.validateOwnerUser?(m(),f(n,{key:1,type:"primary",onClick:I},{default:_(()=>[s(" \u8F6C\u79FB ")]),_:1})):p("",!0),(M=t(o))!=null&&M.validateWrite?(m(),f(n,{key:2},{default:_(()=>[s("\u66F4\u6539\u6210\u4EA4\u72B6\u6001")]),_:1})):p("",!0),t(r).lockStatus&&((O=t(o))!=null&&O.validateOwnerUser)?(m(),f(n,{key:3,onClick:x},{default:_(()=>[s(" \u89E3\u9501 ")]),_:1})):p("",!0),!t(r).lockStatus&&((U=t(o))!=null&&U.validateOwnerUser)?(m(),f(n,{key:4,onClick:P},{default:_(()=>[s(" \u9501\u5B9A ")]),_:1})):p("",!0),t(r).ownerUserId?p("",!0):(m(),f(n,{key:5,type:"primary",onClick:F},{default:_(()=>[s(" \u9886\u53D6\u5BA2\u6237 ")]),_:1})),t(r).ownerUserId&&((S=t(o))!=null&&S.validateOwnerUser)?(m(),f(n,{key:6,onClick:W},{default:_(()=>[s(" \u5BA2\u6237\u653E\u5165\u516C\u6D77 ")]),_:1})):p("",!0)]}),_:1},8,["customer","loading"]),a(H,null,{default:_(()=>[a(B,null,{default:_(()=>[a(i,{label:"\u8DDF\u8FDB\u8BB0\u5F55"},{default:_(()=>[a(Dt,{"biz-id":t(l),"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u57FA\u672C\u4FE1\u606F"},{default:_(()=>[a(pt,{customer:t(r)},null,8,["customer"])]),_:1}),a(i,{label:"\u8054\u7CFB\u4EBA",lazy:""},{default:_(()=>[a(zt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56E2\u961F\u6210\u5458"},{default:_(()=>{var d;return[a(Tt,{ref_key:"permissionListRef",ref:o,"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER,"show-action":!((d=t(o))!=null&&d.isPool)||!1,onQuitTeam:b},null,8,["biz-id","biz-type","show-action"])]}),_:1}),a(i,{label:"\u5546\u673A",lazy:""},{default:_(()=>[a(Rt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u5408\u540C",lazy:""},{default:_(()=>[a(wt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56DE\u6B3E",lazy:""},{default:_(()=>[a(Ut,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"]),a(Mt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u64CD\u4F5C\u65E5\u5FD7"},{default:_(()=>[a(A,{"log-list":t(C)},null,8,["log-list"])]),_:1}),a(i,{label:"\u56DE\u8BBF",lazy:""},{default:_(()=>[s("TODO \u5F85\u5F00\u53D1")]),_:1})]),_:1})]),_:1}),a(yt,{ref_key:"formRef",ref:v,onSuccess:h},null,512),a(Et,{ref_key:"crmTransferFormRef",ref:w,onSuccess:b},null,512)],64)}}})});export{Ta as __tla,$ as default};
