import{d as R,ah as r,r as m,p as V,a as t,a2 as k,aT as A,x as X,J as Y,f as s,I as Z,ak as P,s as ee,H as x,__tla as ae}from"./index-f0743f71.js";import{g as v,__tla as te}from"./tsxHelper-0d496dea.js";import{E as ne,__tla as le}from"./index-8beae3df.js";let W,re=Promise.all([(()=>{try{return ae}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return le}catch{}})()]).then(async()=>{W=R({name:"Table",props:{pageSize:r.number.def(10),currentPage:r.number.def(1),selection:r.bool.def(!1),showOverflowTooltip:r.bool.def(!0),columns:{type:Array,default:()=>[]},expand:r.bool.def(!1),pagination:{type:Object,default:()=>{}},reserveSelection:r.bool.def(!1),loading:r.bool.def(!1),reserveIndex:r.bool.def(!1),align:r.string.validate(i=>["left","center","right"].includes(i)).def("center"),headerAlign:r.string.validate(i=>["left","center","right"].includes(i)).def("center"),data:{type:Array,default:()=>[]}},emits:["update:pageSize","update:currentPage","register"],setup(i,{attrs:q,slots:g,emit:z,expose:B}){const O=m();V(()=>{const e=t(O);z("register",e==null?void 0:e.$parent,O)});const w=m(i.pageSize),_=m(i.currentPage),D=m({}),T=m({}),l=k(()=>{const e={...i};return Object.assign(e,t(T)),e}),C=(e,c)=>{var o;const{columns:u}=t(l);for(const p of c||u)for(const f of e)p.field===f.field?ee(p,f.path,f.value):(o=p.children)!=null&&o.length&&C(e,p.children)},U=m([]),F=e=>{U.value=e};B({setProps:(e={})=>{T.value=Object.assign(t(T),e),D.value=e},setColumn:C,selections:U});const G=k(()=>Object.assign({small:!1,background:!0,pagerCount:document.body.clientWidth<992?5:7,layout:"total, sizes, prev, pager, next, jumper",pageSizes:[10,20,30,50,100],disabled:!1,hideOnSinglePage:!1,total:10},t(l).pagination));A(()=>t(l).pageSize,e=>{w.value=e}),A(()=>t(l).currentPage,e=>{_.value=e}),A(()=>w.value,e=>{z("update:pageSize",e)}),A(()=>_.value,e=>{z("update:currentPage",e)});const K=k(()=>{const e={...q,...i};return delete e.columns,delete e.data,e}),L=()=>{const{selection:e,reserveSelection:c,align:u,headerAlign:o}=t(l);return e?s(x,{type:"selection",reserveSelection:c,align:u,headerAlign:o,width:"50"},null):void 0},M=()=>{const{align:e,headerAlign:c,expand:u}=t(l);return u?s(x,{type:"expand",align:e,headerAlign:c},{default:o=>v(g,"expand",o)}):void 0},E=e=>{const{columns:c,reserveIndex:u,pageSize:o,currentPage:p,align:f,headerAlign:H,showOverflowTooltip:N}=t(l);return[M(),L()].concat((e||c).map(a=>{if(a.type==="index")return s(x,{type:"index",index:a.index?a.index:b=>((d,y,j,$)=>{const S=y+1;return d?j*($-1)+S:S})(u,b,o,p),align:a.align||f,headerAlign:a.headerAlign||H,label:a.label,width:"65px"},null);{const b={...a};return b.children&&delete b.children,s(x,P({showOverflowTooltip:N,align:f,headerAlign:H},b,{prop:a.field}),{default:d=>{var y;return a.children&&a.children.length?(j=>{const{align:$,headerAlign:S,showOverflowTooltip:Q}=t(l);return j.map(n=>{const I={...n};return I.children&&delete I.children,s(x,P({showOverflowTooltip:Q,align:$,headerAlign:S},I,{prop:n.field}),{default:h=>{var J;return n.children&&n.children.length?E(n.children):v(g,n.field,h)||((J=n==null?void 0:n.formatter)==null?void 0:J.call(n,h.row,h.column,h.row[n.field],h.$index))||h.row[n.field]},header:v(g,`${n.field}-header`)})})})(a.children):v(g,a.field,d)||((y=a==null?void 0:a.formatter)==null?void 0:y.call(a,d.row,d.column,d.row[a.field],d.$index))||d.row[a.field]},header:()=>v(g,`${a.field}-header`)||a.label})}}))};return()=>X(s("div",null,[s(Z,P({ref:O,data:t(l).data,"onSelection-change":F},t(K)),{default:()=>E(),append:()=>v(g,"append")}),t(l).pagination?s(ne,P({pageSize:w.value,"onUpdate:pageSize":e=>w.value=e,currentPage:_.value,"onUpdate:currentPage":e=>_.value=e,class:"float-right mb-15px mt-15px"},t(G)),null):void 0]),[[Y,t(l).loading]])}})});export{W as _,re as __tla};
