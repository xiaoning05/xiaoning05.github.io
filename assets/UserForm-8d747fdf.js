import{d as A,k as B,r as m,n as D,o as i,q as c,e as s,b as r,a as e,h as y,w as E,c as G,F as L,g as N,j as R,L as P,y as S,s as X,x as Y,C as Z,B as z,v as H,_ as J,__tla as K}from"./index-aaa5adb3.js";import{_ as O,__tla as Q}from"./Dialog-9a73a39c.js";import{b as T,__tla as W}from"./index-b36de29d.js";import{g as $,u as aa,__tla as ea}from"./index-c82a7d3a.js";import{u as la,__tla as ta}from"./useMessage-873da1e2.js";let k,sa=Promise.all([(()=>{try{return K}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ta}catch{}})()]).then(async()=>{k=J(A({name:"MpUserForm",__name:"UserForm",emits:["success"],setup(ra,{expose:h,emit:V}){const{t:b}=B(),I=la(),u=m(!1),o=m(!1),l=m({id:void 0,nickname:void 0,remark:void 0,tagIds:[]}),g=D({}),n=m(),p=m([]);h({open:async d=>{if(u.value=!0,F(),d){o.value=!0;try{l.value=await $(d)}finally{o.value=!1}}p.value=await T()}});const U=V,w=async()=>{if(n&&await n.value.validate()){o.value=!0;try{await aa(l.value),I.success(b("common.updateSuccess")),u.value=!1,U("success")}finally{o.value=!1}}},F=()=>{var d;l.value={id:void 0,nickname:void 0,remark:void 0,tagIds:[]},(d=n.value)==null||d.resetFields()};return(d,t)=>{const v=P,_=S,x=X,C=Y,j=Z,f=z,M=O,q=H;return i(),c(M,{modelValue:e(u),"onUpdate:modelValue":t[4]||(t[4]=a=>R(u)?u.value=a:null),title:"\u4FEE\u6539"},{footer:s(()=>[r(f,{disabled:e(o),type:"primary",onClick:w},{default:s(()=>[y("\u786E \u5B9A")]),_:1},8,["disabled"]),r(f,{onClick:t[3]||(t[3]=a=>u.value=!1)},{default:s(()=>[y("\u53D6 \u6D88")]),_:1})]),default:s(()=>[E((i(),c(j,{ref_key:"formRef",ref:n,model:e(l),rules:e(g),"label-width":"80px"},{default:s(()=>[r(_,{label:"\u6635\u79F0",prop:"nickname"},{default:s(()=>[r(v,{modelValue:e(l).nickname,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).nickname=a),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0"},null,8,["modelValue"])]),_:1}),r(_,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[r(v,{modelValue:e(l).remark,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).remark=a),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),r(_,{label:"\u6807\u7B7E",prop:"tagIds"},{default:s(()=>[r(C,{modelValue:e(l).tagIds,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).tagIds=a),clearable:"",multiple:"",placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E"},{default:s(()=>[(i(!0),G(L,null,N(e(p),a=>(i(),c(x,{key:a.tagId,label:a.name,value:a.tagId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,e(o)]])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mp/user/UserForm.vue"]])});export{sa as __tla,k as default};
