import{d as E,i as N,r as d,e as j,o as c,v as _,w as s,f as i,a,h as v,x as G,c as I,F as O,q as T,t as J,l as R,Q as B,A as L,ai as Q,aj as X,G as Y,D as Z,J as z,_ as H,__tla as K}from"./index-f0743f71.js";import{_ as W,__tla as $}from"./Dialog-8f786edd.js";import{P as f,__tla as aa}from"./index-47521906.js";import{a as ea,D as ta,__tla as la}from"./dict-4a9940b3.js";import{C as sa}from"./constants-99751ef9.js";import{u as ua,__tla as ra}from"./useMessage-75a00a06.js";let V,oa=Promise.all([(()=>{try{return K}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ra}catch{}})()]).then(async()=>{V=H(E({name:"ProductUnitForm",__name:"ProductUnitForm",emits:["success"],setup(da,{expose:w,emit:P}){const{t:m}=N(),p=ua(),r=d(!1),y=d(""),o=d(!1),U=d(""),u=d({id:void 0,name:void 0,status:void 0}),g=j({name:[{required:!0,message:"\u5355\u4F4D\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5355\u4F4D\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=d();w({open:async(l,e)=>{if(r.value=!0,y.value=m("action."+l),U.value=l,x(),e){o.value=!0;try{u.value=await f.getProductUnit(e)}finally{o.value=!1}}}});const F=P,k=async()=>{await n.value.validate(),o.value=!0;try{const l=u.value;U.value==="create"?(await f.createProductUnit(l),p.success(m("common.createSuccess"))):(await f.updateProductUnit(l),p.success(m("common.updateSuccess"))),r.value=!1,F("success")}finally{o.value=!1}},x=()=>{var l;u.value={id:void 0,name:void 0,status:sa.ENABLE},(l=n.value)==null||l.resetFields()};return(l,e)=>{const C=B,b=L,A=Q,D=X,M=Y,h=Z,S=W,q=z;return c(),_(S,{title:a(y),modelValue:a(r),"onUpdate:modelValue":e[3]||(e[3]=t=>R(r)?r.value=t:null)},{footer:s(()=>[i(h,{onClick:k,type:"primary",disabled:a(o)},{default:s(()=>[v("\u786E \u5B9A")]),_:1},8,["disabled"]),i(h,{onClick:e[2]||(e[2]=t=>r.value=!1)},{default:s(()=>[v("\u53D6 \u6D88")]),_:1})]),default:s(()=>[G((c(),_(M,{ref_key:"formRef",ref:n,model:a(u),rules:a(g),"label-width":"100px"},{default:s(()=>[i(b,{label:"\u5355\u4F4D\u540D\u5B57",prop:"name"},{default:s(()=>[i(C,{modelValue:a(u).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(u).name=t),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D\u540D\u5B57"},null,8,["modelValue"])]),_:1}),i(b,{label:"\u5355\u4F4D\u72B6\u6001",prop:"status"},{default:s(()=>[i(D,{modelValue:a(u).status,"onUpdate:modelValue":e[1]||(e[1]=t=>a(u).status=t)},{default:s(()=>[(c(!0),I(O,null,T(a(ea)(a(ta).COMMON_STATUS),t=>(c(),_(A,{key:t.value,label:t.value},{default:s(()=>[v(J(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,a(o)]])]),_:1},8,["title","modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/erp/product/unit/ProductUnitForm.vue"]])});export{oa as __tla,V as default};
