import{d as U,r as o,o as _,q as m,e as s,b as n,a,h as v,w as q,c as T,F as j,g as M,j as A,s as B,x as E,y as G,L,C as N,B as P,v as X,_ as Y,__tla as Z}from"./index-aaa5adb3.js";import{_ as z,__tla as H}from"./Dialog-9a73a39c.js";import{b as J,c as O,__tla as Q}from"./index-ba44c5d2.js";import{u as S,__tla as W}from"./useMessage-873da1e2.js";let g,$=Promise.all([(()=>{try{return Z}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return W}catch{}})()]).then(async()=>{g=Y(U({__name:"TaskReturnDialogForm",emits:["success"],setup(ee,{expose:b,emit:h}){const f=S(),r=o(!1),u=o(!1),l=o({id:"",targetDefinitionKey:void 0,reason:""}),w=o({targetDefinitionKey:[{required:!0,message:"\u5FC5\u987B\u9009\u62E9\u56DE\u9000\u8282\u70B9",trigger:"change"}],reason:[{required:!0,message:"\u56DE\u9000\u7406\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),d=o(),c=o([]);b({open:async i=>{if(c.value=await J({taskId:i}),c.value.length===0)return f.warning("\u5F53\u524D\u6CA1\u6709\u53EF\u56DE\u9000\u7684\u8282\u70B9"),!1;r.value=!0,K(),l.value.id=i}});const V=h,D=async()=>{if(d&&await d.value.validate()){u.value=!0;try{await O(l.value),f.success("\u56DE\u9000\u6210\u529F"),r.value=!1,V("success")}finally{u.value=!1}}},K=()=>{var i;l.value={id:"",targetDefinitionKey:void 0,reason:""},(i=d.value)==null||i.resetFields()};return(i,t)=>{const k=B,x=E,y=G,C=L,F=N,p=P,I=z,R=X;return _(),m(I,{modelValue:a(r),"onUpdate:modelValue":t[3]||(t[3]=e=>A(r)?r.value=e:null),title:"\u56DE\u9000",width:"500"},{footer:s(()=>[n(p,{disabled:a(u),type:"primary",onClick:D},{default:s(()=>[v("\u786E \u5B9A")]),_:1},8,["disabled"]),n(p,{onClick:t[2]||(t[2]=e=>r.value=!1)},{default:s(()=>[v("\u53D6 \u6D88")]),_:1})]),default:s(()=>[q((_(),m(F,{ref_key:"formRef",ref:d,model:a(l),rules:a(w),"label-width":"110px"},{default:s(()=>[n(y,{label:"\u9000\u56DE\u8282\u70B9",prop:"targetDefinitionKey"},{default:s(()=>[n(x,{modelValue:a(l).targetDefinitionKey,"onUpdate:modelValue":t[0]||(t[0]=e=>a(l).targetDefinitionKey=e),clearable:"",style:{width:"100%"}},{default:s(()=>[(_(!0),T(j,null,M(a(c),e=>(_(),m(k,{key:e.definitionKey,label:e.name,value:e.definitionKey},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(y,{label:"\u56DE\u9000\u7406\u7531",prop:"reason"},{default:s(()=>[n(C,{modelValue:a(l).reason,"onUpdate:modelValue":t[1]||(t[1]=e=>a(l).reason=e),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u56DE\u9000\u7406\u7531"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[R,a(u)]])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/bpm/processInstance/detail/TaskReturnDialogForm.vue"]])});export{$ as __tla,g as default};
