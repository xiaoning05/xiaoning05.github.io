import{d as z,r as _,aT as E,a2 as F,p as O,Y as Q,o as n,c as p,x as H,a as t,v as c,w as l,f as a,F as i,q as b,h as X,j as Z,Q as K,A as S,y as W,z as $,B as aa,D as ea,k as la,G as ta,J as ra,_ as da,__tla as ua}from"./index-f0743f71.js";import{C as oa,__tla as na}from"./CardTitle-1cea02f9.js";import{b as _a,__tla as sa}from"./index-3518afc7.js";import{a as ma,__tla as pa}from"./index-19d240e6.js";import{g as ca,__tla as ia}from"./index-5f468446.js";import{g as fa,__tla as Va}from"./index-8255f94a.js";import{h as ya,__tla as ba}from"./index-109e656c.js";import ha,{__tla as va}from"./ProductList-a32d3fc0.js";import{__tla as Ia}from"./DictTag-4f08045a.js";import"./color-f5b6e279.js";import{__tla as Ua}from"./dict-4a9940b3.js";import{__tla as ka}from"./index-71d2ef9b.js";import{__tla as wa}from"./formatter-d3f1795f.js";import{__tla as Pa}from"./Table.vue_vue_type_style_index_0_scoped_b4105caf_lang-6757bef5.js";import{__tla as xa}from"./tsxHelper-0d496dea.js";import{__tla as Da}from"./index-8beae3df.js";import{__tla as Ta}from"./Dialog-8f786edd.js";import{__tla as ga}from"./index-cf7b3541.js";let D,Ca=Promise.all([(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return Va}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return Ia}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Pa}catch{}})(),(()=>{try{return xa}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return Ta}catch{}})(),(()=>{try{return ga}catch{}})()]).then(async()=>{D=da(z({name:"ContractDetailOA",__name:"index",props:{id:{type:Number,required:!1}},setup(T){const g=T,h=_(!1),r=_({}),C=_(),U=_();E(()=>r.value.productItems,s=>{s&&s.length!==0?r.value.productPrice=s.reduce((d,f)=>isNaN(d+f.totalPrice)?0:d+f.totalPrice,0):r.value.productPrice=0},{deep:!0});const M=async()=>{await Promise.all([B(),G(),A(),L()])},k=_([]),B=async()=>{k.value=await _a()},w=_([]),N=F(()=>w.value.filter(s=>s.customerId===r.value.customerId)),A=async()=>{w.value=await fa()},v=_([]),G=async()=>{v.value=await ca()},P=_([]),L=async()=>{P.value=await ya()};return O(()=>{(async()=>{await M(),h.value=!0;try{r.value=await ma(g.id)}finally{h.value=!1}})()}),(s,d)=>{const f=oa,u=Z,m=K,o=S,V=W,y=$,I=aa,R=ea,q=la,J=ta,Y=Q("BPMLModel"),j=ra;return n(),p(i,null,[H((n(),c(J,{ref_key:"formRef",ref:C,model:t(r),"label-width":"110px"},{default:l(()=>[a(q,null,{default:l(()=>[a(u,{span:24,class:"mb-10px"},{default:l(()=>[a(f,{title:"\u57FA\u672C\u4FE1\u606F"})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5408\u540C\u540D\u79F0",prop:"name"},{default:l(()=>[a(m,{modelValue:t(r).name,"onUpdate:modelValue":d[0]||(d[0]=e=>t(r).name=e),placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5408\u540C\u7F16\u53F7",prop:"no"},{default:l(()=>[a(m,{modelValue:t(r).no,"onUpdate:modelValue":d[1]||(d[1]=e=>t(r).no=e),placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u7F16\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5BA2\u6237",prop:"customerId"},{default:l(()=>[a(y,{modelValue:t(r).customerId,"onUpdate:modelValue":d[2]||(d[2]=e=>t(r).customerId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(k),e=>(n(),c(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5BA2\u6237\u7B7E\u7EA6\u4EBA",prop:"contactId"},{default:l(()=>[a(y,{modelValue:t(r).contactId,"onUpdate:modelValue":d[3]||(d[3]=e=>t(r).contactId=e),disabled:!t(r).customerId},{default:l(()=>[(n(!0),p(i,null,b(t(N),e=>(n(),c(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u516C\u53F8\u7B7E\u7EA6\u4EBA",prop:"signUserId"},{default:l(()=>[a(y,{modelValue:t(r).signUserId,"onUpdate:modelValue":d[4]||(d[4]=e=>t(r).signUserId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(v),e=>(n(),c(V,{key:e.id,label:e.nickname,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u8D1F\u8D23\u4EBA",prop:"ownerUserId"},{default:l(()=>[a(y,{modelValue:t(r).ownerUserId,"onUpdate:modelValue":d[5]||(d[5]=e=>t(r).ownerUserId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(v),e=>(n(),c(V,{key:e.id,label:e.nickname,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5546\u673A\u540D\u79F0",prop:"businessId"},{default:l(()=>[a(y,{modelValue:t(r).businessId,"onUpdate:modelValue":d[6]||(d[6]=e=>t(r).businessId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(P),e=>(n(),c(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5408\u540C\u91D1\u989D(\u5143)",prop:"price"},{default:l(()=>[a(m,{modelValue:t(r).price,"onUpdate:modelValue":d[7]||(d[7]=e=>t(r).price=e),placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u91D1\u989D"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u4E0B\u5355\u65E5\u671F",prop:"orderDate"},{default:l(()=>[a(I,{modelValue:t(r).orderDate,"onUpdate:modelValue":d[8]||(d[8]=e=>t(r).orderDate=e),placeholder:"\u9009\u62E9\u4E0B\u5355\u65E5\u671F",type:"date","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5F00\u59CB\u65F6\u95F4",prop:"startTime"},{default:l(()=>[a(I,{modelValue:t(r).startTime,"onUpdate:modelValue":d[9]||(d[9]=e=>t(r).startTime=e),placeholder:"\u9009\u62E9\u5F00\u59CB\u65F6\u95F4",type:"date","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u7ED3\u675F\u65F6\u95F4",prop:"endTime"},{default:l(()=>[a(I,{modelValue:t(r).endTime,"onUpdate:modelValue":d[10]||(d[10]=e=>t(r).endTime=e),placeholder:"\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",type:"date","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:l(()=>[a(o,{label:"\u5907\u6CE8",prop:"remark"},{default:l(()=>[a(m,{modelValue:t(r).remark,"onUpdate:modelValue":d[11]||(d[11]=e=>t(r).remark=e),rows:3,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:l(()=>[a(o,{label:"\u4EA7\u54C1\u5217\u8868",prop:"productList"},{default:l(()=>[a(ha,{modelValue:t(r).productItems,"onUpdate:modelValue":d[12]||(d[12]=e=>t(r).productItems=e)},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u6574\u5355\u6298\u6263(%)",prop:"discountPercent"},{default:l(()=>[a(m,{modelValue:t(r).discountPercent,"onUpdate:modelValue":d[13]||(d[13]=e=>t(r).discountPercent=e),placeholder:"\u8BF7\u8F93\u5165\u6574\u5355\u6298\u6263"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u4EA7\u54C1\u603B\u91D1\u989D(\u5143)",prop:"productPrice"},{default:l(()=>[a(m,{modelValue:t(r).productPrice,"onUpdate:modelValue":d[14]||(d[14]=e=>t(r).productPrice=e),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u603B\u91D1\u989D"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:l(()=>[a(f,{class:"mb-10px",title:"\u5BA1\u6279\u4FE1\u606F"})]),_:1}),a(u,{span:12},{default:l(()=>[a(R,{class:"m-20px",link:"",type:"primary",onClick:d[15]||(d[15]=e=>{var x;return(x=t(U))==null?void 0:x.handleBpmnDetail("contract-approve")})},{default:l(()=>[X(" \u67E5\u770B\u5DE5\u4F5C\u6D41 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])),[[j,t(h)]]),a(Y,{ref_key:"BPMLModelRef",ref:U},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/contract/oa/ContractDetail/index.vue"]])});export{Ca as __tla,D as default};
