import{d as T,aT as R,ad as v,X as U,r as y,aQ as X,au as b,o as s,c as u,f as o,F as g,g as j,b as e,e as V,w as F,Z as I,a as w,q as L,$ as M,_ as P,ay as Q,__tla as Z}from"./index-34f06ebd.js";import{E as $,__tla as z}from"./el-image-a5cf0b35.js";import{__tla as B}from"./el-image-viewer-331eba6f.js";import{b as D,__tla as G}from"./spu-7528f5a7.js";import{_ as H,__tla as J}from"./SpuTableSelect.vue_vue_type_script_setup_true_lang-8f712784.js";import{_ as K}from"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as O}from"./Dialog.vue_vue_type_style_index_0_lang-08560286.js";import{__tla as W}from"./ContentWrap.vue_vue_type_script_setup_true_lang-80915c85.js";import{__tla as Y}from"./index-460c50ff.js";import{__tla as aa}from"./index.vue_vue_type_script_setup_true_lang-68fe248c.js";import{__tla as la}from"./index-f8693880.js";import{__tla as ta}from"./el-tree-select-45b5cb50.js";import"./tree-82bb3b99.js";import{__tla as ea}from"./category-d1626b05.js";let k,ra=Promise.all([(()=>{try{return Z}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return B}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ea}catch{}})()]).then(async()=>{let i,m;i={class:"flex flex-wrap items-center gap-8px"},m={class:"relative h-full w-full"},k=K(T({name:"SpuShowcase",__name:"SpuShowcase",props:{modelValue:R([Number,Array]).isRequired,limit:v.number.def(Number.MAX_VALUE),disabled:v.bool.def(!1)},emits:["update:modelValue","change"],setup(_,{emit:x}){const t=_,C=U(()=>!t.disabled&&(!t.limit||l.value.length<t.limit)),l=y([]);X(()=>t.modelValue,async()=>{const a=b(t.modelValue)?t.modelValue:t.modelValue?[t.modelValue]:[];a.length!==0?(l.value.length===0||l.value.some(p=>!a.includes(p.id)))&&(l.value=await D(a)):l.value=[]},{immediate:!0});const n=y(),S=()=>{n.value.open(l.value)},A=a=>{l.value=b(a)?a:[a],d()},r=x,d=()=>{if(t.limit===1){const a=l.value.length>0?l.value[0]:null;r("update:modelValue",(a==null?void 0:a.id)||0),r("change",a)}else r("update:modelValue",l.value.map(a=>a.id)),r("change",l.value)};return(a,p)=>{const q=$,f=P,h=Q;return s(),u(g,null,[o("div",i,[(s(!0),u(g,null,j(w(l),(c,E)=>(s(),u("div",{key:c.id,class:"select-box spu-pic"},[e(h,{content:c.name},{default:V(()=>[o("div",m,[e(q,{src:c.picUrl,class:"h-full w-full"},null,8,["src"]),F(e(f,{class:"del-icon",icon:"ep:circle-close-filled",onClick:sa=>(N=>{l.value.splice(N,1),d()})(E)},null,8,["onClick"]),[[I,!_.disabled]])])]),_:2},1032,["content"])]))),128)),w(C)?(s(),L(h,{key:0,content:"\u9009\u62E9\u5546\u54C1"},{default:V(()=>[o("div",{class:"select-box",onClick:S},[e(f,{icon:"ep:plus"})])]),_:1})):M("",!0)]),e(H,{ref_key:"spuTableSelectRef",ref:n,multiple:_.limit!=1,onChange:A},null,8,["multiple"])],64)}}}),[["__scopeId","data-v-83497b1b"]])});export{ra as __tla,k as default};
