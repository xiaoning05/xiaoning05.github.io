import{d as B,r as i,o as n,q as c,e as s,b as u,h as p,a as l,w as C,c as T,g as j,F as D,j as K,s as P,x as R,y as S,K as z,B as E,A as G,v as H,__tla as J}from"./index-34f06ebd.js";import{_ as M,__tla as N}from"./Dialog.vue_vue_type_style_index_0_lang-08560286.js";import{t as O,__tla as Q}from"./index-42f7df7c.js";import{g as W,__tla as X}from"./index-cd2bb9f6.js";import{u as Y,__tla as Z}from"./useMessage-7a5ab7ef.js";let h,$=Promise.all([(()=>{try{return J}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})()]).then(async()=>{h=B({name:"BpmTaskUpdateAssigneeForm",__name:"TaskAddSignDialogForm",emits:["success"],setup(ee,{expose:b,emit:g}){const k=Y(),d=i(!1),o=i(!1),t=i({id:"",userIdList:[],type:""}),V=i({userIdList:[{required:!0,message:"\u52A0\u7B7E\u5904\u7406\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],reason:[{required:!0,message:"\u52A0\u7B7E\u7406\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]}),_=i(),f=i([]);b({open:async r=>{d.value=!0,I(),t.value.id=r,f.value=await W()}});const w=g,y=async r=>{if(_&&await _.value.validate()){o.value=!0,t.value.type=r;try{await O(t.value),k.success("\u52A0\u7B7E\u6210\u529F"),d.value=!1,w("success")}finally{o.value=!1}}},I=()=>{var r;t.value={id:"",userIdList:[],type:""},(r=_.value)==null||r.resetFields()};return(r,e)=>{const L=P,x=R,v=S,F=z,U=E,m=G,q=M,A=H;return n(),c(q,{modelValue:l(d),"onUpdate:modelValue":e[5]||(e[5]=a=>K(d)?d.value=a:null),title:"\u52A0\u7B7E",width:"500"},{footer:s(()=>[u(m,{disabled:l(o),type:"primary",onClick:e[2]||(e[2]=a=>y("before"))},{default:s(()=>[p(" \u5411\u524D\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{disabled:l(o),type:"primary",onClick:e[3]||(e[3]=a=>y("after"))},{default:s(()=>[p(" \u5411\u540E\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{onClick:e[4]||(e[4]=a=>d.value=!1)},{default:s(()=>[p("\u53D6 \u6D88")]),_:1})]),default:s(()=>[C((n(),c(U,{ref_key:"formRef",ref:_,model:l(t),rules:l(V),"label-width":"110px"},{default:s(()=>[u(v,{label:"\u52A0\u7B7E\u5904\u7406\u4EBA",prop:"userIdList"},{default:s(()=>[u(x,{modelValue:l(t).userIdList,"onUpdate:modelValue":e[0]||(e[0]=a=>l(t).userIdList=a),multiple:"",clearable:"",style:{width:"100%"}},{default:s(()=>[(n(!0),T(D,null,j(l(f),a=>(n(),c(L,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(v,{label:"\u52A0\u7B7E\u7406\u7531",prop:"reason"},{default:s(()=>[u(F,{modelValue:l(t).reason,"onUpdate:modelValue":e[1]||(e[1]=a=>l(t).reason=a),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u52A0\u7B7E\u7406\u7531"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[A,l(o)]])]),_:1},8,["modelValue"])}}})});export{h as _,$ as __tla};
