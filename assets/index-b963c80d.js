import{d as L,u as O,D as R,r as _,n as Y,p as X,S as Z,G as H,o as i,c as J,b as l,e as t,w as q,a as e,q as s,f as C,t as w,h as m,a0 as E,j as b,ah as K,F as Q,E as W,B as $,ai as aa,i as ta,v as ea,_ as la,__tla as ra}from"./index-aaa5adb3.js";import{_ as oa,__tla as ia}from"./Dialog-9a73a39c.js";import{_ as na,__tla as _a}from"./ContentWrap-04d7f6d1.js";import{_ as sa,__tla as ua}from"./index-b47c179c.js";import{_ as pa,__tla as ma}from"./DictTag-1c1088ae.js";import{D as ca,__tla as da}from"./dict-f2796e71.js";import{d as fa,__tla as ya}from"./formatTime-9c0e8879.js";import{j as ha,__tla as wa}from"./bpmn-embedded-bff76519.js";import{g as ga,a as va,__tla as ka}from"./index-e905fa46.js";import{b as Ca}from"./formCreate-a3356cdc.js";import{__tla as ba}from"./index-5b7dcbf1.js";import{__tla as Va}from"./index-c602062a.js";import"./color-f5b6e279.js";import{__tla as xa}from"./XTextButton-f95f9235.js";import{__tla as Pa}from"./XButton-74cf0ce2.js";import{__tla as Da}from"./el-collapse-item-085d40d1.js";import{__tla as Sa}from"./el-link-50478468.js";import{__tla as Ta}from"./useMessage-873da1e2.js";import{__tla as Ua}from"./el-drawer-784a5f9a.js";let G,qa=Promise.all([(()=>{try{return ra}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return Va}catch{}})(),(()=>{try{return xa}catch{}})(),(()=>{try{return Pa}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return Sa}catch{}})(),(()=>{try{return Ta}catch{}})(),(()=>{try{return Ua}catch{}})()]).then(async()=>{G=la(L({name:"BpmProcessDefinition",__name:"index",setup(Ea){const{push:V}=O(),{query:N}=R(),g=_(!0),x=_(0),P=_([]),u=Y({pageNo:1,pageSize:10,key:N.key}),D=async()=>{g.value=!0;try{const n=await ga(u);P.value=n.list,x.value=n.total}finally{g.value=!1}},c=_(!1),v=_({rule:[],option:{}}),S=async n=>{n.formType==10?(Ca(v,n.formConf,n.formFields),c.value=!0):await V({path:n.formCustomCreatePath})},d=_(!1),p=_(null),T=_({prefix:"flowable"});return X(()=>{D()}),(n,r)=>{const o=W,f=$,B=pa,y=aa,z=ta,A=sa,I=na,M=Z("form-create"),U=oa,j=H("hasPermi"),F=ea;return i(),J(Q,null,[l(I,null,{default:t(()=>[q((i(),s(z,{data:e(P)},{default:t(()=>[l(o,{label:"\u5B9A\u4E49\u7F16\u53F7",align:"center",prop:"id",width:"400"}),l(o,{label:"\u6D41\u7A0B\u540D\u79F0",align:"center",prop:"name",width:"200"},{default:t(a=>[l(f,{type:"primary",link:"",onClick:k=>(async h=>{p.value=await va(h.id),d.value=!0})(a.row)},{default:t(()=>[C("span",null,w(a.row.name),1)]),_:2},1032,["onClick"])]),_:1}),l(o,{label:"\u5B9A\u4E49\u5206\u7C7B",align:"center",prop:"category",width:"100"},{default:t(a=>[l(B,{type:e(ca).BPM_MODEL_CATEGORY,value:a.row.category},null,8,["type","value"])]),_:1}),l(o,{label:"\u8868\u5355\u4FE1\u606F",align:"center",prop:"formType",width:"200"},{default:t(a=>[a.row.formType===10?(i(),s(f,{key:0,type:"primary",link:"",onClick:k=>S(a.row)},{default:t(()=>[C("span",null,w(a.row.formName),1)]),_:2},1032,["onClick"])):(i(),s(f,{key:1,type:"primary",link:"",onClick:k=>S(a.row)},{default:t(()=>[C("span",null,w(a.row.formCustomCreatePath),1)]),_:2},1032,["onClick"]))]),_:1}),l(o,{label:"\u6D41\u7A0B\u7248\u672C",align:"center",prop:"processDefinition.version",width:"80"},{default:t(a=>[a.row?(i(),s(y,{key:0},{default:t(()=>[m("v"+w(a.row.version),1)]),_:2},1024)):(i(),s(y,{key:1,type:"warning"},{default:t(()=>[m("\u672A\u90E8\u7F72")]),_:1}))]),_:1}),l(o,{label:"\u72B6\u6001",align:"center",prop:"version",width:"80"},{default:t(a=>[a.row.suspensionState===1?(i(),s(y,{key:0,type:"success"},{default:t(()=>[m("\u6FC0\u6D3B")]),_:1})):E("",!0),a.row.suspensionState===2?(i(),s(y,{key:1,type:"warning"},{default:t(()=>[m("\u6302\u8D77")]),_:1})):E("",!0)]),_:1}),l(o,{label:"\u90E8\u7F72\u65F6\u95F4",align:"center",prop:"deploymentTime",width:"180",formatter:e(fa)},null,8,["formatter"]),l(o,{label:"\u5B9A\u4E49\u63CF\u8FF0",align:"center",prop:"description",width:"300","show-overflow-tooltip":""}),l(o,{label:"\u64CD\u4F5C",align:"center",width:"150",fixed:"right"},{default:t(a=>[q((i(),s(f,{link:"",type:"primary",onClick:k=>{return h=a.row,void V({name:"BpmTaskAssignRuleList",query:{modelId:h.id}});var h}},{default:t(()=>[m(" \u5206\u914D\u89C4\u5219 ")]),_:2},1032,["onClick"])),[[j,["bpm:task-assign-rule:query"]]])]),_:1})]),_:1},8,["data"])),[[F,e(g)]]),l(A,{total:e(x),page:e(u).pageNo,"onUpdate:page":r[0]||(r[0]=a=>e(u).pageNo=a),limit:e(u).pageSize,"onUpdate:limit":r[1]||(r[1]=a=>e(u).pageSize=a),onPagination:D},null,8,["total","page","limit"])]),_:1}),l(U,{title:"\u8868\u5355\u8BE6\u60C5",modelValue:e(c),"onUpdate:modelValue":r[2]||(r[2]=a=>b(c)?c.value=a:null),width:"800"},{default:t(()=>[l(M,{rule:e(v).rule,option:e(v).option},null,8,["rule","option"])]),_:1},8,["modelValue"]),l(U,{title:"\u6D41\u7A0B\u56FE",modelValue:e(d),"onUpdate:modelValue":r[4]||(r[4]=a=>b(d)?d.value=a:null),width:"800"},{default:t(()=>[l(e(ha),K({key:"designer",modelValue:e(p),"onUpdate:modelValue":r[3]||(r[3]=a=>b(p)?p.value=a:null),value:e(p)},e(T),{prefix:e(T).prefix}),null,16,["modelValue","value","prefix"])]),_:1},8,["modelValue"])],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/bpm/definition/index.vue"]])});export{qa as __tla,G as default};
