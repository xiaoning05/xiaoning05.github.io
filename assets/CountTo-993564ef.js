import{d as q,ae as n,n as E,d4 as N,p as P,Y as k,aR as v,a as i,o as w,c as I,t as M,N as R,P as Y,co as $,_ as G,__tla as U}from"./index-b079f499.js";let y,X=Promise.all([(()=>{try{return U}catch{}})()]).then(async()=>{y=G(q({name:"CountTo",__name:"CountTo",props:{startVal:n.number.def(0),endVal:n.number.def(2021),duration:n.number.def(3e3),autoplay:n.bool.def(!0),decimals:n.number.validate(o=>o>=0).def(0),decimal:n.string.def("."),separator:n.string.def(","),prefix:n.string.def(""),suffix:n.string.def(""),useEasing:n.bool.def(!0),easingFn:{type:Function,default:(o,p,m,d)=>m*(1-Math.pow(2,-10*o/d))*1024/1023+p}},emits:["mounted","callback"],setup(o,{expose:p,emit:m}){const{getPrefixCls:d}=Y(),D=d("count-to"),t=o,A=m,V=e=>{const{decimals:s,decimal:u,separator:l,suffix:r,prefix:C}=t;e=Number(e).toFixed(s);const _=(e+="").split(".");let c=_[0];const h=_.length>1?u+_[1]:"",T=/(\d+)(\d{3})/;if(l&&!$(l))for(;T.test(c);)c=c.replace(T,"$1"+l+"$2");return C+c+h+r},a=E({localStartVal:t.startVal,displayValue:V(t.startVal),printVal:null,paused:!1,localDuration:t.duration,startTime:null,timestamp:null,remaining:null,rAF:null}),b=N(a,"displayValue");P(()=>{t.autoplay&&F(),A("mounted")});const f=k(()=>t.startVal>t.endVal);v([()=>t.startVal,()=>t.endVal],()=>{t.autoplay&&F()});const F=()=>{const{startVal:e,duration:s}=t;a.localStartVal=e,a.startTime=null,a.localDuration=s,a.paused=!1,a.rAF=requestAnimationFrame(g)},S=()=>{cancelAnimationFrame(a.rAF)},x=()=>{a.startTime=null,a.localDuration=+a.remaining,a.localStartVal=+a.printVal,requestAnimationFrame(g)},g=e=>{const{useEasing:s,easingFn:u,endVal:l}=t;a.startTime||(a.startTime=e),a.timestamp=e;const r=e-a.startTime;a.remaining=a.localDuration-r,s?i(f)?a.printVal=a.localStartVal-u(r,0,a.localStartVal-l,a.localDuration):a.printVal=u(r,a.localStartVal,l-a.localStartVal,a.localDuration):i(f)?a.printVal=a.localStartVal-(a.localStartVal-l)*(r/a.localDuration):a.printVal=a.localStartVal+(l-a.localStartVal)*(r/a.localDuration),i(f)?a.printVal=a.printVal<l?l:a.printVal:a.printVal=a.printVal>l?l:a.printVal,a.displayValue=V(a.printVal),r<a.localDuration?a.rAF=requestAnimationFrame(g):A("callback")};return p({pauseResume:()=>{a.paused?(x(),a.paused=!1):(S(),a.paused=!0)},reset:()=>{a.startTime=null,cancelAnimationFrame(a.rAF),a.displayValue=V(t.startVal)},start:F,pause:S}),(e,s)=>(w(),I("span",{class:R(i(D))},M(i(b)),3))}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/components/CountTo/src/CountTo.vue"]])});export{y as _,X as __tla};
