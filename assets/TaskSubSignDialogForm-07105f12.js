import{d as I,r as u,o as _,v as c,w as l,f as o,a,h as f,x as j,c as G,F as J,q as N,t as p,l as M,ap as T,aA as E,aj as P,A as Q,Q as R,G as X,D as Y,J as Z,_ as z,__tla as B}from"./index-f0743f71.js";import{_ as H,__tla as K}from"./Dialog-8f786edd.js";import{e as L,f as O,__tla as W}from"./index-4fe9b481.js";import{u as $,__tla as ee}from"./useMessage-75a00a06.js";let b,ae=Promise.all([(()=>{try{return B}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return ee}catch{}})()]).then(async()=>{b=z(I({__name:"TaskSubSignDialogForm",emits:["success"],setup(le,{expose:h,emit:w}){const v=$(),r=u(!1),d=u(!1),t=u({id:"",reason:""}),V=u({id:[{required:!0,message:"\u5FC5\u987B\u9009\u62E9\u51CF\u7B7E\u4EFB\u52A1",trigger:"change"}],reason:[{required:!0,message:"\u51CF\u7B7E\u7406\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=u(),m=u([]);h({open:async i=>{if(m.value=await L(i),T(m.value))return v.warning("\u5F53\u524D\u6CA1\u6709\u53EF\u51CF\u7B7E\u7684\u4EFB\u52A1"),!1;r.value=!0,D()}});const k=w,U=async()=>{if(n&&await n.value.validate()){d.value=!0;try{await O(t.value),v.success("\u51CF\u7B7E\u6210\u529F"),r.value=!1,k("success")}finally{d.value=!1}}},D=()=>{var i;t.value={id:"",reason:""},(i=n.value)==null||i.resetFields()};return(i,s)=>{const x=E,A=P,g=Q,F=R,S=X,y=Y,q=H,C=Z;return _(),c(q,{modelValue:a(r),"onUpdate:modelValue":s[3]||(s[3]=e=>M(r)?r.value=e:null),title:"\u51CF\u7B7E",width:"500"},{footer:l(()=>[o(y,{disabled:a(d),type:"primary",onClick:U},{default:l(()=>[f("\u786E \u5B9A")]),_:1},8,["disabled"]),o(y,{onClick:s[2]||(s[2]=e=>r.value=!1)},{default:l(()=>[f("\u53D6 \u6D88")]),_:1})]),default:l(()=>[j((_(),c(S,{ref_key:"formRef",ref:n,model:a(t),rules:a(V),"label-width":"110px"},{default:l(()=>[o(g,{label:"\u51CF\u7B7E\u4EFB\u52A1",prop:"id"},{default:l(()=>[o(A,{modelValue:a(t).id,"onUpdate:modelValue":s[0]||(s[0]=e=>a(t).id=e)},{default:l(()=>[(_(!0),G(J,null,N(a(m),e=>(_(),c(x,{key:e.id,label:e.id},{default:l(()=>[f(p(e.name)+"("+p(e.assigneeUser.deptName)+p(e.assigneeUser.nickname)+"--\u5BA1\u6279) ",1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(g,{label:"\u51CF\u7B7E\u7406\u7531",prop:"reason"},{default:l(()=>[o(F,{modelValue:a(t).reason,"onUpdate:modelValue":s[1]||(s[1]=e=>a(t).reason=e),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u51CF\u7B7E\u7406\u7531"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[C,a(d)]])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/bpm/processInstance/detail/TaskSubSignDialogForm.vue"]])});export{ae as __tla,b as default};
