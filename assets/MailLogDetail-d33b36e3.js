import{_ as D,__tla as Y}from"./Dialog-9a73a39c.js";import{_ as w,__tla as v}from"./Descriptions-a035659a.js";import{ao as u,n as C,d as I,r as t,G as P,o as E,q as H,e as b,b as F,a as s,w as x,f as A,j as L,_ as U,__tla as j}from"./index-aaa5adb3.js";import{d as p,__tla as N}from"./formatTime-9c0e8879.js";import{b as V,__tla as k}from"./index-e0c35ef8.js";import{D as f,__tla as G}from"./dict-f2796e71.js";import{u as O,__tla as q}from"./useCrudSchemas-538534b3.js";let i,r,y,T,z=Promise.all([(()=>{try{return Y}catch{}})(),(()=>{try{return v}catch{}})(),(()=>{try{return j}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return k}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return q}catch{}})()]).then(async()=>{let o,m;T=async d=>await u.get({url:"/system/mail-log/page",params:d}),o=await V(),m=C([{label:"\u7F16\u53F7",field:"id"},{label:"\u53D1\u9001\u65F6\u95F4",field:"sendTime",formatter:p,search:{show:!0,component:"DatePicker",componentProps:{valueFormat:"YYYY-MM-DD HH:mm:ss",type:"daterange",defaultTime:[new Date("1 00:00:00"),new Date("1 23:59:59")]}},detail:{dateFormat:"YYYY-MM-DD HH:mm:ss"}},{label:"\u63A5\u6536\u90AE\u7BB1",field:"toMail"},{label:"\u7528\u6237\u7F16\u53F7",field:"userId",isSearch:!0,isTable:!1},{label:"\u7528\u6237\u7C7B\u578B",field:"userType",dictType:f.USER_TYPE,dictClass:"number",isSearch:!0,isTable:!1},{label:"\u90AE\u4EF6\u6807\u9898",field:"templateTitle"},{label:"\u90AE\u4EF6\u5185\u5BB9",field:"templateContent",isTable:!1},{label:"\u90AE\u7BB1\u53C2\u6570",field:"templateParams",isTable:!1},{label:"\u53D1\u9001\u72B6\u6001",field:"sendStatus",dictType:f.SYSTEM_MAIL_SEND_STATUS,dictClass:"string",isSearch:!0},{label:"\u90AE\u7BB1\u8D26\u53F7",field:"accountId",isTable:!1,search:{show:!0,component:"Select",api:()=>o,componentProps:{optionsAlias:{labelField:"mail",valueField:"id"}}}},{label:"\u53D1\u9001\u90AE\u7BB1\u5730\u5740",field:"fromMail",table:{label:"\u90AE\u7BB1\u8D26\u53F7"}},{label:"\u6A21\u677F\u7F16\u53F7",field:"templateId",isSearch:!0},{label:"\u6A21\u677F\u7F16\u7801",field:"templateCode",isTable:!1},{label:"\u6A21\u7248\u53D1\u9001\u4EBA\u540D\u79F0",field:"templateNickname",isTable:!1},{label:"\u53D1\u9001\u8FD4\u56DE\u7684\u6D88\u606F\u7F16\u53F7",field:"sendMessageId",isTable:!1},{label:"\u53D1\u9001\u5F02\u5E38",field:"sendException",isTable:!1},{label:"\u521B\u5EFA\u65F6\u95F4",field:"createTime",isTable:!1,formatter:p,detail:{dateFormat:"YYYY-MM-DD HH:mm:ss"}},{label:"\u64CD\u4F5C",field:"action",isDetail:!1}]),{allSchemas:r}=O(m),i=U(I({name:"SystemMailLogDetail",__name:"MailLogDetail",setup(d,{expose:h}){const e=t(!1),n=t(!1),_=t();return h({open:async c=>{e.value=!0,n.value=!0;try{_.value=await(async a=>await u.get({url:"/system/mail-log/get?id="+a}))(c)}finally{n.value=!1}}}),(c,a)=>{const g=w,M=D,S=P("dompurify-html");return E(),H(M,{modelValue:s(e),"onUpdate:modelValue":a[0]||(a[0]=l=>L(e)?e.value=l:null),"max-height":500,scroll:!0,title:"\u8BE6\u60C5"},{default:b(()=>[F(g,{data:s(_),schema:s(r).detailSchema},{templateContent:b(({row:l})=>[x(A("div",null,null,512),[[S,l.templateContent]])]),_:1},8,["data","schema"])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/system/mail/log/MailLogDetail.vue"]]),y=Object.freeze(Object.defineProperty({__proto__:null,default:i},Symbol.toStringTag,{value:"Module"}))});export{i as M,z as __tla,r as a,y as b,T as g};
