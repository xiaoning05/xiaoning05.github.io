import{d as X,r as w,e as M,L as Z,o as C,v as S,w as n,g as N,f as a,a as e,x as Y,h as q,av as m,e8 as f,bp as z,C as H,D as J,j as K,k as O,_ as Q,__tla as V}from"./index-f0743f71.js";import{E as W,__tla as $}from"./el-skeleton-item-c92c6180.js";import{_ as ee,__tla as te}from"./Echart-1ec2e167.js";import{_ as ae,__tla as re}from"./index-f0bc7c5e.js";import{P as g,__tla as oe}from"./product-aacfb210.js";import{S as p,__tla as le}from"./index-200ff3bc.js";import{d as se}from"./download-20922b56.js";import{C as ie,__tla as ce}from"./CardTitle-1cea02f9.js";import{m as ne,f as ue,__tla as me}from"./formatTime-e6df2ea5.js";import{u as de,__tla as _e}from"./useMessage-75a00a06.js";import{E as fe,__tla as pe}from"./index-a48a5540.js";import{__tla as ye}from"./CountTo-53500b6b.js";let F,xe=Promise.all([(()=>{try{return V}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return oe}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return ce}catch{}})(),(()=>{try{return me}catch{}})(),(()=>{try{return _e}catch{}})(),(()=>{try{return pe}catch{}})(),(()=>{try{return ye}catch{}})()]).then(async()=>{let P;P={class:"flex flex-row items-center justify-between"},F=Q(X({name:"ProductSummary",__name:"ProductSummary",setup(ve){const A=de(),h=w(!0),b=w(!1),t=w(),y=w(),v=M({dataset:{dimensions:["time","browseCount","browseUserCount","orderPayPrice","afterSaleRefundPrice"],source:[]},grid:{left:20,right:20,bottom:20,top:80,containLabel:!0},legend:{top:50},series:[{name:"\u5546\u54C1\u6D4F\u89C8\u91CF",type:"line",smooth:!0,itemStyle:{color:"#B37FEB"}},{name:"\u5546\u54C1\u8BBF\u5BA2\u6570",type:"line",smooth:!0,itemStyle:{color:"#FFAB2B"}},{name:"\u652F\u4ED8\u91D1\u989D",type:"bar",smooth:!0,yAxisIndex:1,itemStyle:{color:"#1890FF"}},{name:"\u9000\u6B3E\u91D1\u989D",type:"bar",smooth:!0,yAxisIndex:1,itemStyle:{color:"#00C050"}}],toolbox:{feature:{dataZoom:{yAxisIndex:!1},brush:{type:["lineX","clear"]},saveAsImage:{show:!0,name:"\u5546\u54C1\u72B6\u51B5"}}},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},xAxis:{type:"category",boundaryGap:!0,axisTick:{show:!1}},yAxis:[{type:"value",name:"\u91D1\u989D",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#7F8B9C"}},splitLine:{show:!0,lineStyle:{color:"#F5F7F9"}}},{type:"value",name:"\u6570\u91CF",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#7F8B9C"}},splitLine:{show:!0,lineStyle:{color:"#F5F7F9"}}}]}),k=async()=>{h.value=!0;const u=y.value.times;ne(u[0],u[1])&&(u[0]=ue(z(u[0]).subtract(1,"d"))),await Promise.all([L(),B()]),h.value=!1},L=async()=>{const u=y.value.times;t.value=await g.getProductStatisticsAnalyse({times:u})},B=async()=>{const u=y.value.times,x=await g.getProductStatisticsList({times:u});for(let d of x)d.orderPayPrice=m(d.orderPayPrice),d.afterSaleRefundPrice=m(d.afterSaleRefundPrice);v.dataset&&v.dataset.source&&(v.dataset.source=x)},R=async()=>{try{await A.exportConfirm(),b.value=!0;const u=y.value.times,x=await g.exportProductStatisticsExcel({times:u});se.excel(x,"\u5546\u54C1\u72B6\u51B5.xls")}catch{}finally{b.value=!1}};return(u,x)=>{const d=H,I=J,E=ae,_=K,U=O,D=ee,G=W,T=fe,j=Z("hasPermi");return C(),S(T,{shadow:"never"},{header:n(()=>[N("div",P,[a(e(ie),{title:"\u5546\u54C1\u6982\u51B5"}),a(E,{ref_key:"shortcutDateRangePicker",ref:y,onChange:k},{default:n(()=>[Y((C(),S(I,{class:"ml-4",onClick:R,loading:e(b)},{default:n(()=>[a(d,{icon:"ep:download",class:"mr-1"}),q("\u5BFC\u51FA ")]),_:1},8,["loading"])),[[j,["statistics:product:export"]]])]),_:1},512)])]),default:n(()=>[a(U,{gutter:16},{default:n(()=>[a(_,{xl:4,md:8,sm:24},{default:n(()=>{var r,o,l,s,i,c;return[a(p,{title:"\u5546\u54C1\u6D4F\u89C8\u91CF",tooltip:"\u5728\u9009\u5B9A\u6761\u4EF6\u4E0B\uFF0C\u6240\u6709\u5546\u54C1\u8BE6\u60C5\u9875\u88AB\u8BBF\u95EE\u7684\u6B21\u6570\uFF0C\u4E00\u4E2A\u4EBA\u5728\u7EDF\u8BA1\u65F6\u95F4\u5185\u8BBF\u95EE\u591A\u6B21\u8BB0\u4E3A\u591A\u6B21",icon:"ep:view","icon-color":"bg-blue-100","icon-bg-color":"text-blue-500",prefix:"\uFFE5",decimals:2,value:e(m)(((o=(r=e(t))==null?void 0:r.value)==null?void 0:o.browseCount)||0),percent:e(f)((s=(l=e(t))==null?void 0:l.value)==null?void 0:s.browseCount,(c=(i=e(t))==null?void 0:i.reference)==null?void 0:c.browseCount)},null,8,["value","percent"])]}),_:1}),a(_,{xl:4,md:8,sm:24},{default:n(()=>{var r,o,l,s,i,c;return[a(p,{title:"\u5546\u54C1\u8BBF\u5BA2\u6570",tooltip:"\u5728\u9009\u5B9A\u6761\u4EF6\u4E0B\uFF0C\u8BBF\u95EE\u4EFB\u4F55\u5546\u54C1\u8BE6\u60C5\u9875\u7684\u4EBA\u6570\uFF0C\u4E00\u4E2A\u4EBA\u5728\u7EDF\u8BA1\u65F6\u95F4\u8303\u56F4\u5185\u8BBF\u95EE\u591A\u6B21\u53EA\u8BB0\u4E3A\u4E00\u4E2A",icon:"ep:user-filled","icon-color":"bg-purple-100","icon-bg-color":"text-purple-500",prefix:"\uFFE5",decimals:2,value:e(m)(((o=(r=e(t))==null?void 0:r.value)==null?void 0:o.browseUserCount)||0),percent:e(f)((s=(l=e(t))==null?void 0:l.value)==null?void 0:s.browseUserCount,(c=(i=e(t))==null?void 0:i.reference)==null?void 0:c.browseUserCount)},null,8,["value","percent"])]}),_:1}),a(_,{xl:4,md:8,sm:24},{default:n(()=>{var r,o,l,s,i,c;return[a(p,{title:"\u652F\u4ED8\u4EF6\u6570",tooltip:"\u5728\u9009\u5B9A\u6761\u4EF6\u4E0B\uFF0C\u6210\u529F\u4ED8\u6B3E\u8BA2\u5355\u7684\u5546\u54C1\u4EF6\u6570\u4E4B\u548C",icon:"fa-solid:money-check-alt","icon-color":"bg-yellow-100","icon-bg-color":"text-yellow-500",prefix:"\uFFE5",decimals:2,value:e(m)(((o=(r=e(t))==null?void 0:r.value)==null?void 0:o.orderPayCount)||0),percent:e(f)((s=(l=e(t))==null?void 0:l.value)==null?void 0:s.orderPayCount,(c=(i=e(t))==null?void 0:i.reference)==null?void 0:c.orderPayCount)},null,8,["value","percent"])]}),_:1}),a(_,{xl:4,md:8,sm:24},{default:n(()=>{var r,o,l,s,i,c;return[a(p,{title:"\u652F\u4ED8\u91D1\u989D",tooltip:"\u5728\u9009\u5B9A\u6761\u4EF6\u4E0B\uFF0C\u6210\u529F\u4ED8\u6B3E\u8BA2\u5355\u7684\u5546\u54C1\u91D1\u989D\u4E4B\u548C",icon:"ep:warning-filled","icon-color":"bg-green-100","icon-bg-color":"text-green-500",prefix:"\uFFE5",decimals:2,value:e(m)(((o=(r=e(t))==null?void 0:r.value)==null?void 0:o.orderPayPrice)||0),percent:e(f)((s=(l=e(t))==null?void 0:l.value)==null?void 0:s.orderPayPrice,(c=(i=e(t))==null?void 0:i.reference)==null?void 0:c.orderPayPrice)},null,8,["value","percent"])]}),_:1}),a(_,{xl:4,md:8,sm:24},{default:n(()=>{var r,o,l,s,i,c;return[a(p,{title:"\u9000\u6B3E\u4EF6\u6570",tooltip:"\u5728\u9009\u5B9A\u6761\u4EF6\u4E0B\uFF0C\u6210\u529F\u9000\u6B3E\u7684\u5546\u54C1\u4EF6\u6570\u4E4B\u548C",icon:"fa-solid:wallet","icon-color":"bg-cyan-100","icon-bg-color":"text-cyan-500",prefix:"\uFFE5",decimals:2,value:e(m)(((o=(r=e(t))==null?void 0:r.value)==null?void 0:o.afterSaleCount)||0),percent:e(f)((s=(l=e(t))==null?void 0:l.value)==null?void 0:s.afterSaleCount,(c=(i=e(t))==null?void 0:i.reference)==null?void 0:c.afterSaleCount)},null,8,["value","percent"])]}),_:1}),a(_,{xl:4,md:8,sm:24},{default:n(()=>{var r,o,l,s,i,c;return[a(p,{title:"\u9000\u6B3E\u91D1\u989D",tooltip:"\u5728\u9009\u5B9A\u6761\u4EF6\u4E0B\uFF0C\u6210\u529F\u9000\u6B3E\u7684\u5546\u54C1\u91D1\u989D\u4E4B\u548C",icon:"fa-solid:award","icon-color":"bg-yellow-100","icon-bg-color":"text-yellow-500",prefix:"\uFFE5",decimals:2,value:e(m)(((o=(r=e(t))==null?void 0:r.value)==null?void 0:o.afterSaleRefundPrice)||0),percent:e(f)((s=(l=e(t))==null?void 0:l.value)==null?void 0:s.afterSaleRefundPrice,(c=(i=e(t))==null?void 0:i.reference)==null?void 0:c.afterSaleRefundPrice)},null,8,["value","percent"])]}),_:1})]),_:1}),a(G,{loading:e(h),animated:""},{default:n(()=>[a(D,{height:500,options:e(v)},null,8,["options"])]),_:1},8,["loading"])]),_:1})}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/statistics/product/components/ProductSummary.vue"]])});export{xe as __tla,F as default};
