import{d as b,r as y,e as u,o as h,v as V,w,f as l,a as e,i as v,A as R,D as q,__tla as k}from"./index-d5b00dc9.js";import{_ as x,__tla as M}from"./XButton-3f4aabb5.js";import{I as i,__tla as U}from"./InputPassword-c9f9bc34.js";import{a as C,__tla as A}from"./profile-6fa0ddcb.js";import{u as D,__tla as E}from"./useMessage-2288a5f2.js";let p,F=Promise.all([(()=>{try{return k}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return E}catch{}})()]).then(async()=>{p=b({name:"ResetPwd",__name:"ResetPwd",setup(I){const{t:r}=v(),_=D(),n=y(),s=u({oldPassword:"",newPassword:"",confirmPassword:""}),f=u({oldPassword:[{required:!0,message:r("profile.password.oldPwdMsg"),trigger:"blur"},{min:6,max:20,message:r("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:r("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:r("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:r("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(c,a,o)=>{s.newPassword!==a?o(new Error(r("profile.password.diffPwd"))):o()},trigger:"blur"}]});return(c,a)=>{const o=R,m=x,P=q;return h(),V(P,{ref_key:"formRef",ref:n,model:e(s),rules:e(f),"label-width":200},{default:w(()=>[l(o,{label:e(r)("profile.password.oldPassword"),prop:"oldPassword"},{default:w(()=>[l(e(i),{modelValue:e(s).oldPassword,"onUpdate:modelValue":a[0]||(a[0]=t=>e(s).oldPassword=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:e(r)("profile.password.newPassword"),prop:"newPassword"},{default:w(()=>[l(e(i),{modelValue:e(s).newPassword,"onUpdate:modelValue":a[1]||(a[1]=t=>e(s).newPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:e(r)("profile.password.confirmPassword"),prop:"confirmPassword"},{default:w(()=>[l(e(i),{modelValue:e(s).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=t=>e(s).confirmPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,null,{default:w(()=>[l(m,{title:e(r)("common.save"),type:"primary",onClick:a[3]||(a[3]=t=>{var d;(d=e(n))&&d.validate(async g=>{g&&(await C(s.oldPassword,s.newPassword),_.success(r("common.updateSuccess")))})})},null,8,["title"]),l(m,{title:e(r)("common.reset"),type:"danger",onClick:a[4]||(a[4]=t=>{var d;(d=e(n))&&d.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}})});export{p as _,F as __tla};
