import{d as x,r as n,aS as y,o as L,v as S,w as l,f as r,a as s,aJ as b,h as C,t as P,ar as I,G as E,H as A,__tla as D}from"./index-d2088aec.js";import{E as U,__tla as z}from"./el-image-9c436071.js";import{__tla as G}from"./el-image-viewer-6188d22b.js";import{c as H,__tla as J}from"./index-b484ae95.js";import{_ as R,__tla as T}from"./SkuList.vue_vue_type_script_setup_true_lang-4d257069.js";let w,$=Promise.all([(()=>{try{return D}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return T}catch{}})()]).then(async()=>{w=x({name:"PromotionSpuAndSkuList",__name:"SpuAndSkuList",props:{spuList:{},ruleConfig:{},spuPropertyListP:{}},setup(k,{expose:v}){const c=k,m=n([]),f=n(),p=n([]),h=n();return v({getSkuConfigs:t=>{f.value.validateSku();const i=[];return p.value.forEach(a=>{a.spuDetail.skus.forEach(u=>{i.push(u[t])})}),i}}),y(()=>c.spuList,t=>{t&&(m.value=t)},{deep:!0,immediate:!0}),y(()=>c.spuPropertyListP,t=>{t&&(p.value=t,setTimeout(()=>{h.value=t.map(i=>i.spuId)},200))},{deep:!0,immediate:!0}),(t,i)=>{const a=E,u=U,g=A;return L(),S(g,{data:s(m),"expand-row-keys":s(h),"row-key":"id"},{default:l(()=>[r(a,{type:"expand",width:"30"},{default:l(({row:e})=>{var d,o;return[r(s(R),{ref_key:"skuListRef",ref:f,"is-activity-component":!0,"prop-form-data":(d=s(p).find(_=>_.spuId===e.id))==null?void 0:d.spuDetail,"property-list":(o=s(p).find(_=>_.spuId===e.id))==null?void 0:o.propertyList,"rule-config":t.ruleConfig},{extension:l(()=>[b(t.$slots,"default")]),_:2},1032,["prop-form-data","property-list","rule-config"])]}),_:3}),r(a,{key:"id",align:"center",label:"\u5546\u54C1\u7F16\u53F7",prop:"id"}),r(a,{label:"\u5546\u54C1\u56FE","min-width":"80"},{default:l(({row:e})=>[r(u,{src:e.picUrl,class:"h-30px w-30px",onClick:d=>{return o=e.picUrl,void H({zIndex:99999999,urlList:[o]});var o}},null,8,["src","onClick"])]),_:1}),r(a,{"show-overflow-tooltip":!0,label:"\u5546\u54C1\u540D\u79F0","min-width":"300",prop:"name"}),r(a,{align:"center",label:"\u5546\u54C1\u552E\u4EF7","min-width":"90",prop:"price"},{default:l(({row:e})=>[C(P(s(I)(e.price)),1)]),_:1}),r(a,{align:"center",label:"\u9500\u91CF","min-width":"90",prop:"salesCount"}),r(a,{align:"center",label:"\u5E93\u5B58","min-width":"90",prop:"stock"})]),_:3},8,["data","expand-row-keys"])}}})});export{w as _,$ as __tla};
