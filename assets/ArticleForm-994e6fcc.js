import{d as W,i as $,r as m,e as aa,p as ea,o as d,c as f,f as e,w as l,a as t,h as n,x as ta,v as p,F as y,q as g,t as b,a5 as la,l as ra,Q as oa,A as ua,j as _a,y as sa,z as da,c0 as ma,ai as na,aj as ia,al as ca,D as pa,k as fa,G as ya,J as va,_ as ha,__tla as ga}from"./index-f0743f71.js";import{_ as ba,__tla as Va}from"./Dialog-8f786edd.js";import{_ as Ia,__tla as Ua}from"./Editor-9944a8eb.js";import{_ as ka,__tla as wa}from"./UploadImg-aab03145.js";import{a as qa,D as q,g as C,__tla as Aa}from"./dict-4a9940b3.js";import{g as Na,c as Ba,u as xa,__tla as Fa}from"./index-46f0fa97.js";import{g as Sa,__tla as Ca}from"./index-7d149e42.js";import{i as Ha,__tla as Oa}from"./spu-5cbf535f.js";import Ra,{__tla as Ga}from"./SpuSelect-7fa36f5f.js";import{__tla as Ta}from"./el-image-015376ce.js";import{__tla as Da}from"./el-image-viewer-d97aa530.js";import{__tla as Ea}from"./index-4baae72c.js";import{__tla as Ma}from"./SkuList-64f06f71.js";import{u as La,__tla as Pa}from"./useMessage-75a00a06.js";import{__tla as Ja}from"./useUpload-27a6f734.js";import{__tla as Qa}from"./index-21698e53.js";import{__tla as Za}from"./ContentWrap-5acc4fb9.js";import{__tla as ja}from"./index-a48a5540.js";import{__tla as za}from"./index-cf7b3541.js";import{__tla as Xa}from"./index-8beae3df.js";import{__tla as Ya}from"./el-tree-select-d7a8a522.js";import{__tla as Ka}from"./index-6c38c988.js";import{__tla as Wa}from"./formatTime-e6df2ea5.js";import"./tree-02f455f9.js";import{__tla as $a}from"./category-7944548c.js";import{__tla as ae}from"./UploadImgs.vue_vue_type_style_index_0_scoped_9d666400_lang-24fc736b.js";import{__tla as ee}from"./UploadFile.vue_vue_type_style_index_0_scoped_436eca1b_lang-cd3de5a5.js";let H,te=Promise.all([(()=>{try{return ga}catch{}})(),(()=>{try{return Va}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Aa}catch{}})(),(()=>{try{return Fa}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Oa}catch{}})(),(()=>{try{return Ga}catch{}})(),(()=>{try{return Ta}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return Ea}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return Pa}catch{}})(),(()=>{try{return Ja}catch{}})(),(()=>{try{return Qa}catch{}})(),(()=>{try{return Za}catch{}})(),(()=>{try{return ja}catch{}})(),(()=>{try{return za}catch{}})(),(()=>{try{return Xa}catch{}})(),(()=>{try{return Ya}catch{}})(),(()=>{try{return Ka}catch{}})(),(()=>{try{return Wa}catch{}})(),(()=>{try{return $a}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return ee}catch{}})()]).then(async()=>{H=ha(W({name:"PromotionArticleForm",__name:"ArticleForm",emits:["success"],setup(le,{expose:O,emit:R}){const{t:V}=$(),A=La(),i=m(!1),N=m(""),c=m(!1),B=m(""),o=m({id:void 0,categoryId:void 0,title:void 0,author:void 0,picUrl:void 0,introduction:void 0,sort:0,status:0,spuId:0,recommendHot:!1,recommendBanner:!1,content:void 0}),G=aa({categoryId:[{required:!0,message:"\u5206\u7C7Bid\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],title:[{required:!0,message:"\u6587\u7AE0\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],picUrl:[{required:!0,message:"\u6587\u7AE0\u5C01\u9762\u56FE\u7247\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],spuId:[{required:!0,message:"\u5546\u54C1\u5173\u8054id\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],recommendHot:[{required:!0,message:"\u662F\u5426\u70ED\u95E8(\u5C0F\u7A0B\u5E8F)\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],recommendBanner:[{required:!0,message:"\u662F\u5426\u8F6E\u64AD\u56FE(\u5C0F\u7A0B\u5E8F)\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],content:[{required:!0,message:"\u6587\u7AE0\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=m(),x=m(),T=u=>{o.value.spuId=u};O({open:async(u,r)=>{if(i.value=!0,N.value=V("action."+u),B.value=u,M(),r){c.value=!0;try{o.value=await Na(r)}finally{c.value=!1}}}});const D=R,E=async()=>{if(v&&await v.value.validate()){c.value=!0;try{const u=o.value;B.value==="create"?(await Ba(u),A.success(V("common.createSuccess"))):(await xa(u),A.success(V("common.updateSuccess"))),i.value=!1,D("success")}finally{c.value=!1}}},M=()=>{var u;o.value={id:void 0,categoryId:void 0,title:void 0,author:void 0,picUrl:void 0,introduction:void 0,sort:0,status:0,spuId:0,recommendHot:!1,recommendBanner:!1,content:void 0},(u=v.value)==null||u.resetFields()},F=m([]),S=m([]);return ea(async()=>{F.value=await Sa(),S.value=await Ha()}),(u,r)=>{const I=oa,_=ua,s=_a,L=sa,P=da,J=ka,Q=ma,U=na,k=ia,Z=ca,w=pa,j=Ia,z=fa,X=ya,Y=ba,K=va;return d(),f(y,null,[e(Y,{modelValue:t(i),"onUpdate:modelValue":r[12]||(r[12]=a=>ra(i)?i.value=a:null),title:t(N),width:"70%"},{footer:l(()=>[e(w,{disabled:t(c),type:"primary",onClick:E},{default:l(()=>[n("\u786E \u5B9A")]),_:1},8,["disabled"]),e(w,{onClick:r[11]||(r[11]=a=>i.value=!1)},{default:l(()=>[n("\u53D6 \u6D88")]),_:1})]),default:l(()=>[ta((d(),p(X,{ref_key:"formRef",ref:v,model:t(o),rules:t(G),"label-width":"110px"},{default:l(()=>[e(z,null,{default:l(()=>[e(s,{span:12},{default:l(()=>[e(_,{label:"\u6587\u7AE0\u6807\u9898",prop:"title"},{default:l(()=>[e(I,{modelValue:t(o).title,"onUpdate:modelValue":r[0]||(r[0]=a=>t(o).title=a),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u6587\u7AE0\u5206\u7C7B",prop:"categoryId"},{default:l(()=>[e(P,{modelValue:t(o).categoryId,"onUpdate:modelValue":r[1]||(r[1]=a=>t(o).categoryId=a),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(d(!0),f(y,null,g(t(F),a=>(d(),p(L,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u6587\u7AE0\u4F5C\u8005",prop:"author"},{default:l(()=>[e(I,{modelValue:t(o).author,"onUpdate:modelValue":r[2]||(r[2]=a=>t(o).author=a),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u4F5C\u8005"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u6587\u7AE0\u7B80\u4ECB",prop:"introduction"},{default:l(()=>[e(I,{modelValue:t(o).introduction,"onUpdate:modelValue":r[3]||(r[3]=a=>t(o).introduction=a),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u7B80\u4ECB"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:24},{default:l(()=>[e(_,{label:"\u6587\u7AE0\u5C01\u9762",prop:"picUrl"},{default:l(()=>[e(J,{modelValue:t(o).picUrl,"onUpdate:modelValue":r[4]||(r[4]=a=>t(o).picUrl=a),height:"80px"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u6392\u5E8F",prop:"sort"},{default:l(()=>[e(Q,{modelValue:t(o).sort,"onUpdate:modelValue":r[5]||(r[5]=a=>t(o).sort=a),min:0,clearable:"","controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u72B6\u6001",prop:"status"},{default:l(()=>[e(k,{modelValue:t(o).status,"onUpdate:modelValue":r[6]||(r[6]=a=>t(o).status=a)},{default:l(()=>[(d(!0),f(y,null,g(t(qa)(t(q).COMMON_STATUS),a=>(d(),p(U,{key:a.value,label:a.value},{default:l(()=>[n(b(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u662F\u5426\u70ED\u95E8",prop:"recommendHot"},{default:l(()=>[e(k,{modelValue:t(o).recommendHot,"onUpdate:modelValue":r[7]||(r[7]=a=>t(o).recommendHot=a)},{default:l(()=>[(d(!0),f(y,null,g(t(C)(t(q).INFRA_BOOLEAN_STRING),a=>(d(),p(U,{key:a.value,label:a.value},{default:l(()=>[n(b(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:l(()=>[e(_,{label:"\u662F\u5426\u8F6E\u64AD\u56FE",prop:"recommendBanner"},{default:l(()=>[e(k,{modelValue:t(o).recommendBanner,"onUpdate:modelValue":r[8]||(r[8]=a=>t(o).recommendBanner=a)},{default:l(()=>[(d(!0),f(y,null,g(t(C)(t(q).INFRA_BOOLEAN_STRING),a=>(d(),p(U,{key:a.value,label:a.value},{default:l(()=>[n(b(a.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:24},{default:l(()=>[e(_,{label:"\u5546\u54C1\u5173\u8054",prop:"spuId"},{default:l(()=>[t(o).spuId?(d(),p(Z,{key:0,class:"mr-10px"},{default:l(()=>{var a;return[n(b((a=t(S).find(h=>h.id===t(o).spuId))==null?void 0:a.name),1)]}),_:1})):la("",!0),e(w,{onClick:r[9]||(r[9]=a=>{var h;return(h=t(x))==null?void 0:h.open()})},{default:l(()=>[n("\u9009\u62E9\u5546\u54C1")]),_:1})]),_:1})]),_:1}),e(s,{span:24},{default:l(()=>[e(_,{label:"\u6587\u7AE0\u5185\u5BB9"},{default:l(()=>[e(j,{modelValue:t(o).content,"onUpdate:modelValue":r[10]||(r[10]=a=>t(o).content=a),height:"150px"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[K,t(c)]])]),_:1},8,["modelValue","title"]),e(t(Ra),{ref_key:"spuSelectRef",ref:x,onConfirm:T},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/promotion/article/ArticleForm.vue"]])});export{te as __tla,H as default};
