import{a_ as Ke,a$ as V,d3 as Me,bB as I,b1 as M,d as L,r as F,aW as E,Y as k,bU as J,cZ as Le,d4 as A,a as T,aR as ae,cL as Ge,aI as D,d5 as S,S as h,o as B,q as z,e as g,b as C,aJ as ze,aK as Oe,d6 as ie,al as Ae,B as se,aS as He,d7 as Ne,az as Je,d8 as Ue,V as de,d9 as Ye,da as je,aj as ue,b0 as q,bE as We,c7 as Ve,db as qe,cd as Qe,bJ as Ze,c as U,cs as Xe,ah as H,N as Q,a0 as Z,dc as ce,dd as en,de as nn,f as on,aP as tn,aQ as X,F as ln,df as pe,dg as rn,dh as ve,di as an,dj as sn,dk as dn,au as un,dl as cn,dm as pn,b2 as vn,cY as fe,__tla as fn}from"./index-aaa5adb3.js";let me,ge,be,mn=Promise.all([(()=>{try{return fn}catch{}})()]).then(async()=>{const we=Ke({style:{type:V([String,Array,Object])},currentTabId:{type:V(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:V(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:he,ElCollectionItem:ye,COLLECTION_INJECTION_KEY:Y,COLLECTION_ITEM_INJECTION_KEY:Ie}=Me("RovingFocusGroup"),j=Symbol("elRovingFocusGroup"),ee=Symbol("elRovingFocusGroupItem"),Ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ke=(e,n,c)=>{const a=((d,u)=>{if(u!=="rtl")return d;switch(d){case I.right:return I.left;case I.left:return I.right;default:return d}})(e.key,c);if(!(n==="vertical"&&[I.left,I.right].includes(a)||n==="horizontal"&&[I.up,I.down].includes(a)))return Ee[a]},W=e=>{const{activeElement:n}=document;for(const c of e)if(c===n||(c.focus(),n!==document.activeElement))return},ne="currentTabIdChange",oe="rovingFocusGroup.entryFocus",Fe={bubbles:!1,cancelable:!0},Ce=L({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:we,emits:[ne,"entryFocus"],setup(e,{emit:n}){var c;const a=F((c=e.currentTabId||e.defaultCurrentTabId)!=null?c:null),d=F(!1),u=F(!1),i=F(null),{getItems:r}=E(Y,void 0),v=k(()=>[{outline:"none"},e.style]),b=S(l=>{var s;(s=e.onMousedown)==null||s.call(e,l)},()=>{u.value=!0}),w=S(l=>{var s;(s=e.onFocus)==null||s.call(e,l)},l=>{const s=!T(u),{target:f,currentTarget:y}=l;if(f===y&&s&&!T(d)){const P=new Event(oe,Fe);if(y==null||y.dispatchEvent(P),!P.defaultPrevented){const _=r().filter(m=>m.focusable),x=[_.find(m=>m.active),_.find(m=>m.id===T(a)),..._].filter(Boolean).map(m=>m.ref);W(x)}}u.value=!1}),t=S(l=>{var s;(s=e.onBlur)==null||s.call(e,l)},()=>{d.value=!1});J(j,{currentTabbedId:Le(a),loop:A(e,"loop"),tabIndex:k(()=>T(d)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:v,orientation:A(e,"orientation"),dir:A(e,"dir"),onItemFocus:l=>{n(ne,l)},onItemShiftTab:()=>{d.value=!0},onBlur:t,onFocus:w,onMousedown:b}),ae(()=>e.currentTabId,l=>{a.value=l??null}),Ge(i,oe,(...l)=>{n("entryFocus",...l)})}});var _e=M(L({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:he,ElRovingFocusGroupImpl:M(Ce,[["render",function(e,n,c,a,d,u){return D(e.$slots,"default")}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]])}}),[["render",function(e,n,c,a,d,u){const i=h("el-roving-focus-group-impl"),r=h("el-focus-group-collection");return B(),z(r,null,{default:g(()=>[C(i,ze(Oe(e.$attrs)),{default:g(()=>[D(e.$slots,"default")]),_:3},16)]),_:3})}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]),Re=M(L({components:{ElRovingFocusCollectionItem:ye},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:c,loop:a,onItemFocus:d,onItemShiftTab:u}=E(j,void 0),{getItems:i}=E(Y,void 0),r=ie(),v=F(null),b=S(s=>{n("mousedown",s)},s=>{e.focusable?d(T(r)):s.preventDefault()}),w=S(s=>{n("focus",s)},()=>{d(T(r))}),t=S(s=>{n("keydown",s)},s=>{const{key:f,shiftKey:y,target:P,currentTarget:_}=s;if(f===I.tab&&y)return void u();if(P!==_)return;const x=ke(s);if(x){s.preventDefault();let o=i().filter(p=>p.focusable).map(p=>p.ref);switch(x){case"last":o.reverse();break;case"prev":case"next":{x==="prev"&&o.reverse();const p=o.indexOf(_);o=a.value?($=p+1,(m=o).map((R,K)=>m[(K+$)%m.length])):o.slice(p+1);break}}Ae(()=>{W(o)})}var m,$}),l=k(()=>c.value===T(r));return J(ee,{rovingFocusGroupItemRef:v,tabIndex:k(()=>T(l)?0:-1),handleMousedown:b,handleFocus:w,handleKeydown:t}),{id:r,handleKeydown:t,handleFocus:w,handleMousedown:b}}}),[["render",function(e,n,c,a,d,u){const i=h("el-roving-focus-collection-item");return B(),z(i,{id:e.id,focusable:e.focusable,active:e.active},{default:g(()=>[D(e.$slots,"default")]),_:3},8,["id","focusable","active"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const N=Symbol("elDropdown"),{ButtonGroup:Te}=se;var Se=M(L({name:"ElDropdown",components:{ElButton:se,ElButtonGroup:Te,ElScrollbar:He,ElDropdownCollection:Ne,ElTooltip:Je,ElRovingFocusGroup:_e,ElOnlyChild:Ue,ElIcon:de,ArrowDown:Ye},props:je,emits:["visible-change","click","command"],setup(e,{emit:n}){const c=ue(),a=q("dropdown"),{t:d}=We(),u=F(),i=F(),r=F(null),v=F(null),b=F(null),w=F(null),t=F(!1),l=[I.enter,I.space,I.down],s=k(()=>({maxHeight:Ve(e.maxHeight)})),f=k(()=>[a.m(m.value)]),y=k(()=>qe(e.trigger)),P=ie().value,_=k(()=>e.id||P);function x(){var o;(o=r.value)==null||o.onClose()}ae([u,y],([o,p],[R])=>{var K,O,G;(K=R==null?void 0:R.$el)!=null&&K.removeEventListener&&R.$el.removeEventListener("pointerenter",$),(O=o==null?void 0:o.$el)!=null&&O.removeEventListener&&o.$el.removeEventListener("pointerenter",$),(G=o==null?void 0:o.$el)!=null&&G.addEventListener&&p.includes("hover")&&o.$el.addEventListener("pointerenter",$)},{immediate:!0}),Qe(()=>{var o,p;(p=(o=u.value)==null?void 0:o.$el)!=null&&p.removeEventListener&&u.value.$el.removeEventListener("pointerenter",$)});const m=Ze();function $(){var o,p;(p=(o=u.value)==null?void 0:o.$el)==null||p.focus()}return J(N,{contentRef:v,role:k(()=>e.role),triggerId:_,isUsingKeyboard:t,onItemEnter:function(){},onItemLeave:function(){const o=T(v);y.value.includes("hover")&&(o==null||o.focus()),w.value=null}}),J("elDropdown",{instance:c,dropdownSize:m,handleClick:function(){x()},commandHandler:function(...o){n("command",...o)},trigger:A(e,"trigger"),hideOnClick:A(e,"hideOnClick")}),{t:d,ns:a,scrollbar:b,wrapStyle:s,dropdownTriggerKls:f,dropdownSize:m,triggerId:_,triggerKeys:l,currentTabId:w,handleCurrentTabIdChange:function(o){w.value=o},handlerMainButtonClick:o=>{n("click",o)},handleEntryFocus:function(o){t.value||(o.preventDefault(),o.stopImmediatePropagation())},handleClose:x,handleOpen:function(){var o;(o=r.value)==null||o.onOpen()},handleBeforeShowTooltip:function(){n("visible-change",!0)},handleShowTooltip:function(o){(o==null?void 0:o.type)==="keydown"&&v.value.focus()},handleBeforeHideTooltip:function(){n("visible-change",!1)},onFocusAfterTrapped:o=>{var p,R;o.preventDefault(),(R=(p=v.value)==null?void 0:p.focus)==null||R.call(p,{preventScroll:!0})},popperRef:r,contentRef:v,triggeringElementRef:u,referenceElementRef:i}}}),[["render",function(e,n,c,a,d,u){var i;const r=h("el-dropdown-collection"),v=h("el-roving-focus-group"),b=h("el-scrollbar"),w=h("el-only-child"),t=h("el-tooltip"),l=h("el-button"),s=h("arrow-down"),f=h("el-icon"),y=h("el-button-group");return B(),U("div",{class:Q([e.ns.b(),e.ns.is("disabled",e.disabled)])},[C(t,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(i=e.referenceElementRef)==null?void 0:i.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Xe({content:g(()=>[C(b,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:g(()=>[C(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:g(()=>[C(r,null,{default:g(()=>[D(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:g(()=>[C(w,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:g(()=>[D(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(B(),z(y,{key:0},{default:g(()=>[C(l,H({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:g(()=>[D(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),C(l,H({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:g(()=>[C(f,{class:Q(e.ns.e("icon"))},{default:g(()=>[C(s)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Z("v-if",!0)],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const xe=L({name:"DropdownItemImpl",components:{ElIcon:de},props:ce,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const c=q("dropdown"),{role:a}=E(N,void 0),{collectionItemRef:d}=E(en,void 0),{collectionItemRef:u}=E(Ie,void 0),{rovingFocusGroupItemRef:i,tabIndex:r,handleFocus:v,handleKeydown:b,handleMousedown:w}=E(ee,void 0),t=pe(d,u,i),l=k(()=>a.value==="menu"?"menuitem":a.value==="navigation"?"link":"button"),s=S(f=>{const{code:y}=f;if(y===I.enter||y===I.space)return f.preventDefault(),f.stopImmediatePropagation(),n("clickimpl",f),!0},b);return{ns:c,itemRef:t,dataset:{[nn]:""},role:l,tabIndex:r,handleFocus:v,handleKeydown:s,handleMousedown:w}}}),Be=["aria-disabled","tabindex","role"],te=()=>{const e=E("elDropdown",{}),n=k(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},$e=L({name:"ElDropdownItem",components:{ElDropdownCollectionItem:rn,ElRovingFocusItem:Re,ElDropdownItemImpl:M(xe,[["render",function(e,n,c,a,d,u){const i=h("el-icon");return B(),U(ln,null,[e.divided?(B(),U("li",H({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Z("v-if",!0),on("li",H({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=r=>e.$emit("clickimpl",r)),onFocus:n[1]||(n[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:n[2]||(n[2]=X((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:n[3]||(n[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:n[4]||(n[4]=r=>e.$emit("pointermove",r)),onPointerleave:n[5]||(n[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(B(),z(i,{key:0},{default:g(()=>[(B(),z(tn(e.icon)))]),_:1})):Z("v-if",!0),D(e.$slots,"default")],16,Be)],64)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]])},inheritAttrs:!1,props:ce,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:c}){const{elDropdown:a}=te(),d=ue(),u=F(null),i=k(()=>{var t,l;return(l=(t=T(u))==null?void 0:t.textContent)!=null?l:""}),{onItemEnter:r,onItemLeave:v}=E(N,void 0),b=S(t=>(n("pointermove",t),t.defaultPrevented),ve(t=>{if(e.disabled)return void v(t);const l=t.currentTarget;l===document.activeElement||l.contains(document.activeElement)||(r(t),t.defaultPrevented||l==null||l.focus())})),w=S(t=>(n("pointerleave",t),t.defaultPrevented),ve(t=>{v(t)}));return{handleClick:S(t=>{if(!e.disabled)return n("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var l,s,f;e.disabled?t.stopImmediatePropagation():((l=a==null?void 0:a.hideOnClick)!=null&&l.value&&((s=a.handleClick)==null||s.call(a)),(f=a.commandHandler)==null||f.call(a,e.command,d,t))}),handlePointerMove:b,handlePointerLeave:w,textContent:i,propsAndAttrs:k(()=>({...e,...c}))}}});var le=M($e,[["render",function(e,n,c,a,d,u){var i;const r=h("el-dropdown-item-impl"),v=h("el-roving-focus-item"),b=h("el-dropdown-collection-item");return B(),z(b,{disabled:e.disabled,"text-value":(i=e.textValue)!=null?i:e.textContent},{default:g(()=>[C(v,{focusable:!e.disabled},{default:g(()=>[C(r,H(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:g(()=>[D(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const De=L({name:"ElDropdownMenu",props:an,setup(e){const n=q("dropdown"),{_elDropdownSize:c}=te(),a=c.value,{focusTrapRef:d,onKeydown:u}=E(sn,void 0),{contentRef:i,role:r,triggerId:v}=E(N,void 0),{collectionRef:b,getItems:w}=E(dn,void 0),{rovingFocusGroupRef:t,rovingFocusGroupRootStyle:l,tabIndex:s,onBlur:f,onFocus:y,onMousedown:P}=E(j,void 0),{collectionRef:_}=E(Y,void 0),x=k(()=>[n.b("menu"),n.bm("menu",a==null?void 0:a.value)]),m=pe(i,b,d,t,_),$=S(o=>{var p;(p=e.onKeydown)==null||p.call(e,o)},o=>{const{currentTarget:p,code:R,target:K}=o;if(p.contains(K),I.tab===R&&o.stopImmediatePropagation(),o.preventDefault(),K!==T(i)||!cn.includes(R))return;const O=w().filter(G=>!G.disabled).map(G=>G.ref);pn.includes(R)&&O.reverse(),W(O)});return{size:a,rovingFocusGroupRootStyle:l,tabIndex:s,dropdownKls:x,role:r,triggerId:v,dropdownListWrapperRef:m,handleKeydown:o=>{$(o),u(o)},onBlur:f,onFocus:y,onMousedown:P}}}),Pe=["role","aria-labelledby"];var re=M(De,[["render",function(e,n,c,a,d,u){return B(),U("ul",{ref:e.dropdownListWrapperRef,class:Q(e.dropdownKls),style:un(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...i)=>e.onBlur&&e.onBlur(...i)),onFocus:n[1]||(n[1]=(...i)=>e.onFocus&&e.onFocus(...i)),onKeydown:n[2]||(n[2]=X((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:n[3]||(n[3]=X((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[D(e.$slots,"default")],46,Pe)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);be=vn(Se,{DropdownItem:le,DropdownMenu:re}),me=fe(le),ge=fe(re)});export{me as E,mn as __tla,ge as a,be as b};
