import{d as N,r as y,u as Q,D as V,p as X,G as Y,o as m,c as Z,b as a,e as _,a as t,w as j,q as f,h as s,a0 as p,F as H,B as J,l as K,m as tt,a9 as at,_ as rt,__tla as _t}from"./index-aaa5adb3.js";import{g as lt,_ as et,__tla as it}from"./index-42372063.js";import{u as ot,__tla as ct}from"./tagsView-dc89dafa.js";import{c as mt,t as st,l as T,r as ut,p as nt,__tla as yt}from"./index-2eccb211.js";import ft,{__tla as pt}from"./CustomerForm-7ad571ab.js";import ht,{__tla as dt}from"./CustomerDetailsInfo-e56d3da4.js";import bt,{__tla as zt}from"./CustomerDetailsHeader-287d7439.js";import vt,{__tla as wt}from"./ContactList-0fe9d89f.js";import Ct,{__tla as Rt}from"./ContractList-4ec6bb77.js";import kt,{__tla as Mt}from"./BusinessList-16adeed0.js";import Ut,{__tla as Ot}from"./ReceivableList-65a96866.js";import St,{__tla as Tt}from"./ReceivablePlanList-6fc3ed4c.js";import Et,{__tla as $t}from"./PermissionList-eb0b1ef6.js";import gt,{__tla as It}from"./TransferForm-9fb21438.js";import xt,{__tla as Dt}from"./index-5a51f40c.js";import{B as u,__tla as Pt}from"./index-1f097625.js";import{u as Wt,__tla as Bt}from"./useMessage-873da1e2.js";import{__tla as Ft}from"./el-timeline-item-80b6ca09.js";import{__tla as Gt}from"./formatTime-9c0e8879.js";import{__tla as qt}from"./dict-f2796e71.js";import{__tla as At}from"./Dialog-9a73a39c.js";import{__tla as Lt}from"./el-tree-select-49584d8b.js";import{__tla as Nt}from"./index-380f2c90.js";import"./tree-02f455f9.js";import{__tla as Qt}from"./index-c1a6a53a.js";import{__tla as Vt}from"./ContentWrap-04d7f6d1.js";import{__tla as Xt}from"./index-5b7dcbf1.js";import{__tla as Yt}from"./el-collapse-item-085d40d1.js";import{__tla as Zt}from"./el-descriptions-item-815d7c36.js";import{__tla as jt}from"./DictTag-1c1088ae.js";import"./color-f5b6e279.js";import{__tla as Ht}from"./index-b47c179c.js";import{__tla as Jt}from"./index-c602062a.js";import{__tla as Kt}from"./el-link-50478468.js";import{__tla as ta}from"./index-a2708e2e.js";import{__tla as aa}from"./ContactForm-4df80b68.js";import{__tla as ra}from"./index-fa70e749.js";import{__tla as _a}from"./ContractForm-674aa405.js";import{__tla as la}from"./index-dbe340e2.js";import{__tla as ea}from"./ProductList-4b3b996d.js";import{__tla as ia}from"./index-b6c7d721.js";import{__tla as oa}from"./formatter-4b6b63b7.js";import{__tla as ca}from"./Table.vue_vue_type_style_index_0_scoped_b4105caf_lang-3103ecab.js";import{__tla as ma}from"./tsxHelper-bb26e676.js";import{__tla as sa}from"./BusinessForm-f4acbd82.js";import{__tla as ua}from"./index-899b453d.js";import{__tla as na}from"./BusinessListModal-6b0f55e7.js";import{__tla as ya}from"./index-54cd6515.js";import{__tla as fa}from"./ReceivableForm-860155e9.js";import{__tla as pa}from"./index-751f946d.js";import{__tla as ha}from"./ReceivablePlanForm-8eb85f5e.js";import{__tla as da}from"./PermissionForm-31d4d3f0.js";import{__tla as ba}from"./FollowUpRecordForm-530c0407.js";import{__tla as za}from"./UploadFile-31413487.js";import{__tla as va}from"./UploadFile.vue_vue_type_style_index_0_scoped_436eca1b_lang-d92f2323.js";import{__tla as wa}from"./useUpload-c52dec87.js";import{__tla as Ca}from"./index-fb6b5360.js";import{__tla as Ra}from"./UploadImgs-07b10914.js";import{__tla as ka}from"./UploadImgs.vue_vue_type_style_index_0_scoped_9d666400_lang-4f9fa2ef.js";import{__tla as Ma}from"./el-image-viewer-fc91515b.js";import{__tla as Ua}from"./BusinessList-39454331.js";import{__tla as Oa}from"./BusinessTableSelect-1e111ed0.js";import{__tla as Sa}from"./ContactList-5517b65f.js";import{__tla as Ta}from"./ContactTableSelect-30045ec6.js";let E,Ea=Promise.all([(()=>{try{return _t}catch{}})(),(()=>{try{return it}catch{}})(),(()=>{try{return ct}catch{}})(),(()=>{try{return yt}catch{}})(),(()=>{try{return pt}catch{}})(),(()=>{try{return dt}catch{}})(),(()=>{try{return zt}catch{}})(),(()=>{try{return wt}catch{}})(),(()=>{try{return Rt}catch{}})(),(()=>{try{return Mt}catch{}})(),(()=>{try{return Ot}catch{}})(),(()=>{try{return Tt}catch{}})(),(()=>{try{return $t}catch{}})(),(()=>{try{return It}catch{}})(),(()=>{try{return Dt}catch{}})(),(()=>{try{return Pt}catch{}})(),(()=>{try{return Bt}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Gt}catch{}})(),(()=>{try{return qt}catch{}})(),(()=>{try{return At}catch{}})(),(()=>{try{return Lt}catch{}})(),(()=>{try{return Nt}catch{}})(),(()=>{try{return Qt}catch{}})(),(()=>{try{return Vt}catch{}})(),(()=>{try{return Xt}catch{}})(),(()=>{try{return Yt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return jt}catch{}})(),(()=>{try{return Ht}catch{}})(),(()=>{try{return Jt}catch{}})(),(()=>{try{return Kt}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return za}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Ra}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return Oa}catch{}})(),(()=>{try{return Sa}catch{}})(),(()=>{try{return Ta}catch{}})()]).then(async()=>{E=rt(N({name:"CrmCustomerDetail",__name:"index",setup($a){const l=y(0),z=y(!0),e=Wt(),{delView:$}=ot(),{currentRoute:g}=Q(),o=y(),r=y({}),h=async()=>{z.value=!0;try{r.value=await mt(l.value),await F()}finally{z.value=!1}},v=y(),I=()=>{var c;(c=v.value)==null||c.open("update",l.value)},w=y(),x=()=>{var c;(c=w.value)==null||c.open("\u5BA2\u6237\u8F6C\u79FB",l.value,st)},D=async()=>{await e.confirm(`\u786E\u5B9A\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!0),e.success(`\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},P=async()=>{await e.confirm(`\u786E\u5B9A\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!1),e.success(`\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},W=async()=>{await e.confirm(`\u786E\u5B9A\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await ut([t(l.value)]),e.success(`\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},B=async()=>{await e.confirm(`\u786E\u5B9A\u5C06\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u5417\uFF1F`),await nt(t(l.value)),e.success(`\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u6210\u529F`),b()},C=y([]),F=async()=>{if(!l.value)return;const c=await lt({bizType:u.CRM_CUSTOMER,bizId:l.value});C.value=c.list},b=()=>{$(t(g))},{params:R}=V();return X(()=>{if(!R.id)return e.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u5BA2\u6237\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void b();l.value=R.id,h()}),(c,ga)=>{const n=J,i=K,G=et,q=tt,A=at,L=Y("hasPermi");return m(),Z(H,null,[a(bt,{customer:t(r),loading:t(z)},{default:_(()=>{var d,k,M,U,O,S;return[(d=t(o))!=null&&d.validateWrite?j((m(),f(n,{key:0,type:"primary",onClick:I},{default:_(()=>[s(" \u7F16\u8F91 ")]),_:1})),[[L,["crm:customer:update"]]]):p("",!0),(k=t(o))!=null&&k.validateOwnerUser?(m(),f(n,{key:1,type:"primary",onClick:x},{default:_(()=>[s(" \u8F6C\u79FB ")]),_:1})):p("",!0),(M=t(o))!=null&&M.validateWrite?(m(),f(n,{key:2},{default:_(()=>[s("\u66F4\u6539\u6210\u4EA4\u72B6\u6001")]),_:1})):p("",!0),t(r).lockStatus&&((U=t(o))!=null&&U.validateOwnerUser)?(m(),f(n,{key:3,onClick:P},{default:_(()=>[s(" \u89E3\u9501 ")]),_:1})):p("",!0),!t(r).lockStatus&&((O=t(o))!=null&&O.validateOwnerUser)?(m(),f(n,{key:4,onClick:D},{default:_(()=>[s(" \u9501\u5B9A ")]),_:1})):p("",!0),t(r).ownerUserId?p("",!0):(m(),f(n,{key:5,type:"primary",onClick:W},{default:_(()=>[s(" \u9886\u53D6\u5BA2\u6237 ")]),_:1})),t(r).ownerUserId&&((S=t(o))!=null&&S.validateOwnerUser)?(m(),f(n,{key:6,onClick:B},{default:_(()=>[s(" \u5BA2\u6237\u653E\u5165\u516C\u6D77 ")]),_:1})):p("",!0)]}),_:1},8,["customer","loading"]),a(A,null,{default:_(()=>[a(q,null,{default:_(()=>[a(i,{label:"\u8DDF\u8FDB\u8BB0\u5F55"},{default:_(()=>[a(xt,{"biz-id":t(l),"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u57FA\u672C\u4FE1\u606F"},{default:_(()=>[a(ht,{customer:t(r)},null,8,["customer"])]),_:1}),a(i,{label:"\u8054\u7CFB\u4EBA",lazy:""},{default:_(()=>[a(vt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56E2\u961F\u6210\u5458"},{default:_(()=>{var d;return[a(Et,{ref_key:"permissionListRef",ref:o,"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER,"show-action":!((d=t(o))!=null&&d.isPool)||!1,onQuitTeam:b},null,8,["biz-id","biz-type","show-action"])]}),_:1}),a(i,{label:"\u5546\u673A",lazy:""},{default:_(()=>[a(kt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u5408\u540C",lazy:""},{default:_(()=>[a(Ct,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56DE\u6B3E",lazy:""},{default:_(()=>[a(St,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"]),a(Ut,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u64CD\u4F5C\u65E5\u5FD7"},{default:_(()=>[a(G,{"log-list":t(C)},null,8,["log-list"])]),_:1}),a(i,{label:"\u56DE\u8BBF",lazy:""},{default:_(()=>[s("TODO \u5F85\u5F00\u53D1")]),_:1})]),_:1})]),_:1}),a(ft,{ref_key:"formRef",ref:v,onSuccess:h},null,512),a(gt,{ref_key:"crmTransferFormRef",ref:w,onSuccess:b},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/customer/detail/index.vue"]])});export{Ea as __tla,E as default};
