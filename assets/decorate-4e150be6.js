import{P as T,_ as j,__tla as q}from"./util-db872c68.js";import{d as z,r as l,n as B,u as C,p as L,a,o as d,q as x,e as i,b as f,c as J,g as K,F as M,j as Q,$ as A,aw as E,_ as G,ax as H,ay as N,af as O,__tla as W}from"./index-34f06ebd.js";import{g as X,u as Y,__tla as Z}from"./template-5e67e299.js";import{u as aa,__tla as ea}from"./page-f6ab5d64.js";import{u as ta,__tla as ra}from"./tagsView-0be307a7.js";import{u as la,__tla as oa}from"./useMessage-7a5ab7ef.js";import{__tla as sa}from"./Dialog.vue_vue_type_style_index_0_lang-08560286.js";import{__tla as _a}from"./Qrcode-3eed5dff.js";import{__tla as na}from"./Qrcode.vue_vue_type_style_index_0_scoped_8fc6cf2d_lang-d1da625a.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as ua}from"./el-text-b3569e32.js";import{__tla as ia}from"./IFrame.vue_vue_type_script_setup_true_lang-abbc4198.js";import{__tla as ma}from"./vuedraggable.umd-ced8efbb.js";import{__tla as ca}from"./el-collapse-item-c051ca56.js";import{__tla as pa}from"./index-460c50ff.js";let I,va=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return pa}catch{}})()]).then(async()=>{let u;u="diy_page_index",I=z({name:"DiyTemplateDecorate",__name:"decorate",setup(da){const e=l(0),m=B([{name:"\u57FA\u7840\u8BBE\u7F6E",icon:"ep:iphone"},{name:"\u9996\u9875",icon:"ep:home-filled"},{name:"\u6211\u7684",icon:"ep:user-filled"}]),y=la(),_=l(!1),r=l(),h=l(),o=l(),g=l(""),w=[],c=l(w),b=()=>{if(e.value===0)return c.value=w,void(o.value=r.value);c.value=T,o.value=r.value.pages.find(n=>n.name===m[e.value].name)},S=async()=>{if(h){_.value=!0;try{e.value===0?await Y(a(r)):await aa(a(o)),y.success("\u4FDD\u5B58\u6210\u529F")}finally{_.value=!1}}},$=()=>k(),k=()=>sessionStorage.setItem(u,`${e.value}`),{currentRoute:p}=C(),{delView:F}=ta();return L(async()=>{var n;if(r.value={id:void 0,name:"",used:!1,usedTime:void 0,remark:"",previewPicUrls:[],property:"",pages:[]},(n=h.value)==null||n.resetFields(),!p.value.params.id)return y.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void F(a(p));await(async t=>{_.value=!0;try{r.value=await X(t),o.value=r.value;const v="http://mall.yudao.iocoder.cn";g.value=`${v}/#/pages/index/index?templateId=${r.value.id}`}finally{_.value=!1}})(p.value.params.id),(()=>{const t=E(sessionStorage.getItem(u))||0;sessionStorage.removeItem(u),t!==e.value&&(e.value=t,b())})()}),(n,t)=>{const v=G,P=H,U=N,D=O,R=j;return a(r)&&!a(_)?(d(),x(R,{key:0,modelValue:a(o).property,"onUpdate:modelValue":t[1]||(t[1]=s=>a(o).property=s),title:a(m)[a(e)].name,libs:a(c),"show-page-config":a(e)!==0,"show-tab-bar":a(e)===0,"show-navigation-bar":a(e)!==0,"preview-url":a(g),onSave:S,onReset:$},{toolBarLeft:i(()=>[f(D,{modelValue:a(e),"onUpdate:modelValue":t[0]||(t[0]=s=>Q(e)?e.value=s:null),class:"h-full!",onChange:b},{default:i(()=>[(d(!0),J(M,null,K(a(m),(s,V)=>(d(),x(U,{key:V,content:s.name},{default:i(()=>[f(P,{label:V},{default:i(()=>[f(v,{icon:s.icon,size:24},null,8,["icon"])]),_:2},1032,["label"])]),_:2},1032,["content"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title","libs","show-page-config","show-tab-bar","show-navigation-bar","preview-url"])):A("",!0)}}})});export{va as __tla,I as default};
