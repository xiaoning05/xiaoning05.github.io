import{d as x,r as n,n as A,u as D,aQ as E,o as y,c as M,b as a,e as l,h as g,w as L,q as j,a as t,t as q,F as B,_ as F,A as O,aa as P,E as H,i as Q,v as W,__tla as G}from"./index-34f06ebd.js";import{_ as J,__tla as K}from"./ContentWrap.vue_vue_type_script_setup_true_lang-80915c85.js";import{_ as V,__tla as X}from"./index.vue_vue_type_script_setup_true_lang-68fe248c.js";import{_ as Y,__tla as Z}from"./DictTag.vue_vue_type_script_lang-942df0b2.js";import{E as $,__tla as aa}from"./el-link-6a9ddb0c.js";import{a as ta,__tla as ea}from"./index-f018baa9.js";import{_ as ra,__tla as la}from"./ReceivableForm.vue_vue_type_script_setup_true_lang-be8cdd5b.js";import{B as oa,__tla as _a}from"./index-ad2ad2c3.js";import{d as ia,__tla as sa}from"./formatTime-ed0a77fd.js";import{f as na,__tla as pa}from"./formatter-20c10600.js";import{D as ca,__tla as ua}from"./dict-e142e39a.js";let b,ma=Promise.all([(()=>{try{return G}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ua}catch{}})()]).then(async()=>{b=x({name:"CrmReceivableList",__name:"ReceivableList",props:{bizType:{},bizId:{}},setup(h){const _=h,p=n(!0),u=n(0),m=n([]),e=A({pageNo:1,pageSize:10,customerId:void 0}),c=async()=>{p.value=!0;try{e.customerId=void 0;let i={list:[],total:0};if(_.bizType!==oa.CRM_CUSTOMER)return;e.customerId=_.bizId,i=await ta(e),m.value=i.list,u.value=i.total}finally{p.value=!1}},f=n(),v=()=>{f.value.open("create")},{push:w}=D();return E(()=>[_.bizId,_.bizType],()=>{e.pageNo=1,c()},{immediate:!0,deep:!0}),(i,s)=>{const z=F,C=O,S=P,R=$,o=H,T=Y,U=Q,I=V,N=J,k=W;return y(),M(B,null,[a(S,{justify:"end"},{default:l(()=>[a(C,{onClick:v},{default:l(()=>[a(z,{class:"mr-5px",icon:"icon-park:income-one"}),g(" \u521B\u5EFA\u56DE\u6B3E ")]),_:1})]),_:1}),a(N,{class:"mt-10px"},{default:l(()=>[L((y(),j(U,{data:t(m),stripe:!0,"show-overflow-tooltip":!0},{default:l(()=>[a(o,{label:"\u56DE\u6B3E\u7F16\u53F7",fixed:"left",align:"center",prop:"no"},{default:l(r=>[a(R,{type:"primary",underline:!1,onClick:fa=>{return d=r.row.id,void w({name:"CrmReceivableDetail",params:{id:d}});var d}},{default:l(()=>[g(q(r.row.no),1)]),_:2},1032,["onClick"])]),_:1}),a(o,{label:"\u5408\u540C\u7F16\u53F7",align:"center",prop:"contractNo"}),a(o,{label:"\u56DE\u6B3E\u91D1\u989D\uFF08\u5143\uFF09",align:"center",prop:"price",formatter:t(na)},null,8,["formatter"]),a(o,{label:"\u8D1F\u8D23\u4EBA",align:"center",prop:"ownerUserName"}),a(o,{align:"center",label:"\u72B6\u6001",prop:"auditStatus"},{default:l(r=>[a(T,{type:t(ca).CRM_AUDIT_STATUS,value:r.row.auditStatus},null,8,["type","value"])]),_:1}),a(o,{label:"\u56DE\u6B3E\u65E5\u671F",align:"center",prop:"returnTime",formatter:t(ia),width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[k,t(p)]]),a(I,{total:t(u),page:t(e).pageNo,"onUpdate:page":s[0]||(s[0]=r=>t(e).pageNo=r),limit:t(e).pageSize,"onUpdate:limit":s[1]||(s[1]=r=>t(e).pageSize=r),onPagination:c},null,8,["total","page","limit"])]),_:1}),a(ra,{ref_key:"formRef",ref:f,onSuccess:c},null,512)],64)}}})});export{b as _,ma as __tla};
