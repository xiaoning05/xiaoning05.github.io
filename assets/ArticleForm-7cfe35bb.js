import{d as Q,k as $,r as m,n as ee,p as ae,o as d,c as f,b as a,e as l,a as t,h as n,w as te,q as p,F as y,g,t as b,a0 as le,j as re,L as oe,y as ue,a9 as _e,s as se,x as de,bX as me,af as ne,ag as ie,ai as ce,B as pe,ab as fe,C as ye,v as ve,_ as he,__tla as ge}from"./index-aaa5adb3.js";import{_ as be,__tla as Ve}from"./Dialog-9a73a39c.js";import{_ as Ie,__tla as Ue}from"./Editor-71118346.js";import{_ as ke,__tla as we}from"./UploadImg-9fa46f1e.js";import{a as qe,D as q,g as S,__tla as Be}from"./dict-f2796e71.js";import{g as Ae,c as Ne,u as xe,__tla as Ce}from"./index-8bd671fc.js";import{g as Fe,__tla as Se}from"./index-8424f3df.js";import{i as He,__tla as Oe}from"./spu-d46eb782.js";import Re,{__tla as Te}from"./SpuSelect-80d29a4c.js";import{__tla as Ee}from"./el-image-1cd11263.js";import{__tla as Ge}from"./el-image-viewer-fc91515b.js";import{__tla as Le}from"./index-93c914d7.js";import{__tla as Me}from"./SkuList-8302ad2f.js";import{u as De,__tla as Pe}from"./useMessage-873da1e2.js";import{__tla as Xe}from"./useUpload-c52dec87.js";import{__tla as Ye}from"./index-fb6b5360.js";import{__tla as Ze}from"./ContentWrap-04d7f6d1.js";import{__tla as je}from"./index-5b7dcbf1.js";import{__tla as Ke}from"./index-b47c179c.js";import{__tla as We}from"./index-c602062a.js";import{__tla as ze}from"./el-tree-select-49584d8b.js";import{__tla as Je}from"./index-e75c9a63.js";import{__tla as Qe}from"./formatTime-9c0e8879.js";import"./tree-02f455f9.js";import{__tla as $e}from"./category-9fe58d90.js";import{__tla as ea}from"./UploadImgs.vue_vue_type_style_index_0_scoped_9d666400_lang-4f9fa2ef.js";import{__tla as aa}from"./UploadFile.vue_vue_type_style_index_0_scoped_436eca1b_lang-d92f2323.js";let H,ta=Promise.all([(()=>{try{return ge}catch{}})(),(()=>{try{return Ve}catch{}})(),(()=>{try{return Ue}catch{}})(),(()=>{try{return we}catch{}})(),(()=>{try{return Be}catch{}})(),(()=>{try{return Ce}catch{}})(),(()=>{try{return Se}catch{}})(),(()=>{try{return Oe}catch{}})(),(()=>{try{return Te}catch{}})(),(()=>{try{return Ee}catch{}})(),(()=>{try{return Ge}catch{}})(),(()=>{try{return Le}catch{}})(),(()=>{try{return Me}catch{}})(),(()=>{try{return Pe}catch{}})(),(()=>{try{return Xe}catch{}})(),(()=>{try{return Ye}catch{}})(),(()=>{try{return Ze}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return Ke}catch{}})(),(()=>{try{return We}catch{}})(),(()=>{try{return ze}catch{}})(),(()=>{try{return Je}catch{}})(),(()=>{try{return Qe}catch{}})(),(()=>{try{return $e}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return aa}catch{}})()]).then(async()=>{H=he(Q({name:"PromotionArticleForm",__name:"ArticleForm",emits:["success"],setup(la,{expose:O,emit:R}){const{t:V}=$(),B=De(),i=m(!1),A=m(""),c=m(!1),N=m(""),o=m({id:void 0,categoryId:void 0,title:void 0,author:void 0,picUrl:void 0,introduction:void 0,sort:0,status:0,spuId:0,recommendHot:!1,recommendBanner:!1,content:void 0}),T=ee({categoryId:[{required:!0,message:"\u5206\u7C7Bid\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],title:[{required:!0,message:"\u6587\u7AE0\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],picUrl:[{required:!0,message:"\u6587\u7AE0\u5C01\u9762\u56FE\u7247\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],spuId:[{required:!0,message:"\u5546\u54C1\u5173\u8054id\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],recommendHot:[{required:!0,message:"\u662F\u5426\u70ED\u95E8(\u5C0F\u7A0B\u5E8F)\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],recommendBanner:[{required:!0,message:"\u662F\u5426\u8F6E\u64AD\u56FE(\u5C0F\u7A0B\u5E8F)\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],content:[{required:!0,message:"\u6587\u7AE0\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),v=m(),x=m(),E=u=>{o.value.spuId=u};O({open:async(u,r)=>{if(i.value=!0,A.value=V("action."+u),N.value=u,M(),r){c.value=!0;try{o.value=await Ae(r)}finally{c.value=!1}}}});const G=R,L=async()=>{if(v&&await v.value.validate()){c.value=!0;try{const u=o.value;N.value==="create"?(await Ne(u),B.success(V("common.createSuccess"))):(await xe(u),B.success(V("common.updateSuccess"))),i.value=!1,G("success")}finally{c.value=!1}}},M=()=>{var u;o.value={id:void 0,categoryId:void 0,title:void 0,author:void 0,picUrl:void 0,introduction:void 0,sort:0,status:0,spuId:0,recommendHot:!1,recommendBanner:!1,content:void 0},(u=v.value)==null||u.resetFields()},C=m([]),F=m([]);return ae(async()=>{C.value=await Fe(),F.value=await He()}),(u,r)=>{const I=oe,_=ue,s=_e,D=se,P=de,X=ke,Y=me,U=ne,k=ie,Z=ce,w=pe,j=Ie,K=fe,W=ye,z=be,J=ve;return d(),f(y,null,[a(z,{modelValue:t(i),"onUpdate:modelValue":r[12]||(r[12]=e=>re(i)?i.value=e:null),title:t(A),width:"70%"},{footer:l(()=>[a(w,{disabled:t(c),type:"primary",onClick:L},{default:l(()=>[n("\u786E \u5B9A")]),_:1},8,["disabled"]),a(w,{onClick:r[11]||(r[11]=e=>i.value=!1)},{default:l(()=>[n("\u53D6 \u6D88")]),_:1})]),default:l(()=>[te((d(),p(W,{ref_key:"formRef",ref:v,model:t(o),rules:t(T),"label-width":"110px"},{default:l(()=>[a(K,null,{default:l(()=>[a(s,{span:12},{default:l(()=>[a(_,{label:"\u6587\u7AE0\u6807\u9898",prop:"title"},{default:l(()=>[a(I,{modelValue:t(o).title,"onUpdate:modelValue":r[0]||(r[0]=e=>t(o).title=e),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898"},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u6587\u7AE0\u5206\u7C7B",prop:"categoryId"},{default:l(()=>[a(P,{modelValue:t(o).categoryId,"onUpdate:modelValue":r[1]||(r[1]=e=>t(o).categoryId=e),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(d(!0),f(y,null,g(t(C),e=>(d(),p(D,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u6587\u7AE0\u4F5C\u8005",prop:"author"},{default:l(()=>[a(I,{modelValue:t(o).author,"onUpdate:modelValue":r[2]||(r[2]=e=>t(o).author=e),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u4F5C\u8005"},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u6587\u7AE0\u7B80\u4ECB",prop:"introduction"},{default:l(()=>[a(I,{modelValue:t(o).introduction,"onUpdate:modelValue":r[3]||(r[3]=e=>t(o).introduction=e),placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u7B80\u4ECB"},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:24},{default:l(()=>[a(_,{label:"\u6587\u7AE0\u5C01\u9762",prop:"picUrl"},{default:l(()=>[a(X,{modelValue:t(o).picUrl,"onUpdate:modelValue":r[4]||(r[4]=e=>t(o).picUrl=e),height:"80px"},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u6392\u5E8F",prop:"sort"},{default:l(()=>[a(Y,{modelValue:t(o).sort,"onUpdate:modelValue":r[5]||(r[5]=e=>t(o).sort=e),min:0,clearable:"","controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u72B6\u6001",prop:"status"},{default:l(()=>[a(k,{modelValue:t(o).status,"onUpdate:modelValue":r[6]||(r[6]=e=>t(o).status=e)},{default:l(()=>[(d(!0),f(y,null,g(t(qe)(t(q).COMMON_STATUS),e=>(d(),p(U,{key:e.value,label:e.value},{default:l(()=>[n(b(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u662F\u5426\u70ED\u95E8",prop:"recommendHot"},{default:l(()=>[a(k,{modelValue:t(o).recommendHot,"onUpdate:modelValue":r[7]||(r[7]=e=>t(o).recommendHot=e)},{default:l(()=>[(d(!0),f(y,null,g(t(S)(t(q).INFRA_BOOLEAN_STRING),e=>(d(),p(U,{key:e.value,label:e.value},{default:l(()=>[n(b(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:l(()=>[a(_,{label:"\u662F\u5426\u8F6E\u64AD\u56FE",prop:"recommendBanner"},{default:l(()=>[a(k,{modelValue:t(o).recommendBanner,"onUpdate:modelValue":r[8]||(r[8]=e=>t(o).recommendBanner=e)},{default:l(()=>[(d(!0),f(y,null,g(t(S)(t(q).INFRA_BOOLEAN_STRING),e=>(d(),p(U,{key:e.value,label:e.value},{default:l(()=>[n(b(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(s,{span:24},{default:l(()=>[a(_,{label:"\u5546\u54C1\u5173\u8054",prop:"spuId"},{default:l(()=>[t(o).spuId?(d(),p(Z,{key:0,class:"mr-10px"},{default:l(()=>{var e;return[n(b((e=t(F).find(h=>h.id===t(o).spuId))==null?void 0:e.name),1)]}),_:1})):le("",!0),a(w,{onClick:r[9]||(r[9]=e=>{var h;return(h=t(x))==null?void 0:h.open()})},{default:l(()=>[n("\u9009\u62E9\u5546\u54C1")]),_:1})]),_:1})]),_:1}),a(s,{span:24},{default:l(()=>[a(_,{label:"\u6587\u7AE0\u5185\u5BB9"},{default:l(()=>[a(j,{modelValue:t(o).content,"onUpdate:modelValue":r[10]||(r[10]=e=>t(o).content=e),height:"150px"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[J,t(c)]])]),_:1},8,["modelValue","title"]),a(t(Re),{ref_key:"spuSelectRef",ref:x,onConfirm:E},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/promotion/article/ArticleForm.vue"]])});export{ta as __tla,H as default};
