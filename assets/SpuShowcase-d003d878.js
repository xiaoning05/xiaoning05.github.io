import{d as E,aV as T,ag as v,a1 as U,r as y,aS as j,aw as b,o as s,c as u,g as o,F as g,q as F,f as e,w as V,x as I,a3 as L,a as w,v as M,a4 as P,_ as X,aA as z,__tla as B}from"./index-d2088aec.js";import{E as D,__tla as G}from"./el-image-9c436071.js";import{__tla as H}from"./el-image-viewer-6188d22b.js";import{b as J,__tla as K}from"./spu-23786f86.js";import{_ as O,__tla as Q}from"./SpuTableSelect.vue_vue_type_script_setup_true_lang-c8a25dde.js";import{_ as W}from"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as Y}from"./Dialog.vue_vue_type_style_index_0_lang-4d2024bd.js";import{__tla as Z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-3fd6aef1.js";import{__tla as $}from"./index-82efac34.js";import{__tla as aa}from"./index.vue_vue_type_script_setup_true_lang-6baf9e60.js";import{__tla as la}from"./index-9309eb20.js";import{__tla as ta}from"./el-tree-select-284f702e.js";import"./tree-82bb3b99.js";import{__tla as ea}from"./category-a03fb5e0.js";let x,ra=Promise.all([(()=>{try{return B}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ea}catch{}})()]).then(async()=>{let i,m;i={class:"flex flex-wrap items-center gap-8px"},m={class:"relative h-full w-full"},x=W(E({name:"SpuShowcase",__name:"SpuShowcase",props:{modelValue:T([Number,Array]).isRequired,limit:v.number.def(Number.MAX_VALUE),disabled:v.bool.def(!1)},emits:["update:modelValue","change"],setup(_,{emit:k}){const t=_,S=U(()=>!t.disabled&&(!t.limit||l.value.length<t.limit)),l=y([]);j(()=>t.modelValue,async()=>{const a=b(t.modelValue)?t.modelValue:t.modelValue?[t.modelValue]:[];a.length!==0?(l.value.length===0||l.value.some(p=>!a.includes(p.id)))&&(l.value=await J(a)):l.value=[]},{immediate:!0});const n=y(),C=()=>{n.value.open(l.value)},A=a=>{l.value=b(a)?a:[a],d()},r=k,d=()=>{if(t.limit===1){const a=l.value.length>0?l.value[0]:null;r("update:modelValue",(a==null?void 0:a.id)||0),r("change",a)}else r("update:modelValue",l.value.map(a=>a.id)),r("change",l.value)};return(a,p)=>{const q=D,f=X,h=z;return s(),u(g,null,[o("div",i,[(s(!0),u(g,null,F(w(l),(c,N)=>(s(),u("div",{key:c.id,class:"select-box spu-pic"},[e(h,{content:c.name},{default:V(()=>[o("div",m,[e(q,{src:c.picUrl,class:"h-full w-full"},null,8,["src"]),I(e(f,{class:"del-icon",icon:"ep:circle-close-filled",onClick:sa=>(R=>{l.value.splice(R,1),d()})(N)},null,8,["onClick"]),[[L,!_.disabled]])])]),_:2},1032,["content"])]))),128)),w(S)?(s(),M(h,{key:0,content:"\u9009\u62E9\u5546\u54C1"},{default:V(()=>[o("div",{class:"select-box",onClick:C},[e(f,{icon:"ep:plus"})])]),_:1})):P("",!0)]),e(O,{ref_key:"spuTableSelectRef",ref:n,multiple:_.limit!=1,onChange:A},null,8,["multiple"])],64)}}}),[["__scopeId","data-v-83497b1b"]])});export{ra as __tla,x as default};
