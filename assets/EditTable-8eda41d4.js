import{d as q,u as A,J as D,r as _,p as J,x as S,a,o as U,v as j,w as l,f as t,l as B,h as y,i as F,m as G,n as H,C as P,A as W,D as z,I as K,__tla as L}from"./index-d5b00dc9.js";import{_ as M,__tla as N}from"./ContentWrap.vue_vue_type_script_setup_true_lang-29ba9b6b.js";import{u as O,__tla as Q}from"./tagsView-5c5a0671.js";import{_ as X,__tla as Y}from"./BasicInfoForm.vue_vue_type_script_setup_true_lang-61ec165c.js";import{_ as Z,__tla as $}from"./ColumInfoForm.vue_vue_type_script_setup_true_lang-58351d5d.js";import{_ as aa,__tla as ta}from"./GenerateInfoForm.vue_vue_type_script_setup_true_lang-a0e4f306.js";import{g as la,u as ra,__tla as ea}from"./index-52a5ef6e.js";import{u as _a,__tla as sa}from"./useMessage-2288a5f2.js";import{__tla as oa}from"./index-bd0d9e6c.js";import{__tla as ua}from"./formRules-290333c3.js";import{__tla as na}from"./dict.type-fda86c3e.js";import{__tla as ca}from"./el-dropdown-item-0e269d4d.js";import{__tla as ma}from"./el-tree-select-8e562b9e.js";import{__tla as fa}from"./dict-29b94c3f.js";import"./tree-82bb3b99.js";import{__tla as ia}from"./index-db1339ed.js";let d,ya=Promise.all([(()=>{try{return L}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return ia}catch{}})()]).then(async()=>{d=q({name:"InfraCodegenEditTable",__name:"EditTable",setup(da){const{t:p}=F(),h=_a(),{push:b,currentRoute:g}=A(),{query:v}=D(),{delView:I}=O(),o=_(!1),u=_("colum"),c=_(),w=_(),m=_(),r=_({table:{},columns:[]}),k=async()=>{var e,s;if(a(r)){await((e=a(c))==null?void 0:e.validate()),await((s=a(m))==null?void 0:s.validate());try{await ra(r.value),h.success(p("common.updateSuccess")),f()}catch{}}},f=()=>{I(a(g)),b("/infra/codegen")};return J(()=>{(async()=>{const e=v.id;if(e){o.value=!0;try{r.value=await la(e)}finally{o.value=!1}}})()}),(e,s)=>{const n=G,C=H,i=P,V=W,R=z,x=M,E=K;return S((U(),j(x,null,{default:l(()=>[t(C,{modelValue:a(u),"onUpdate:modelValue":s[0]||(s[0]=T=>B(u)?u.value=T:null)},{default:l(()=>[t(n,{label:"\u57FA\u672C\u4FE1\u606F",name:"basicInfo"},{default:l(()=>[t(a(X),{ref_key:"basicInfoRef",ref:c,table:a(r).table},null,8,["table"])]),_:1}),t(n,{label:"\u5B57\u6BB5\u4FE1\u606F",name:"colum"},{default:l(()=>[t(a(Z),{ref_key:"columInfoRef",ref:w,columns:a(r).columns},null,8,["columns"])]),_:1}),t(n,{label:"\u751F\u6210\u4FE1\u606F",name:"generateInfo"},{default:l(()=>[t(a(aa),{ref_key:"generateInfoRef",ref:m,table:a(r).table,columns:a(r).columns},null,8,["table","columns"])]),_:1})]),_:1},8,["modelValue"]),t(R,null,{default:l(()=>[t(V,{style:{float:"right"}},{default:l(()=>[t(i,{loading:a(o),type:"primary",onClick:k},{default:l(()=>[y("\u4FDD\u5B58")]),_:1},8,["loading"]),t(i,{onClick:f},{default:l(()=>[y("\u8FD4\u56DE")]),_:1})]),_:1})]),_:1})]),_:1})),[[E,a(o)]])}}})});export{ya as __tla,d as default};
