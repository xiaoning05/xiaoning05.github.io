import{aq as x,d as L,i as M,r as _,e as N,p as R,L as S,o as d,v as y,w as l,x as D,a as e,f as t,g as X,h as n,c as V,a5 as h,D as Y,ai as Z,aj as B,A as H,c0 as K,G as O,J as Q,_ as T,__tla as W}from"./index-f0743f71.js";import{_ as $,__tla as aa}from"./ContentWrap-5acc4fb9.js";import{C as ea,__tla as la}from"./CardTitle-1cea02f9.js";import{u as ta,__tla as sa}from"./useMessage-75a00a06.js";import{E as oa,__tla as na}from"./index-a48a5540.js";let w,ra=Promise.all([(()=>{try{return W}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return na}catch{}})()]).then(async()=>{let p,v,b;p={class:"flex items-center justify-between"},v={key:0},b={key:0},w=T(L({name:"CrmCustomerPoolConfig",__name:"index",setup(ua){const C=ta(),{t:U}=M(),r=_(!1),a=_({enabled:!1,contactExpireDays:void 0,dealExpireDays:void 0,notifyEnabled:!1,notifyDays:void 0}),P=N({enabled:[{required:!0,message:"\u662F\u5426\u542F\u7528\u5BA2\u6237\u516C\u6D77\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),m=_(),g=async()=>{try{r.value=!0;const u=await(async()=>await x.get({url:"/crm/customer-pool-config/get"}))();if(u===null)return;a.value=u}finally{r.value=!1}},k=async()=>{if(m&&await m.value.validate()){r.value=!0;try{const u=a.value;await(async s=>await x.put({url:"/crm/customer-pool-config/save",data:s}))(u),C.success(U("common.updateSuccess")),await g(),r.value=!1}finally{r.value=!1}}},z=()=>{a.value.enabled||(a.value.contactExpireDays=void 0,a.value.dealExpireDays=void 0,a.value.notifyEnabled=!1,a.value.notifyDays=void 0)},j=()=>{a.value.notifyEnabled||(a.value.notifyDays=void 0)};return R(()=>{g()}),(u,s)=>{const q=Y,i=Z,E=B,c=H,f=K,A=oa,G=O,I=$,F=S("hasPermi"),J=Q;return d(),y(I,null,{default:l(()=>[D((d(),y(G,{ref_key:"formRef",ref:m,model:e(a),rules:e(P),"label-width":"160px"},{default:l(()=>[t(A,{shadow:"never"},{header:l(()=>[X("div",p,[t(e(ea),{title:"\u5BA2\u6237\u516C\u6D77\u89C4\u5219\u8BBE\u7F6E"}),D((d(),y(q,{type:"primary",onClick:k},{default:l(()=>[n(" \u4FDD\u5B58 ")]),_:1})),[[F,["crm:customer-pool-config:update"]]])])]),default:l(()=>[t(c,{label:"\u5BA2\u6237\u516C\u6D77\u89C4\u5219\u8BBE\u7F6E",prop:"enabled"},{default:l(()=>[t(E,{modelValue:e(a).enabled,"onUpdate:modelValue":s[0]||(s[0]=o=>e(a).enabled=o),onChange:z,class:"ml-4"},{default:l(()=>[t(i,{label:!1,size:"large"},{default:l(()=>[n("\u4E0D\u542F\u7528")]),_:1}),t(i,{label:!0,size:"large"},{default:l(()=>[n("\u542F\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(a).enabled?(d(),V("div",v,[t(c,null,{default:l(()=>[t(f,{class:"mr-2",modelValue:e(a).contactExpireDays,"onUpdate:modelValue":s[1]||(s[1]=o=>e(a).contactExpireDays=o)},null,8,["modelValue"]),n(" \u5929\u4E0D\u8DDF\u8FDB\u6216 "),t(f,{class:"mx-2",modelValue:e(a).dealExpireDays,"onUpdate:modelValue":s[2]||(s[2]=o=>e(a).dealExpireDays=o)},null,8,["modelValue"]),n(" \u5929\u672A\u6210\u4EA4 ")]),_:1}),t(c,{label:"\u63D0\u524D\u63D0\u9192\u8BBE\u7F6E",prop:"notifyEnabled"},{default:l(()=>[t(E,{modelValue:e(a).notifyEnabled,"onUpdate:modelValue":s[3]||(s[3]=o=>e(a).notifyEnabled=o),onChange:j,class:"ml-4"},{default:l(()=>[t(i,{label:!1,size:"large"},{default:l(()=>[n("\u4E0D\u63D0\u9192")]),_:1}),t(i,{label:!0,size:"large"},{default:l(()=>[n("\u63D0\u9192")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(a).notifyEnabled?(d(),V("div",b,[t(c,null,{default:l(()=>[n(" \u63D0\u524D "),t(f,{class:"mx-2",modelValue:e(a).notifyDays,"onUpdate:modelValue":s[4]||(s[4]=o=>e(a).notifyDays=o)},null,8,["modelValue"]),n(" \u5929\u63D0\u9192 ")]),_:1})])):h("",!0)])):h("",!0)]),_:1})]),_:1},8,["model","rules"])),[[J,e(r)]])]),_:1})}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/customer/poolConfig/index.vue"]])});export{ra as __tla,w as default};
