import{d as G,r as _,aR as O,Y as S,p as X,S as j,o as n,c as p,w as H,a as t,q as c,e as l,b as a,F as i,g as b,h as Z,a9 as J,L as K,y as Q,s as W,x as $,z as aa,B as ea,ab as la,C as ta,v as ra,_ as da,__tla as ua}from"./index-aaa5adb3.js";import{C as oa,__tla as na}from"./CardTitle-04f31785.js";import{b as _a,__tla as sa}from"./index-2eccb211.js";import{a as ma,__tla as pa}from"./index-fa70e749.js";import{g as ca,__tla as ia}from"./index-c1a6a53a.js";import{g as fa,__tla as Va}from"./index-a2708e2e.js";import{h as ya,__tla as ba}from"./index-dbe340e2.js";import ha,{__tla as va}from"./ProductList-4b3b996d.js";import{__tla as Ia}from"./DictTag-1c1088ae.js";import"./color-f5b6e279.js";import{__tla as Ua}from"./dict-f2796e71.js";import{__tla as Pa}from"./index-b6c7d721.js";import{__tla as wa}from"./formatter-4b6b63b7.js";import{__tla as ka}from"./Table.vue_vue_type_style_index_0_scoped_b4105caf_lang-3103ecab.js";import{__tla as xa}from"./tsxHelper-bb26e676.js";import{__tla as ga}from"./index-c602062a.js";import{__tla as Da}from"./Dialog-9a73a39c.js";import{__tla as Ca}from"./index-b47c179c.js";let g,Ta=Promise.all([(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return Va}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return Ia}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return Pa}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return xa}catch{}})(),(()=>{try{return ga}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return Ca}catch{}})()]).then(async()=>{g=da(G({name:"ContractDetailOA",__name:"index",props:{id:{type:Number,required:!1}},setup(D){const C=D,h=_(!1),r=_({}),T=_(),U=_();O(()=>r.value.productItems,s=>{s&&s.length!==0?r.value.productPrice=s.reduce((d,f)=>isNaN(d+f.totalPrice)?0:d+f.totalPrice,0):r.value.productPrice=0},{deep:!0});const B=async()=>{await Promise.all([L(),A(),N(),R()])},P=_([]),L=async()=>{P.value=await _a()},w=_([]),M=S(()=>w.value.filter(s=>s.customerId===r.value.customerId)),N=async()=>{w.value=await fa()},v=_([]),A=async()=>{v.value=await ca()},k=_([]),R=async()=>{k.value=await ya()};return X(()=>{(async()=>{await B(),h.value=!0;try{r.value=await ma(C.id)}finally{h.value=!1}})()}),(s,d)=>{const f=oa,u=J,m=K,o=Q,V=W,y=$,I=aa,q=ea,z=la,E=ta,Y=j("BPMLModel"),F=ra;return n(),p(i,null,[H((n(),c(E,{ref_key:"formRef",ref:T,model:t(r),"label-width":"110px"},{default:l(()=>[a(z,null,{default:l(()=>[a(u,{span:24,class:"mb-10px"},{default:l(()=>[a(f,{title:"\u57FA\u672C\u4FE1\u606F"})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5408\u540C\u540D\u79F0",prop:"name"},{default:l(()=>[a(m,{modelValue:t(r).name,"onUpdate:modelValue":d[0]||(d[0]=e=>t(r).name=e),placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5408\u540C\u7F16\u53F7",prop:"no"},{default:l(()=>[a(m,{modelValue:t(r).no,"onUpdate:modelValue":d[1]||(d[1]=e=>t(r).no=e),placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u7F16\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5BA2\u6237",prop:"customerId"},{default:l(()=>[a(y,{modelValue:t(r).customerId,"onUpdate:modelValue":d[2]||(d[2]=e=>t(r).customerId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(P),e=>(n(),c(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5BA2\u6237\u7B7E\u7EA6\u4EBA",prop:"contactId"},{default:l(()=>[a(y,{modelValue:t(r).contactId,"onUpdate:modelValue":d[3]||(d[3]=e=>t(r).contactId=e),disabled:!t(r).customerId},{default:l(()=>[(n(!0),p(i,null,b(t(M),e=>(n(),c(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u516C\u53F8\u7B7E\u7EA6\u4EBA",prop:"signUserId"},{default:l(()=>[a(y,{modelValue:t(r).signUserId,"onUpdate:modelValue":d[4]||(d[4]=e=>t(r).signUserId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(v),e=>(n(),c(V,{key:e.id,label:e.nickname,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u8D1F\u8D23\u4EBA",prop:"ownerUserId"},{default:l(()=>[a(y,{modelValue:t(r).ownerUserId,"onUpdate:modelValue":d[5]||(d[5]=e=>t(r).ownerUserId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(v),e=>(n(),c(V,{key:e.id,label:e.nickname,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5546\u673A\u540D\u79F0",prop:"businessId"},{default:l(()=>[a(y,{modelValue:t(r).businessId,"onUpdate:modelValue":d[6]||(d[6]=e=>t(r).businessId=e)},{default:l(()=>[(n(!0),p(i,null,b(t(k),e=>(n(),c(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5408\u540C\u91D1\u989D(\u5143)",prop:"price"},{default:l(()=>[a(m,{modelValue:t(r).price,"onUpdate:modelValue":d[7]||(d[7]=e=>t(r).price=e),placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u91D1\u989D"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u4E0B\u5355\u65E5\u671F",prop:"orderDate"},{default:l(()=>[a(I,{modelValue:t(r).orderDate,"onUpdate:modelValue":d[8]||(d[8]=e=>t(r).orderDate=e),placeholder:"\u9009\u62E9\u4E0B\u5355\u65E5\u671F",type:"date","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u5F00\u59CB\u65F6\u95F4",prop:"startTime"},{default:l(()=>[a(I,{modelValue:t(r).startTime,"onUpdate:modelValue":d[9]||(d[9]=e=>t(r).startTime=e),placeholder:"\u9009\u62E9\u5F00\u59CB\u65F6\u95F4",type:"date","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u7ED3\u675F\u65F6\u95F4",prop:"endTime"},{default:l(()=>[a(I,{modelValue:t(r).endTime,"onUpdate:modelValue":d[10]||(d[10]=e=>t(r).endTime=e),placeholder:"\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",type:"date","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:l(()=>[a(o,{label:"\u5907\u6CE8",prop:"remark"},{default:l(()=>[a(m,{modelValue:t(r).remark,"onUpdate:modelValue":d[11]||(d[11]=e=>t(r).remark=e),rows:3,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:l(()=>[a(o,{label:"\u4EA7\u54C1\u5217\u8868",prop:"productList"},{default:l(()=>[a(ha,{modelValue:t(r).productItems,"onUpdate:modelValue":d[12]||(d[12]=e=>t(r).productItems=e)},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u6574\u5355\u6298\u6263(%)",prop:"discountPercent"},{default:l(()=>[a(m,{modelValue:t(r).discountPercent,"onUpdate:modelValue":d[13]||(d[13]=e=>t(r).discountPercent=e),placeholder:"\u8BF7\u8F93\u5165\u6574\u5355\u6298\u6263"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:12},{default:l(()=>[a(o,{label:"\u4EA7\u54C1\u603B\u91D1\u989D(\u5143)",prop:"productPrice"},{default:l(()=>[a(m,{modelValue:t(r).productPrice,"onUpdate:modelValue":d[14]||(d[14]=e=>t(r).productPrice=e),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u603B\u91D1\u989D"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:l(()=>[a(f,{class:"mb-10px",title:"\u5BA1\u6279\u4FE1\u606F"})]),_:1}),a(u,{span:12},{default:l(()=>[a(q,{class:"m-20px",link:"",type:"primary",onClick:d[15]||(d[15]=e=>{var x;return(x=t(U))==null?void 0:x.handleBpmnDetail("contract-approve")})},{default:l(()=>[Z(" \u67E5\u770B\u5DE5\u4F5C\u6D41 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])),[[F,t(h)]]),a(Y,{ref_key:"BPMLModelRef",ref:U},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/contract/oa/ContractDetail/index.vue"]])});export{Ta as __tla,g as default};
