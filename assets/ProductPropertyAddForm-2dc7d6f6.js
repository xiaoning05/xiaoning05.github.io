import{d as U,r as o,n as q,aR as j,o as c,q as i,e as s,b as n,h as f,a as l,w as I,j as R,k as B,L as D,y as E,C as G,B as M,v as N,_ as S,__tla as X}from"./index-aaa5adb3.js";import{_ as Y,__tla as Z}from"./Dialog-9a73a39c.js";import{b as z,__tla as H}from"./property-403f57c7.js";import{u as J,__tla as K}from"./useMessage-873da1e2.js";let y,O=Promise.all([(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})()]).then(async()=>{y=S(U({name:"ProductPropertyForm",__name:"ProductPropertyAddForm",props:{propertyList:{type:Array,default:()=>{}}},setup(v,{expose:h}){const{t:b}=B(),P=J(),t=o(!1),u=o(!1),r=o({name:""}),V=q({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),d=o(),_=o([]),w=v;j(()=>w.propertyList,e=>{e&&(_.value=e)},{deep:!0,immediate:!0}),h({open:async()=>{t.value=!0,k()}});const g=async()=>{if(d&&await d.value.validate()){u.value=!0;try{const e=r.value,a=await z(e);_.value.push({id:a,...r.value,values:[]}),P.success(b("common.createSuccess")),t.value=!1}finally{u.value=!1}}},k=()=>{var e;r.value={name:""},(e=d.value)==null||e.resetFields()};return(e,a)=>{const A=D,C=E,F=G,p=M,x=Y,L=N;return c(),i(x,{modelValue:l(t),"onUpdate:modelValue":a[2]||(a[2]=m=>R(t)?t.value=m:null),title:"\u6DFB\u52A0\u5546\u54C1\u5C5E\u6027"},{footer:s(()=>[n(p,{disabled:l(u),type:"primary",onClick:g},{default:s(()=>[f("\u786E \u5B9A")]),_:1},8,["disabled"]),n(p,{onClick:a[1]||(a[1]=m=>t.value=!1)},{default:s(()=>[f("\u53D6 \u6D88")]),_:1})]),default:s(()=>[I((c(),i(F,{ref_key:"formRef",ref:d,model:l(r),rules:l(V),"label-width":"80px"},{default:s(()=>[n(C,{label:"\u5C5E\u6027\u540D\u79F0",prop:"name"},{default:s(()=>[n(A,{modelValue:l(r).name,"onUpdate:modelValue":a[0]||(a[0]=m=>l(r).name=m),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[L,l(u)]])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/product/spu/form/ProductPropertyAddForm.vue"]])});export{O as __tla,y as default};
