import{d as A,k as F,r as c,o as M,q as g,e as u,b as m,a as l,h as d,w as x,j as C,A as R,v as j,__tla as q}from"./index-34f06ebd.js";import{_ as E,__tla as P}from"./Dialog.vue_vue_type_style_index_0_lang-08560286.js";import{_ as U,__tla as z}from"./Form-980450b6.js";import{g as B,c as D,u as G,__tla as H}from"./index-aa429c76.js";import{r as I,a as J,__tla as K}from"./account.data-c06b1df1.js";import{u as L,__tla as N}from"./useMessage-7a5ab7ef.js";let p,O=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return P}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return N}catch{}})()]).then(async()=>{p=A({name:"SystemMailAccountForm",__name:"MailAccountForm",emits:["success"],setup(Q,{expose:h,emit:w}){const{t:o}=F(),n=L(),t=c(!1),i=c(""),e=c(!1),f=c(""),r=c();h({open:async(s,a)=>{if(t.value=!0,i.value=o("action."+s),f.value=s,a){e.value=!0;try{const _=await B(a);r.value.setValues(_)}finally{e.value=!1}}}});const k=w,S=async()=>{if(r&&await r.value.getElFormRef().validate()){e.value=!0;try{const s=r.value.formModel;f.value==="create"?(await D(s),n.success(o("common.createSuccess"))):(await G(s),n.success(o("common.updateSuccess"))),t.value=!1,k("success")}finally{e.value=!1}}};return(s,a)=>{const _=U,y=R,V=E,b=j;return M(),g(V,{modelValue:l(t),"onUpdate:modelValue":a[1]||(a[1]=v=>C(t)?t.value=v:null),title:l(i)},{footer:u(()=>[m(y,{disabled:l(e),type:"primary",onClick:S},{default:u(()=>[d("\u786E \u5B9A")]),_:1},8,["disabled"]),m(y,{onClick:a[0]||(a[0]=v=>t.value=!1)},{default:u(()=>[d("\u53D6 \u6D88")]),_:1})]),default:u(()=>[x(m(_,{ref_key:"formRef",ref:r,rules:l(I),schema:l(J).formSchema},null,8,["rules","schema"]),[[b,l(e)]])]),_:1},8,["modelValue","title"])}}})});export{p as _,O as __tla};
