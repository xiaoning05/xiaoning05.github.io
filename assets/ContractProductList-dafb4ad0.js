import{d as h,r as u,a2 as w,dZ as b,aT as N,ar as P,o as g,v as y,w as n,f as a,a as l,h as v,t as C,H as I,I as D,_ as L,__tla as T}from"./index-f0743f71.js";import{_ as U,__tla as V}from"./DictTag-4f08045a.js";import{D as x,__tla as A}from"./dict-4a9940b3.js";import{f as M,__tla as R}from"./formatter-d3f1795f.js";import"./color-f5b6e279.js";let p,Z=Promise.all([(()=>{try{return T}catch{}})(),(()=>{try{return V}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return R}catch{}})()]).then(async()=>{p=L(h({name:"ContractProductList",__name:"ContractProductList",props:{modelValue:{type:Array,required:!0,default:()=>[]}},setup(_){const i=_,c=u([]),d=w(()=>e=>{const t=Number(e.price)/100*Number(e.count)*(1-Number(e.discountPercent)/100);return e.totalPrice=isNaN(t)?0:b(t),isNaN(t)?0:t.toFixed(2)}),s=u(!1);return N(()=>i.modelValue,e=>{e&&e.length!==0&&!s.value&&(c.value=[...i.modelValue.map(t=>(t.totalPrice=P(t.totalPrice),t))],s.value=!0)},{immediate:!0,deep:!0}),(e,t)=>{const r=I,m=U,f=D;return g(),y(f,{data:l(c),"show-overflow-tooltip":!0,stripe:!0},{default:n(()=>[a(r,{align:"center",label:"\u4EA7\u54C1\u540D\u79F0",prop:"name",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u7C7B\u578B",prop:"categoryName",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u5355\u4F4D",prop:"unit"},{default:n(o=>[a(m,{type:l(x).CRM_PRODUCT_UNIT,value:o.row.unit},null,8,["type","value"])]),_:1}),a(r,{align:"center",label:"\u4EA7\u54C1\u7F16\u7801",prop:"no"}),a(r,{formatter:l(M),align:"center",label:"\u4EF7\u683C\uFF08\u5143\uFF09",prop:"price",width:"100"},null,8,["formatter"]),a(r,{align:"center",label:"\u6570\u91CF",prop:"count",width:"200"}),a(r,{align:"center",label:"\u6298\u6263(%)",prop:"discountPercent",width:"200"}),a(r,{align:"center",label:"\u5408\u8BA1",prop:"totalPrice",width:"100"},{default:n(({row:o})=>[v(C(l(d)(o)),1)]),_:1})]),_:1},8,["data"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/contract/detail/ContractProductList.vue"]])});export{Z as __tla,p as default};
