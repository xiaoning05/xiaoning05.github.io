import{d as N,k as j,r as d,n as B,o as i,q as _,e as s,b as c,a,h as v,w as D,c as I,F as L,g as O,t as T,j as G,L as R,y as X,af as Y,ag as Z,C as z,B as H,v as J,_ as K,__tla as Q}from"./index-aaa5adb3.js";import{_ as W,__tla as $}from"./Dialog-9a73a39c.js";import{P as f,__tla as aa}from"./index-d96fef61.js";import{a as ea,D as ta,__tla as la}from"./dict-f2796e71.js";import{C as sa}from"./constants-99751ef9.js";import{u as ua,__tla as ra}from"./useMessage-873da1e2.js";let g,oa=Promise.all([(()=>{try{return Q}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ra}catch{}})()]).then(async()=>{g=K(N({name:"ProductUnitForm",__name:"ProductUnitForm",emits:["success"],setup(da,{expose:V,emit:w}){const{t:n}=j(),p=ua(),r=d(!1),y=d(""),o=d(!1),b=d(""),u=d({id:void 0,name:void 0,status:void 0}),P=B({name:[{required:!0,message:"\u5355\u4F4D\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5355\u4F4D\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),m=d();V({open:async(l,e)=>{if(r.value=!0,y.value=n("action."+l),b.value=l,k(),e){o.value=!0;try{u.value=await f.getProductUnit(e)}finally{o.value=!1}}}});const C=w,F=async()=>{await m.value.validate(),o.value=!0;try{const l=u.value;b.value==="create"?(await f.createProductUnit(l),p.success(n("common.createSuccess"))):(await f.updateProductUnit(l),p.success(n("common.updateSuccess"))),r.value=!1,C("success")}finally{o.value=!1}},k=()=>{var l;u.value={id:void 0,name:void 0,status:sa.ENABLE},(l=m.value)==null||l.resetFields()};return(l,e)=>{const S=R,U=X,M=Y,q=Z,x=z,h=H,A=W,E=J;return i(),_(A,{title:a(y),modelValue:a(r),"onUpdate:modelValue":e[3]||(e[3]=t=>G(r)?r.value=t:null)},{footer:s(()=>[c(h,{onClick:F,type:"primary",disabled:a(o)},{default:s(()=>[v("\u786E \u5B9A")]),_:1},8,["disabled"]),c(h,{onClick:e[2]||(e[2]=t=>r.value=!1)},{default:s(()=>[v("\u53D6 \u6D88")]),_:1})]),default:s(()=>[D((i(),_(x,{ref_key:"formRef",ref:m,model:a(u),rules:a(P),"label-width":"100px"},{default:s(()=>[c(U,{label:"\u5355\u4F4D\u540D\u5B57",prop:"name"},{default:s(()=>[c(S,{modelValue:a(u).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(u).name=t),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D\u540D\u5B57"},null,8,["modelValue"])]),_:1}),c(U,{label:"\u5355\u4F4D\u72B6\u6001",prop:"status"},{default:s(()=>[c(q,{modelValue:a(u).status,"onUpdate:modelValue":e[1]||(e[1]=t=>a(u).status=t)},{default:s(()=>[(i(!0),I(L,null,O(a(ea)(a(ta).COMMON_STATUS),t=>(i(),_(M,{key:t.value,label:t.value},{default:s(()=>[v(T(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[E,a(o)]])]),_:1},8,["title","modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/erp/product/unit/ProductUnitForm.vue"]])});export{oa as __tla,g as default};
