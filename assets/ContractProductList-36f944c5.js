import{d as h,r as u,Y as b,dY as w,aR as N,ap as P,o as g,q as y,e as n,b as a,a as l,h as v,t as C,E as D,i as I,_ as L,__tla as R}from"./index-aaa5adb3.js";import{_ as U,__tla as V}from"./DictTag-1c1088ae.js";import{D as Y,__tla as q}from"./dict-f2796e71.js";import{f as x,__tla as A}from"./formatter-4b6b63b7.js";import"./color-f5b6e279.js";let p,E=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return V}catch{}})(),(()=>{try{return q}catch{}})(),(()=>{try{return A}catch{}})()]).then(async()=>{p=L(h({name:"ContractProductList",__name:"ContractProductList",props:{modelValue:{type:Array,required:!0,default:()=>[]}},setup(_){const i=_,c=u([]),d=b(()=>e=>{const t=Number(e.price)/100*Number(e.count)*(1-Number(e.discountPercent)/100);return e.totalPrice=isNaN(t)?0:w(t),isNaN(t)?0:t.toFixed(2)}),s=u(!1);return N(()=>i.modelValue,e=>{e&&e.length!==0&&!s.value&&(c.value=[...i.modelValue.map(t=>(t.totalPrice=P(t.totalPrice),t))],s.value=!0)},{immediate:!0,deep:!0}),(e,t)=>{const r=D,m=U,f=I;return g(),y(f,{data:l(c),"show-overflow-tooltip":!0,stripe:!0},{default:n(()=>[a(r,{align:"center",label:"\u4EA7\u54C1\u540D\u79F0",prop:"name",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u7C7B\u578B",prop:"categoryName",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u5355\u4F4D",prop:"unit"},{default:n(o=>[a(m,{type:l(Y).CRM_PRODUCT_UNIT,value:o.row.unit},null,8,["type","value"])]),_:1}),a(r,{align:"center",label:"\u4EA7\u54C1\u7F16\u7801",prop:"no"}),a(r,{formatter:l(x),align:"center",label:"\u4EF7\u683C\uFF08\u5143\uFF09",prop:"price",width:"100"},null,8,["formatter"]),a(r,{align:"center",label:"\u6570\u91CF",prop:"count",width:"200"}),a(r,{align:"center",label:"\u6298\u6263(%)",prop:"discountPercent",width:"200"}),a(r,{align:"center",label:"\u5408\u8BA1",prop:"totalPrice",width:"100"},{default:n(({row:o})=>[v(C(l(d)(o)),1)]),_:1})]),_:1},8,["data"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/contract/detail/ContractProductList.vue"]])});export{E as __tla,p as default};
