import{d as x,r as _,aT as h,o as L,v as S,w as l,f as a,a as s,aK as A,h as C,t as I,as as b,H as P,I as E,_ as q,__tla as D}from"./index-f0743f71.js";import{E as U,__tla as T}from"./el-image-015376ce.js";import{__tla as z}from"./el-image-viewer-d97aa530.js";import{c as G,__tla as H}from"./index-4baae72c.js";import K,{__tla as M}from"./SkuList-64f06f71.js";import{__tla as N}from"./UploadImg-aab03145.js";import{__tla as R}from"./useUpload-27a6f734.js";import{__tla as X}from"./index-21698e53.js";import{__tla as Y}from"./useMessage-75a00a06.js";import{__tla as Z}from"./UploadImgs.vue_vue_type_style_index_0_scoped_9d666400_lang-24fc736b.js";import{__tla as $}from"./UploadFile.vue_vue_type_style_index_0_scoped_436eca1b_lang-cd3de5a5.js";let w,j=Promise.all([(()=>{try{return D}catch{}})(),(()=>{try{return T}catch{}})(),(()=>{try{return z}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return R}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return $}catch{}})()]).then(async()=>{w=q(x({name:"PromotionSpuAndSkuList",__name:"SpuAndSkuList",props:{spuList:{type:Array,required:!0},ruleConfig:{type:Array,required:!0},spuPropertyListP:{type:Array,required:!0}},setup(k,{expose:v}){const d=k,m=_([]),f=_(),p=_([]),y=_();return v({getSkuConfigs:t=>{f.value.validateSku();const o=[];return p.value.forEach(r=>{r.spuDetail.skus.forEach(n=>{o.push(n[t])})}),o}}),h(()=>d.spuList,t=>{t&&(m.value=t)},{deep:!0,immediate:!0}),h(()=>d.spuPropertyListP,t=>{t&&(p.value=t,setTimeout(()=>{y.value=t.map(o=>o.spuId)},200))},{deep:!0,immediate:!0}),(t,o)=>{const r=P,n=U,g=E;return L(),S(g,{data:s(m),"expand-row-keys":s(y),"row-key":"id"},{default:l(()=>[a(r,{type:"expand",width:"30"},{default:l(({row:e})=>{var u,i;return[a(s(K),{ref_key:"skuListRef",ref:f,"is-activity-component":!0,"prop-form-data":(u=s(p).find(c=>c.spuId===e.id))==null?void 0:u.spuDetail,"property-list":(i=s(p).find(c=>c.spuId===e.id))==null?void 0:i.propertyList,"rule-config":t.ruleConfig},{extension:l(()=>[A(t.$slots,"default")]),_:2},1032,["prop-form-data","property-list","rule-config"])]}),_:3}),a(r,{key:"id",align:"center",label:"\u5546\u54C1\u7F16\u53F7",prop:"id"}),a(r,{label:"\u5546\u54C1\u56FE","min-width":"80"},{default:l(({row:e})=>[a(n,{src:e.picUrl,class:"h-30px w-30px",onClick:u=>{return i=e.picUrl,void G({zIndex:99999999,urlList:[i]});var i}},null,8,["src","onClick"])]),_:1}),a(r,{"show-overflow-tooltip":!0,label:"\u5546\u54C1\u540D\u79F0","min-width":"300",prop:"name"}),a(r,{align:"center",label:"\u5546\u54C1\u552E\u4EF7","min-width":"90",prop:"price"},{default:l(({row:e})=>[C(I(s(b)(e.price)),1)]),_:1}),a(r,{align:"center",label:"\u9500\u91CF","min-width":"90",prop:"salesCount"}),a(r,{align:"center",label:"\u5E93\u5B58","min-width":"90",prop:"stock"})]),_:3},8,["data","expand-row-keys"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/promotion/components/SpuAndSkuList.vue"]])});export{j as __tla,w as default};
