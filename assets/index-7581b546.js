import{d as G,r as y,u as K,K as N,p as Q,L as X,o as m,c as Y,f as a,w as _,a as t,x as Z,v as f,h as s,a5 as p,F as q,D as H,m as J,n as tt,j as at,_ as rt,__tla as _t}from"./index-f0743f71.js";import{g as lt,_ as et,__tla as it}from"./index-e4c9786e.js";import{u as ot,__tla as ct}from"./tagsView-ae61f169.js";import{c as mt,t as st,l as T,r as ut,p as nt,__tla as yt}from"./index-3518afc7.js";import ft,{__tla as pt}from"./CustomerForm-266c4755.js";import ht,{__tla as dt}from"./CustomerDetailsInfo-7c3d68d6.js";import bt,{__tla as zt}from"./CustomerDetailsHeader-1f82c495.js";import vt,{__tla as wt}from"./ContactList-72f754c5.js";import Ct,{__tla as Rt}from"./ContractList-cfefe133.js";import kt,{__tla as Mt}from"./BusinessList-497e7162.js";import Ut,{__tla as Ot}from"./ReceivableList-b97080d2.js";import St,{__tla as Tt}from"./ReceivablePlanList-988c20c3.js";import Et,{__tla as $t}from"./PermissionList-bad3cb2c.js";import gt,{__tla as xt}from"./TransferForm-e7136585.js";import It,{__tla as Dt}from"./index-9ce35da9.js";import{B as u,__tla as Pt}from"./index-123b98f8.js";import{u as Ft,__tla as Lt}from"./useMessage-75a00a06.js";import{__tla as Vt}from"./el-timeline-item-74421bbe.js";import{__tla as Wt}from"./formatTime-e6df2ea5.js";import{__tla as jt}from"./dict-4a9940b3.js";import{__tla as At}from"./Dialog-8f786edd.js";import{__tla as Bt}from"./el-tree-select-d7a8a522.js";import{__tla as Gt}from"./index-26b6c1c2.js";import"./tree-02f455f9.js";import{__tla as Kt}from"./index-5f468446.js";import{__tla as Nt}from"./ContentWrap-5acc4fb9.js";import{__tla as Qt}from"./index-a48a5540.js";import{__tla as Xt}from"./el-collapse-item-c597cb54.js";import{__tla as Yt}from"./el-descriptions-item-73ac4081.js";import{__tla as Zt}from"./DictTag-4f08045a.js";import"./color-f5b6e279.js";import{__tla as qt}from"./index-cf7b3541.js";import{__tla as Ht}from"./index-8beae3df.js";import{__tla as Jt}from"./el-link-17c2244d.js";import{__tla as ta}from"./index-8255f94a.js";import{__tla as aa}from"./ContactForm-f2ca7db3.js";import{__tla as ra}from"./index-19d240e6.js";import{__tla as _a}from"./ContractForm-93f50ff5.js";import{__tla as la}from"./index-109e656c.js";import{__tla as ea}from"./ProductList-a32d3fc0.js";import{__tla as ia}from"./index-71d2ef9b.js";import{__tla as oa}from"./formatter-d3f1795f.js";import{__tla as ca}from"./Table.vue_vue_type_style_index_0_scoped_b4105caf_lang-6757bef5.js";import{__tla as ma}from"./tsxHelper-0d496dea.js";import{__tla as sa}from"./BusinessForm-19d1cb16.js";import{__tla as ua}from"./index-a6e0da93.js";import{__tla as na}from"./BusinessListModal-1aa20196.js";import{__tla as ya}from"./index-512f7abe.js";import{__tla as fa}from"./ReceivableForm-85445c13.js";import{__tla as pa}from"./index-d2c7bd43.js";import{__tla as ha}from"./ReceivablePlanForm-90868b31.js";import{__tla as da}from"./PermissionForm-b1e340c0.js";import{__tla as ba}from"./FollowUpRecordForm-386b70e2.js";import{__tla as za}from"./UploadFile-8fbb57ef.js";import{__tla as va}from"./UploadFile.vue_vue_type_style_index_0_scoped_436eca1b_lang-cd3de5a5.js";import{__tla as wa}from"./useUpload-27a6f734.js";import{__tla as Ca}from"./index-21698e53.js";import{__tla as Ra}from"./UploadImgs-e8dcbd85.js";import{__tla as ka}from"./UploadImgs.vue_vue_type_style_index_0_scoped_9d666400_lang-24fc736b.js";import{__tla as Ma}from"./el-image-viewer-d97aa530.js";import{__tla as Ua}from"./BusinessList-581c9732.js";import{__tla as Oa}from"./BusinessTableSelect-f4705054.js";import{__tla as Sa}from"./ContactList-9d1b8419.js";import{__tla as Ta}from"./ContactTableSelect-33552e9d.js";let E,Ea=Promise.all([(()=>{try{return _t}catch{}})(),(()=>{try{return it}catch{}})(),(()=>{try{return ct}catch{}})(),(()=>{try{return yt}catch{}})(),(()=>{try{return pt}catch{}})(),(()=>{try{return dt}catch{}})(),(()=>{try{return zt}catch{}})(),(()=>{try{return wt}catch{}})(),(()=>{try{return Rt}catch{}})(),(()=>{try{return Mt}catch{}})(),(()=>{try{return Ot}catch{}})(),(()=>{try{return Tt}catch{}})(),(()=>{try{return $t}catch{}})(),(()=>{try{return xt}catch{}})(),(()=>{try{return Dt}catch{}})(),(()=>{try{return Pt}catch{}})(),(()=>{try{return Lt}catch{}})(),(()=>{try{return Vt}catch{}})(),(()=>{try{return Wt}catch{}})(),(()=>{try{return jt}catch{}})(),(()=>{try{return At}catch{}})(),(()=>{try{return Bt}catch{}})(),(()=>{try{return Gt}catch{}})(),(()=>{try{return Kt}catch{}})(),(()=>{try{return Nt}catch{}})(),(()=>{try{return Qt}catch{}})(),(()=>{try{return Xt}catch{}})(),(()=>{try{return Yt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return qt}catch{}})(),(()=>{try{return Ht}catch{}})(),(()=>{try{return Jt}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return za}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Ra}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return Oa}catch{}})(),(()=>{try{return Sa}catch{}})(),(()=>{try{return Ta}catch{}})()]).then(async()=>{E=rt(G({name:"CrmCustomerDetail",__name:"index",setup($a){const l=y(0),z=y(!0),e=Ft(),{delView:$}=ot(),{currentRoute:g}=K(),o=y(),r=y({}),h=async()=>{z.value=!0;try{r.value=await mt(l.value),await V()}finally{z.value=!1}},v=y(),x=()=>{var c;(c=v.value)==null||c.open("update",l.value)},w=y(),I=()=>{var c;(c=w.value)==null||c.open("\u5BA2\u6237\u8F6C\u79FB",l.value,st)},D=async()=>{await e.confirm(`\u786E\u5B9A\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!0),e.success(`\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},P=async()=>{await e.confirm(`\u786E\u5B9A\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!1),e.success(`\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},F=async()=>{await e.confirm(`\u786E\u5B9A\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await ut([t(l.value)]),e.success(`\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},L=async()=>{await e.confirm(`\u786E\u5B9A\u5C06\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u5417\uFF1F`),await nt(t(l.value)),e.success(`\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u6210\u529F`),b()},C=y([]),V=async()=>{if(!l.value)return;const c=await lt({bizType:u.CRM_CUSTOMER,bizId:l.value});C.value=c.list},b=()=>{$(t(g))},{params:R}=N();return Q(()=>{if(!R.id)return e.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u5BA2\u6237\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void b();l.value=R.id,h()}),(c,ga)=>{const n=H,i=J,W=et,j=tt,A=at,B=X("hasPermi");return m(),Y(q,null,[a(bt,{customer:t(r),loading:t(z)},{default:_(()=>{var d,k,M,U,O,S;return[(d=t(o))!=null&&d.validateWrite?Z((m(),f(n,{key:0,type:"primary",onClick:x},{default:_(()=>[s(" \u7F16\u8F91 ")]),_:1})),[[B,["crm:customer:update"]]]):p("",!0),(k=t(o))!=null&&k.validateOwnerUser?(m(),f(n,{key:1,type:"primary",onClick:I},{default:_(()=>[s(" \u8F6C\u79FB ")]),_:1})):p("",!0),(M=t(o))!=null&&M.validateWrite?(m(),f(n,{key:2},{default:_(()=>[s("\u66F4\u6539\u6210\u4EA4\u72B6\u6001")]),_:1})):p("",!0),t(r).lockStatus&&((U=t(o))!=null&&U.validateOwnerUser)?(m(),f(n,{key:3,onClick:P},{default:_(()=>[s(" \u89E3\u9501 ")]),_:1})):p("",!0),!t(r).lockStatus&&((O=t(o))!=null&&O.validateOwnerUser)?(m(),f(n,{key:4,onClick:D},{default:_(()=>[s(" \u9501\u5B9A ")]),_:1})):p("",!0),t(r).ownerUserId?p("",!0):(m(),f(n,{key:5,type:"primary",onClick:F},{default:_(()=>[s(" \u9886\u53D6\u5BA2\u6237 ")]),_:1})),t(r).ownerUserId&&((S=t(o))!=null&&S.validateOwnerUser)?(m(),f(n,{key:6,onClick:L},{default:_(()=>[s(" \u5BA2\u6237\u653E\u5165\u516C\u6D77 ")]),_:1})):p("",!0)]}),_:1},8,["customer","loading"]),a(A,null,{default:_(()=>[a(j,null,{default:_(()=>[a(i,{label:"\u8DDF\u8FDB\u8BB0\u5F55"},{default:_(()=>[a(It,{"biz-id":t(l),"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u57FA\u672C\u4FE1\u606F"},{default:_(()=>[a(ht,{customer:t(r)},null,8,["customer"])]),_:1}),a(i,{label:"\u8054\u7CFB\u4EBA",lazy:""},{default:_(()=>[a(vt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56E2\u961F\u6210\u5458"},{default:_(()=>{var d;return[a(Et,{ref_key:"permissionListRef",ref:o,"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER,"show-action":!((d=t(o))!=null&&d.isPool)||!1,onQuitTeam:b},null,8,["biz-id","biz-type","show-action"])]}),_:1}),a(i,{label:"\u5546\u673A",lazy:""},{default:_(()=>[a(kt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u5408\u540C",lazy:""},{default:_(()=>[a(Ct,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56DE\u6B3E",lazy:""},{default:_(()=>[a(St,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"]),a(Ut,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u64CD\u4F5C\u65E5\u5FD7"},{default:_(()=>[a(W,{"log-list":t(C)},null,8,["log-list"])]),_:1}),a(i,{label:"\u56DE\u8BBF",lazy:""},{default:_(()=>[s("TODO \u5F85\u5F00\u53D1")]),_:1})]),_:1})]),_:1}),a(ft,{ref_key:"formRef",ref:v,onSuccess:h},null,512),a(gt,{ref_key:"crmTransferFormRef",ref:w,onSuccess:b},null,512)],64)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/crm/customer/detail/index.vue"]])});export{Ea as __tla,E as default};
