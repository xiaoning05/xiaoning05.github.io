import{d as N,r as n,e as D,u as M,aS as A,o as y,c as E,f as a,w as l,h as g,x as L,v as P,a as t,t as j,F as B,_ as F,C as G,k as H,G as O,H as q,I as J,__tla as K}from"./index-d2088aec.js";import{_ as Q,__tla as V}from"./ContentWrap.vue_vue_type_script_setup_true_lang-3fd6aef1.js";import{_ as W,__tla as X}from"./index.vue_vue_type_script_setup_true_lang-6baf9e60.js";import{_ as Y,__tla as Z}from"./DictTag.vue_vue_type_script_lang-754cee6f.js";import{E as $,__tla as aa}from"./el-link-3f427b16.js";import{a as ta,__tla as ea}from"./index-23ca72e5.js";import{_ as ra,__tla as la}from"./ReceivableForm.vue_vue_type_script_setup_true_lang-35f640c4.js";import{B as oa,__tla as _a}from"./index-05c907cf.js";import{d as sa,__tla as ia}from"./formatTime-c7e0c543.js";import{f as na,__tla as pa}from"./formatter-38679f6e.js";import{D as ca,__tla as ua}from"./dict-999fbee6.js";let h,ma=Promise.all([(()=>{try{return K}catch{}})(),(()=>{try{return V}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ua}catch{}})()]).then(async()=>{h=N({name:"CrmReceivableList",__name:"ReceivableList",props:{bizType:{},bizId:{}},setup(v){const _=v,p=n(!0),u=n(0),m=n([]),e=D({pageNo:1,pageSize:10,customerId:void 0}),c=async()=>{p.value=!0;try{e.customerId=void 0;let s={list:[],total:0};if(_.bizType!==oa.CRM_CUSTOMER)return;e.customerId=_.bizId,s=await ta(e),m.value=s.list,u.value=s.total}finally{p.value=!1}},f=n(),b=()=>{f.value.open("create")},{push:w}=M();return A(()=>[_.bizId,_.bizType],()=>{e.pageNo=1,c()},{immediate:!0,deep:!0}),(s,i)=>{const S=F,z=G,C=H,I=$,o=O,R=Y,T=q,U=W,k=Q,x=J;return y(),E(B,null,[a(C,{justify:"end"},{default:l(()=>[a(z,{onClick:b},{default:l(()=>[a(S,{class:"mr-5px",icon:"icon-park:income-one"}),g(" \u521B\u5EFA\u56DE\u6B3E ")]),_:1})]),_:1}),a(k,{class:"mt-10px"},{default:l(()=>[L((y(),P(T,{data:t(m),stripe:!0,"show-overflow-tooltip":!0},{default:l(()=>[a(o,{label:"\u56DE\u6B3E\u7F16\u53F7",fixed:"left",align:"center",prop:"no"},{default:l(r=>[a(I,{type:"primary",underline:!1,onClick:fa=>{return d=r.row.id,void w({name:"CrmReceivableDetail",params:{id:d}});var d}},{default:l(()=>[g(j(r.row.no),1)]),_:2},1032,["onClick"])]),_:1}),a(o,{label:"\u5408\u540C\u7F16\u53F7",align:"center",prop:"contractNo"}),a(o,{label:"\u56DE\u6B3E\u91D1\u989D\uFF08\u5143\uFF09",align:"center",prop:"price",formatter:t(na)},null,8,["formatter"]),a(o,{label:"\u8D1F\u8D23\u4EBA",align:"center",prop:"ownerUserName"}),a(o,{align:"center",label:"\u72B6\u6001",prop:"auditStatus"},{default:l(r=>[a(R,{type:t(ca).CRM_AUDIT_STATUS,value:r.row.auditStatus},null,8,["type","value"])]),_:1}),a(o,{label:"\u56DE\u6B3E\u65E5\u671F",align:"center",prop:"returnTime",formatter:t(sa),width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[x,t(p)]]),a(U,{total:t(u),page:t(e).pageNo,"onUpdate:page":i[0]||(i[0]=r=>t(e).pageNo=r),limit:t(e).pageSize,"onUpdate:limit":i[1]||(i[1]=r=>t(e).pageSize=r),onPagination:c},null,8,["total","page","limit"])]),_:1}),a(ra,{ref_key:"formRef",ref:f,onSuccess:c},null,512)],64)}}})});export{h as _,ma as __tla};
