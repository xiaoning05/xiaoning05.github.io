import{d as N,ae as r,r as m,p as Q,a as t,Y as E,aR as A,w as V,v as X,b as s,i as Z,ah as P,c6 as ee,E as w,__tla as ae}from"./index-aaa5adb3.js";import{g as v,__tla as te}from"./tsxHelper-bb26e676.js";import{E as ne,__tla as le}from"./index-c602062a.js";let Y,re=Promise.all([(()=>{try{return ae}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return le}catch{}})()]).then(async()=>{Y=N({name:"Table",props:{pageSize:r.number.def(10),currentPage:r.number.def(1),selection:r.bool.def(!1),showOverflowTooltip:r.bool.def(!0),columns:{type:Array,default:()=>[]},expand:r.bool.def(!1),pagination:{type:Object,default:()=>{}},reserveSelection:r.bool.def(!1),loading:r.bool.def(!1),reserveIndex:r.bool.def(!1),align:r.string.validate(i=>["left","center","right"].includes(i)).def("center"),headerAlign:r.string.validate(i=>["left","center","right"].includes(i)).def("center"),data:{type:Array,default:()=>[]}},emits:["update:pageSize","update:currentPage","register"],setup(i,{attrs:q,slots:g,emit:z,expose:B}){const O=m();Q(()=>{const e=t(O);z("register",e==null?void 0:e.$parent,O)});const x=m(i.pageSize),_=m(i.currentPage),D=m({}),T=m({}),l=E(()=>{const e={...i};return Object.assign(e,t(T)),e}),I=(e,c)=>{var o;const{columns:u}=t(l);for(const p of c||u)for(const h of e)p.field===h.field?ee(p,h.path,h.value):(o=p.children)!=null&&o.length&&I(e,p.children)},U=m([]),F=e=>{U.value=e};B({setProps:(e={})=>{T.value=Object.assign(t(T),e),D.value=e},setColumn:I,selections:U});const G=E(()=>Object.assign({small:!1,background:!0,pagerCount:document.body.clientWidth<992?5:7,layout:"total, sizes, prev, pager, next, jumper",pageSizes:[10,20,30,50,100],disabled:!1,hideOnSinglePage:!1,total:10},t(l).pagination));A(()=>t(l).pageSize,e=>{x.value=e}),A(()=>t(l).currentPage,e=>{_.value=e}),A(()=>x.value,e=>{z("update:pageSize",e)}),A(()=>_.value,e=>{z("update:currentPage",e)});const H=E(()=>{const e={...q,...i};return delete e.columns,delete e.data,e}),J=()=>{const{selection:e,reserveSelection:c,align:u,headerAlign:o}=t(l);return e?s(w,{type:"selection",reserveSelection:c,align:u,headerAlign:o,width:"50"},null):void 0},K=()=>{const{align:e,headerAlign:c,expand:u}=t(l);return u?s(w,{type:"expand",align:e,headerAlign:c},{default:o=>v(g,"expand",o)}):void 0},k=e=>{const{columns:c,reserveIndex:u,pageSize:o,currentPage:p,align:h,headerAlign:R,showOverflowTooltip:L}=t(l);return[K(),J()].concat((e||c).map(a=>{if(a.type==="index")return s(w,{type:"index",index:a.index?a.index:b=>((d,y,j,$)=>{const S=y+1;return d?j*($-1)+S:S})(u,b,o,p),align:a.align||h,headerAlign:a.headerAlign||R,label:a.label,width:"65px"},null);{const b={...a};return b.children&&delete b.children,s(w,P({showOverflowTooltip:L,align:h,headerAlign:R},b,{prop:a.field}),{default:d=>{var y;return a.children&&a.children.length?(j=>{const{align:$,headerAlign:S,showOverflowTooltip:M}=t(l);return j.map(n=>{const C={...n};return C.children&&delete C.children,s(w,P({showOverflowTooltip:M,align:$,headerAlign:S},C,{prop:n.field}),{default:f=>{var W;return n.children&&n.children.length?k(n.children):v(g,n.field,f)||((W=n==null?void 0:n.formatter)==null?void 0:W.call(n,f.row,f.column,f.row[n.field],f.$index))||f.row[n.field]},header:v(g,`${n.field}-header`)})})})(a.children):v(g,a.field,d)||((y=a==null?void 0:a.formatter)==null?void 0:y.call(a,d.row,d.column,d.row[a.field],d.$index))||d.row[a.field]},header:()=>v(g,`${a.field}-header`)||a.label})}}))};return()=>V(s("div",null,[s(Z,P({ref:O,data:t(l).data,"onSelection-change":F},t(H)),{default:()=>k(),append:()=>v(g,"append")}),t(l).pagination?s(ne,P({pageSize:x.value,"onUpdate:pageSize":e=>x.value=e,currentPage:_.value,"onUpdate:currentPage":e=>_.value=e,class:"float-right mb-15px mt-15px"},t(G)),null):void 0]),[[X,t(l).loading]])}})});export{Y as _,re as __tla};
