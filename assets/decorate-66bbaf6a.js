import{P as C,_ as F,__tla as R}from"./util-139bc73f.js";import{d as T,r as l,n as j,u as q,p as B,a,o as d,q as I,e as u,b as f,c as E,g as M,F as Y,j as G,a0 as L,ax as N,A as Q,ay as X,az as Z,ag as H,_ as J,__tla as K}from"./index-b079f499.js";import{g as O,u as W,__tla as aa}from"./template-b3bdac6a.js";import{u as ea,__tla as ta}from"./page-4fb5cb88.js";import{u as ra,__tla as la}from"./tagsView-9d72ce86.js";import{u as oa,__tla as sa}from"./useMessage-66b9cf03.js";import{__tla as _a}from"./Dialog-07bcd661.js";import{__tla as na}from"./Qrcode-c5e9b5b1.js";import{__tla as ia}from"./Qrcode.vue_vue_type_style_index_0_scoped_573c75fe_lang-fe9765d5.js";import{__tla as ua}from"./el-text-e19e4a45.js";import{__tla as ma}from"./IFrame-b9e17bb2.js";import{__tla as ca}from"./vuedraggable.umd-bab8ca26.js";import{__tla as pa}from"./el-collapse-item-4f8d56ef.js";import{__tla as va}from"./index-3be78f60.js";let x,da=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return va}catch{}})()]).then(async()=>{let i;i="diy_page_index",x=J(T({name:"DiyTemplateDecorate",__name:"decorate",setup(fa){const e=l(0),m=j([{name:"\u57FA\u7840\u8BBE\u7F6E",icon:"ep:iphone"},{name:"\u9996\u9875",icon:"ep:home-filled"},{name:"\u6211\u7684",icon:"ep:user-filled"}]),y=oa(),_=l(!1),r=l(),h=l(),o=l(),g=l(""),w=[],c=l(w),b=()=>{if(e.value===0)return c.value=w,void(o.value=r.value);c.value=C,o.value=r.value.pages.find(n=>n.name===m[e.value].name)},U=async()=>{if(h){_.value=!0;try{e.value===0?await W(a(r)):await ea(a(o)),y.success("\u4FDD\u5B58\u6210\u529F")}finally{_.value=!1}}},S=()=>k(),k=()=>sessionStorage.setItem(i,`${e.value}`),{currentRoute:p}=q(),{delView:D}=ra();return B(async()=>{var n;if(r.value={id:void 0,name:"",used:!1,usedTime:void 0,remark:"",previewPicUrls:[],property:"",pages:[]},(n=h.value)==null||n.resetFields(),!p.value.params.id)return y.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void D(a(p));await(async t=>{_.value=!0;try{r.value=await O(t),o.value=r.value;const v="http://localhost:3000";g.value=`${v}/#/pages/index/index?templateId=${r.value.id}`}finally{_.value=!1}})(p.value.params.id),(()=>{const t=N(sessionStorage.getItem(i))||0;sessionStorage.removeItem(i),t!==e.value&&(e.value=t,b())})()}),(n,t)=>{const v=Q,P=X,$=Z,z=H,A=F;return a(r)&&!a(_)?(d(),I(A,{key:0,modelValue:a(o).property,"onUpdate:modelValue":t[1]||(t[1]=s=>a(o).property=s),title:a(m)[a(e)].name,libs:a(c),"show-page-config":a(e)!==0,"show-tab-bar":a(e)===0,"show-navigation-bar":a(e)!==0,"preview-url":a(g),onSave:U,onReset:S},{toolBarLeft:u(()=>[f(z,{modelValue:a(e),"onUpdate:modelValue":t[0]||(t[0]=s=>G(e)?e.value=s:null),class:"h-full!",onChange:b},{default:u(()=>[(d(!0),E(Y,null,M(a(m),(s,V)=>(d(),I($,{key:V,content:s.name},{default:u(()=>[f(P,{label:V},{default:u(()=>[f(v,{icon:s.icon,size:24},null,8,["icon"])]),_:2},1032,["label"])]),_:2},1032,["content"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title","libs","show-page-config","show-tab-bar","show-navigation-bar","preview-url"])):L("",!0)}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/promotion/diy/template/decorate.vue"]])});export{da as __tla,x as default};
