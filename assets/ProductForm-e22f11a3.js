import{d as R,k as W,r as i,n as Y,o as m,q as f,e as t,b as e,a,h as V,w as z,c as k,F as C,g as x,t as H,j as J,L as K,y as Q,a9 as $,s as ee,x as ae,af as le,ag as te,bX as re,ab as de,C as oe,B as ue,v as se,_ as ie,__tla as ce}from"./index-b079f499.js";import{_ as ne,__tla as pe}from"./Dialog-07bcd661.js";import{E as me,__tla as _e}from"./el-tree-select-6f7a72c0.js";import{P as b,__tla as fe}from"./index-f079e40c.js";import{P as ve,__tla as ye}from"./index-e8086f53.js";import{P as Ve,__tla as be}from"./index-270e30e9.js";import{C as ge}from"./constants-99751ef9.js";import{d as he,h as Pe}from"./tree-02f455f9.js";import{a as we,D as Ue,__tla as Ie}from"./dict-2c56908b.js";import{u as ke,__tla as Ce}from"./useMessage-66b9cf03.js";let q,xe=Promise.all([(()=>{try{return ce}catch{}})(),(()=>{try{return pe}catch{}})(),(()=>{try{return _e}catch{}})(),(()=>{try{return fe}catch{}})(),(()=>{try{return ye}catch{}})(),(()=>{try{return be}catch{}})(),(()=>{try{return Ie}catch{}})(),(()=>{try{return Ce}catch{}})()]).then(async()=>{q=ie(R({name:"ProductForm",__name:"ProductForm",emits:["success"],setup(qe,{expose:D,emit:S}){const{t:v}=W(),g=ke(),c=i(!1),h=i(""),n=i(!1),P=i(""),d=i({id:void 0,name:void 0,barCode:void 0,categoryId:void 0,unitId:void 0,status:void 0,standard:void 0,remark:void 0,expiryDay:void 0,weight:void 0,purchasePrice:void 0,salePrice:void 0,minPrice:void 0}),F=Y({name:[{required:!0,message:"\u4EA7\u54C1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],barCode:[{required:!0,message:"\u4EA7\u54C1\u6761\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],categoryId:[{required:!0,message:"\u4EA7\u54C1\u5206\u7C7B\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],unitId:[{required:!0,message:"\u5355\u4F4D\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u4EA7\u54C1\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),y=i(),w=i([]),U=i([]);D({open:async(s,r)=>{if(c.value=!0,h.value=v("action."+s),P.value=s,M(),r){n.value=!0;try{d.value=await b.getProduct(r)}finally{n.value=!1}}const p=await ve.getProductCategorySimpleList();w.value=Pe(p,"id","parentId"),U.value=await Ve.getProductUnitSimpleList()}});const E=S,L=async()=>{await y.value.validate(),n.value=!0;try{const s=d.value;P.value==="create"?(await b.createProduct(s),g.success(v("common.createSuccess"))):(await b.updateProduct(s),g.success(v("common.updateSuccess"))),c.value=!1,E("success")}finally{n.value=!1}},M=()=>{var s;d.value={id:void 0,name:void 0,barCode:void 0,categoryId:void 0,unitId:void 0,status:ge.ENABLE,standard:void 0,remark:void 0,expiryDay:void 0,weight:void 0,purchasePrice:void 0,salePrice:void 0,minPrice:void 0},(s=y.value)==null||s.resetFields()};return(s,r)=>{const p=K,o=Q,u=$,A=me,B=ee,N=ae,O=le,T=te,_=re,X=de,Z=oe,I=ue,j=ne,G=se;return m(),f(j,{title:a(h),modelValue:a(c),"onUpdate:modelValue":r[13]||(r[13]=l=>J(c)?c.value=l:null)},{footer:t(()=>[e(I,{onClick:L,type:"primary",disabled:a(n)},{default:t(()=>[V("\u786E \u5B9A")]),_:1},8,["disabled"]),e(I,{onClick:r[12]||(r[12]=l=>c.value=!1)},{default:t(()=>[V("\u53D6 \u6D88")]),_:1})]),default:t(()=>[z((m(),f(Z,{ref_key:"formRef",ref:y,model:a(d),rules:a(F),"label-width":"100px"},{default:t(()=>[e(X,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(o,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[e(p,{modelValue:a(d).name,"onUpdate:modelValue":r[0]||(r[0]=l=>a(d).name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u6761\u7801",prop:"barCode"},{default:t(()=>[e(p,{modelValue:a(d).barCode,"onUpdate:modelValue":r[1]||(r[1]=l=>a(d).barCode=l),placeholder:"\u8BF7\u8F93\u5165\u6761\u7801"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u5206\u7C7B",prop:"categoryId"},{default:t(()=>[e(A,{modelValue:a(d).categoryId,"onUpdate:modelValue":r[2]||(r[2]=l=>a(d).categoryId=l),data:a(w),props:a(he),"check-strictly":"","default-expand-all":"",placeholder:"\u8BF7\u9009\u62E9\u5206\u7C7B",class:"w-1/1"},null,8,["modelValue","data","props"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u5355\u4F4D",prop:"unitId"},{default:t(()=>[e(N,{modelValue:a(d).unitId,"onUpdate:modelValue":r[3]||(r[3]=l=>a(d).unitId=l),clearable:"",placeholder:"\u8BF7\u9009\u62E9\u5355\u4F4D",class:"w-1/1"},{default:t(()=>[(m(!0),k(C,null,x(a(U),l=>(m(),f(B,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[e(T,{modelValue:a(d).status,"onUpdate:modelValue":r[4]||(r[4]=l=>a(d).status=l)},{default:t(()=>[(m(!0),k(C,null,x(a(we)(a(Ue).COMMON_STATUS),l=>(m(),f(O,{key:l.value,label:l.value},{default:t(()=>[V(H(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u89C4\u683C",prop:"standard"},{default:t(()=>[e(p,{modelValue:a(d).standard,"onUpdate:modelValue":r[5]||(r[5]=l=>a(d).standard=l),placeholder:"\u8BF7\u8F93\u5165\u89C4\u683C"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u4FDD\u8D28\u671F\u5929\u6570",prop:"expiryDay"},{default:t(()=>[e(_,{modelValue:a(d).expiryDay,"onUpdate:modelValue":r[6]||(r[6]=l=>a(d).expiryDay=l),placeholder:"\u8BF7\u8F93\u5165\u4FDD\u8D28\u671F\u5929\u6570",min:0,precision:0,class:"!w-1/1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u91CD\u91CF\uFF08kg\uFF09",prop:"weight"},{default:t(()=>[e(_,{modelValue:a(d).weight,"onUpdate:modelValue":r[7]||(r[7]=l=>a(d).weight=l),placeholder:"\u8BF7\u8F93\u5165\u91CD\u91CF\uFF08kg\uFF09",min:0,class:"!w-1/1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u91C7\u8D2D\u4EF7\u683C",prop:"purchasePrice"},{default:t(()=>[e(_,{modelValue:a(d).purchasePrice,"onUpdate:modelValue":r[8]||(r[8]=l=>a(d).purchasePrice=l),placeholder:"\u8BF7\u8F93\u5165\u91C7\u8D2D\u4EF7\u683C\uFF0C\u5355\u4F4D\uFF1A\u5143",min:0,precision:2,class:"!w-1/1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u9500\u552E\u4EF7\u683C",prop:"salePrice"},{default:t(()=>[e(_,{modelValue:a(d).salePrice,"onUpdate:modelValue":r[9]||(r[9]=l=>a(d).salePrice=l),placeholder:"\u8BF7\u8F93\u5165\u9500\u552E\u4EF7\u683C\uFF0C\u5355\u4F4D\uFF1A\u5143",min:0,precision:2,class:"!w-1/1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(o,{label:"\u6700\u4F4E\u4EF7\u683C",prop:"minPrice"},{default:t(()=>[e(_,{modelValue:a(d).minPrice,"onUpdate:modelValue":r[10]||(r[10]=l=>a(d).minPrice=l),placeholder:"\u8BF7\u8F93\u5165\u6700\u4F4E\u4EF7\u683C\uFF0C\u5355\u4F4D\uFF1A\u5143",min:0,precision:2,class:"!w-1/1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:24},{default:t(()=>[e(o,{label:"\u5907\u6CE8",prop:"remark"},{default:t(()=>[e(p,{type:"textarea",modelValue:a(d).remark,"onUpdate:modelValue":r[11]||(r[11]=l=>a(d).remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[G,a(n)]])]),_:1},8,["title","modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/erp/product/product/ProductForm.vue"]])});export{xe as __tla,q as default};
