import{d as M,k as N,r as d,n as O,o as m,q as _,e as s,b as c,a,h as v,w as T,c as j,F as D,g as K,t as L,j as G,K as R,y as z,ae as H,af as I,B as J,A as Q,v as W,__tla as X}from"./index-34f06ebd.js";import{_ as Y,__tla as Z}from"./Dialog.vue_vue_type_style_index_0_lang-08560286.js";import{P as f,__tla as $}from"./index-16ab5298.js";import{a as aa,D as ea,__tla as ta}from"./dict-e142e39a.js";import{C as la}from"./constants-99751ef9.js";import{u as sa,__tla as ua}from"./useMessage-7a5ab7ef.js";let V,ra=Promise.all([(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ua}catch{}})()]).then(async()=>{V=M({name:"ProductUnitForm",__name:"ProductUnitForm",emits:["success"],setup(oa,{expose:g,emit:P}){const{t:i}=N(),p=sa(),r=d(!1),y=d(""),o=d(!1),b=d(""),u=d({id:void 0,name:void 0,status:void 0}),w=O({name:[{required:!0,message:"\u5355\u4F4D\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u5355\u4F4D\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=d();g({open:async(l,e)=>{if(r.value=!0,y.value=i("action."+l),b.value=l,F(),e){o.value=!0;try{u.value=await f.getProductUnit(e)}finally{o.value=!1}}}});const k=P,C=async()=>{await n.value.validate(),o.value=!0;try{const l=u.value;b.value==="create"?(await f.createProductUnit(l),p.success(i("common.createSuccess"))):(await f.updateProductUnit(l),p.success(i("common.updateSuccess"))),r.value=!1,k("success")}finally{o.value=!1}},F=()=>{var l;u.value={id:void 0,name:void 0,status:la.ENABLE},(l=n.value)==null||l.resetFields()};return(l,e)=>{const q=R,h=z,x=H,S=I,A=J,U=Q,B=Y,E=W;return m(),_(B,{title:a(y),modelValue:a(r),"onUpdate:modelValue":e[3]||(e[3]=t=>G(r)?r.value=t:null)},{footer:s(()=>[c(U,{onClick:C,type:"primary",disabled:a(o)},{default:s(()=>[v("\u786E \u5B9A")]),_:1},8,["disabled"]),c(U,{onClick:e[2]||(e[2]=t=>r.value=!1)},{default:s(()=>[v("\u53D6 \u6D88")]),_:1})]),default:s(()=>[T((m(),_(A,{ref_key:"formRef",ref:n,model:a(u),rules:a(w),"label-width":"100px"},{default:s(()=>[c(h,{label:"\u5355\u4F4D\u540D\u5B57",prop:"name"},{default:s(()=>[c(q,{modelValue:a(u).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(u).name=t),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D\u540D\u5B57"},null,8,["modelValue"])]),_:1}),c(h,{label:"\u5355\u4F4D\u72B6\u6001",prop:"status"},{default:s(()=>[c(S,{modelValue:a(u).status,"onUpdate:modelValue":e[1]||(e[1]=t=>a(u).status=t)},{default:s(()=>[(m(!0),j(D,null,K(a(aa)(a(ea).COMMON_STATUS),t=>(m(),_(x,{key:t.value,label:t.value},{default:s(()=>[v(L(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[E,a(o)]])]),_:1},8,["title","modelValue"])}}})});export{V as _,ra as __tla};
