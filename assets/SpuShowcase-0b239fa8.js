import{d as R,aV as U,ag as v,a1 as j,r as y,aS as D,aw as b,o as s,c as u,g as o,F as g,q as F,f as e,w as V,x as I,a3 as L,a as w,v as M,a4 as P,_ as T,aA as X,__tla as z}from"./index-d5b00dc9.js";import{E as B,__tla as G}from"./el-image-5f4cbc55.js";import{__tla as H}from"./el-image-viewer-96313bcd.js";import{b as J,__tla as K}from"./spu-b7f32e1c.js";import{_ as O,__tla as Q}from"./SpuTableSelect.vue_vue_type_script_setup_true_lang-af5610a3.js";import{_ as W}from"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as Y}from"./Dialog.vue_vue_type_style_index_0_lang-03cf6454.js";import{__tla as Z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-29ba9b6b.js";import{__tla as $}from"./index-bd0d9e6c.js";import{__tla as aa}from"./index.vue_vue_type_script_setup_true_lang-8478be74.js";import{__tla as la}from"./index-9ed43bfb.js";import{__tla as ta}from"./el-tree-select-8e562b9e.js";import"./tree-82bb3b99.js";import{__tla as ea}from"./category-bb2b63fb.js";let x,ra=Promise.all([(()=>{try{return z}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ea}catch{}})()]).then(async()=>{let i,m;i={class:"flex flex-wrap items-center gap-8px"},m={class:"relative h-full w-full"},x=W(R({name:"SpuShowcase",__name:"SpuShowcase",props:{modelValue:U([Number,Array]).isRequired,limit:v.number.def(Number.MAX_VALUE),disabled:v.bool.def(!1)},emits:["update:modelValue","change"],setup(_,{emit:k}){const t=_,S=j(()=>!t.disabled&&(!t.limit||l.value.length<t.limit)),l=y([]);D(()=>t.modelValue,async()=>{const a=b(t.modelValue)?t.modelValue:t.modelValue?[t.modelValue]:[];a.length!==0?(l.value.length===0||l.value.some(p=>!a.includes(p.id)))&&(l.value=await J(a)):l.value=[]},{immediate:!0});const n=y(),C=()=>{n.value.open(l.value)},A=a=>{l.value=b(a)?a:[a],d()},r=k,d=()=>{if(t.limit===1){const a=l.value.length>0?l.value[0]:null;r("update:modelValue",(a==null?void 0:a.id)||0),r("change",a)}else r("update:modelValue",l.value.map(a=>a.id)),r("change",l.value)};return(a,p)=>{const q=B,f=T,h=X;return s(),u(g,null,[o("div",i,[(s(!0),u(g,null,F(w(l),(c,E)=>(s(),u("div",{key:c.id,class:"select-box spu-pic"},[e(h,{content:c.name},{default:V(()=>[o("div",m,[e(q,{src:c.picUrl,class:"h-full w-full"},null,8,["src"]),I(e(f,{class:"del-icon",icon:"ep:circle-close-filled",onClick:sa=>(N=>{l.value.splice(N,1),d()})(E)},null,8,["onClick"]),[[L,!_.disabled]])])]),_:2},1032,["content"])]))),128)),w(S)?(s(),M(h,{key:0,content:"\u9009\u62E9\u5546\u54C1"},{default:V(()=>[o("div",{class:"select-box",onClick:C},[e(f,{icon:"ep:plus"})])]),_:1})):P("",!0)]),e(O,{ref_key:"spuTableSelectRef",ref:n,multiple:_.limit!=1,onChange:A},null,8,["multiple"])],64)}}}),[["__scopeId","data-v-83497b1b"]])});export{ra as __tla,x as default};
