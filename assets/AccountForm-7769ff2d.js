import{d as M,k as j,r as c,n as z,o as q,q as h,e as o,b as e,a as l,h as m,w as B,f as y,j as E,L as G,y as L,A as N,az as P,C as R,B as X,v as Y,_ as Z,__tla as H}from"./index-aaa5adb3.js";import{_ as J,__tla as O}from"./Dialog-9a73a39c.js";import{g as Q,c as T,u as W,__tla as $}from"./index-03d2e51e.js";import{u as ee,__tla as ae}from"./useMessage-873da1e2.js";let I,le=Promise.all([(()=>{try{return H}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ae}catch{}})()]).then(async()=>{I=Z(M({name:"MpAccountForm",__name:"AccountForm",emits:["success"],setup(te,{expose:S,emit:w}){const{t:_}=j(),V=ee(),d=c(!1),b=c(""),s=c(!1),g=c(""),t=c({id:void 0,name:"",account:"",appId:"",appSecret:"",token:"",aesKey:"",remark:""}),U=z({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],account:[{required:!0,message:"\u516C\u4F17\u53F7\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],appId:[{required:!0,message:"\u516C\u4F17\u53F7 appId \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],appSecret:[{required:!0,message:"\u516C\u4F17\u53F7\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],token:[{required:!0,message:"\u516C\u4F17\u53F7 token \u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),i=c();S({open:async(u,a)=>{if(d.value=!0,b.value=_("action."+u),g.value=u,K(),a){s.value=!0;try{t.value=await Q(a)}finally{s.value=!1}}}});const x=w,A=async()=>{if(i&&await i.value.validate()){s.value=!0;try{const u=t.value;g.value==="create"?(await T(u),V.success(_("common.createSuccess"))):(await W(u),V.success(_("common.updateSuccess"))),d.value=!1,x("success")}finally{s.value=!1}}},K=()=>{var u;t.value={id:void 0,name:"",account:"",appId:"",appSecret:"",token:"",aesKey:"",remark:""},(u=i.value)==null||u.resetFields()};return(u,a)=>{const p=G,n=L,f=N,v=P,C=R,k=X,F=J,D=Y;return q(),h(F,{modelValue:l(d),"onUpdate:modelValue":a[8]||(a[8]=r=>E(d)?d.value=r:null),title:l(b)},{footer:o(()=>[e(k,{disabled:l(s),type:"primary",onClick:A},{default:o(()=>[m("\u786E \u5B9A")]),_:1},8,["disabled"]),e(k,{onClick:a[7]||(a[7]=r=>d.value=!1)},{default:o(()=>[m("\u53D6 \u6D88")]),_:1})]),default:o(()=>[B((q(),h(C,{ref_key:"formRef",ref:i,model:l(t),rules:l(U),"label-width":"120px"},{default:o(()=>[e(n,{label:"\u540D\u79F0",prop:"name"},{default:o(()=>[e(p,{modelValue:l(t).name,"onUpdate:modelValue":a[0]||(a[0]=r=>l(t).name=r),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5FAE\u4FE1\u53F7",prop:"account"},{label:o(()=>[y("span",null,[e(v,{content:"\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF08mp.weixin.qq.com\uFF09\u7684\u83DC\u5355 [\u8BBE\u7F6E\u4E0E\u5F00\u53D1 - \u516C\u4F17\u53F7\u8BBE\u7F6E - \u8D26\u53F7\u8BE6\u60C5] \u4E2D\u80FD\u627E\u5230\u300C\u5FAE\u4FE1\u53F7\u300D",placement:"top"},{default:o(()=>[e(f,{icon:"ep:question-filled",style:{"vertical-align":"middle"}})]),_:1}),m(" \u5FAE\u4FE1\u53F7 ")])]),default:o(()=>[e(p,{modelValue:l(t).account,"onUpdate:modelValue":a[1]||(a[1]=r=>l(t).account=r),placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u53F7"},null,8,["modelValue"])]),_:1}),e(n,{label:"appId",prop:"appId"},{label:o(()=>[y("span",null,[e(v,{content:"\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF08mp.weixin.qq.com\uFF09\u7684\u83DC\u5355 [\u8BBE\u7F6E\u4E0E\u5F00\u53D1 - \u516C\u4F17\u53F7\u8BBE\u7F6E - \u57FA\u672C\u8BBE\u7F6E] \u4E2D\u80FD\u627E\u5230\u300C\u5F00\u53D1\u8005ID(AppID)\u300D",placement:"top"},{default:o(()=>[e(f,{icon:"ep:question-filled",style:{"vertical-align":"middle"}})]),_:1}),m(" appId ")])]),default:o(()=>[e(p,{modelValue:l(t).appId,"onUpdate:modelValue":a[2]||(a[2]=r=>l(t).appId=r),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7 appId"},null,8,["modelValue"])]),_:1}),e(n,{label:"appSecret",prop:"appSecret"},{label:o(()=>[y("span",null,[e(v,{content:"\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF08mp.weixin.qq.com\uFF09\u7684\u83DC\u5355 [\u8BBE\u7F6E\u4E0E\u5F00\u53D1 - \u516C\u4F17\u53F7\u8BBE\u7F6E - \u57FA\u672C\u8BBE\u7F6E] \u4E2D\u80FD\u627E\u5230\u300C\u5F00\u53D1\u8005\u5BC6\u7801(AppSecret)\u300D",placement:"top"},{default:o(()=>[e(f,{icon:"ep:question-filled",style:{"vertical-align":"middle"}})]),_:1}),m(" appSecret ")])]),default:o(()=>[e(p,{modelValue:l(t).appSecret,"onUpdate:modelValue":a[3]||(a[3]=r=>l(t).appSecret=r),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7 appSecret"},null,8,["modelValue"])]),_:1}),e(n,{label:"token",prop:"token"},{default:o(()=>[e(p,{modelValue:l(t).token,"onUpdate:modelValue":a[4]||(a[4]=r=>l(t).token=r),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7token"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6D88\u606F\u52A0\u89E3\u5BC6\u5BC6\u94A5",prop:"aesKey"},{default:o(()=>[e(p,{modelValue:l(t).aesKey,"onUpdate:modelValue":a[5]||(a[5]=r=>l(t).aesKey=r),placeholder:"\u8BF7\u8F93\u5165\u6D88\u606F\u52A0\u89E3\u5BC6\u5BC6\u94A5"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5907\u6CE8",prop:"remark"},{default:o(()=>[e(p,{modelValue:l(t).remark,"onUpdate:modelValue":a[6]||(a[6]=r=>l(t).remark=r),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[D,l(s)]])]),_:1},8,["modelValue","title"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mp/account/AccountForm.vue"]])});export{le as __tla,I as default};
