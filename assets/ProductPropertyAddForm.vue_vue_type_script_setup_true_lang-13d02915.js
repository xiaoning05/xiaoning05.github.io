import{d as S,r as u,e as D,aS as U,o as p,v as c,w as s,f as n,h as f,a as l,x as j,l as q,i as I,P as R,A as z,D as B,C as E,I as G,__tla as H}from"./index-d2088aec.js";import{_ as J,__tla as K}from"./Dialog.vue_vue_type_style_index_0_lang-4d2024bd.js";import{b as M,__tla as N}from"./property-ff4fbfd2.js";import{u as O,__tla as Q}from"./useMessage-c5990e2c.js";let y,T=Promise.all([(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return Q}catch{}})()]).then(async()=>{y=S({name:"ProductPropertyForm",__name:"ProductPropertyAddForm",props:{propertyList:{type:Array,default:()=>{}}},setup(v,{expose:h}){const{t:V}=I(),b=O(),t=u(!1),o=u(!1),r=u({name:""}),P=D({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),m=u(),_=u([]),x=v;U(()=>x.propertyList,e=>{e&&(_.value=e)},{deep:!0,immediate:!0}),h({open:async()=>{t.value=!0,w()}});const g=async()=>{if(m&&await m.value.validate()){o.value=!0;try{const e=r.value,a=await M(e);_.value.push({id:a,...r.value,values:[]}),b.success(V("common.createSuccess")),t.value=!1}finally{o.value=!1}}},w=()=>{var e;r.value={name:""},(e=m.value)==null||e.resetFields()};return(e,a)=>{const k=R,A=z,C=B,i=E,F=J,L=G;return p(),c(F,{modelValue:l(t),"onUpdate:modelValue":a[2]||(a[2]=d=>q(t)?t.value=d:null),title:"\u6DFB\u52A0\u5546\u54C1\u5C5E\u6027"},{footer:s(()=>[n(i,{disabled:l(o),type:"primary",onClick:g},{default:s(()=>[f("\u786E \u5B9A")]),_:1},8,["disabled"]),n(i,{onClick:a[1]||(a[1]=d=>t.value=!1)},{default:s(()=>[f("\u53D6 \u6D88")]),_:1})]),default:s(()=>[j((p(),c(C,{ref_key:"formRef",ref:m,model:l(r),rules:l(P),"label-width":"80px"},{default:s(()=>[n(A,{label:"\u5C5E\u6027\u540D\u79F0",prop:"name"},{default:s(()=>[n(k,{modelValue:l(r).name,"onUpdate:modelValue":a[0]||(a[0]=d=>l(r).name=d),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[L,l(o)]])]),_:1},8,["modelValue"])}}})});export{y as _,T as __tla};
