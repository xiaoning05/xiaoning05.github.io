import{d as b,r as y,n as u,o as V,q as h,e as w,b as l,a as e,k as q,y as v,B as R,__tla as k}from"./index-34f06ebd.js";import{_ as x,__tla as M}from"./XButton-764a1d39.js";import{I as m,__tla as U}from"./InputPassword-a024e5d0.js";import{a as C,__tla as B}from"./profile-0508bad6.js";import{u as E,__tla as F}from"./useMessage-7a5ab7ef.js";let p,I=Promise.all([(()=>{try{return k}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return B}catch{}})(),(()=>{try{return F}catch{}})()]).then(async()=>{p=b({name:"ResetPwd",__name:"ResetPwd",setup(S){const{t:r}=q(),_=E(),n=y(),s=u({oldPassword:"",newPassword:"",confirmPassword:""}),f=u({oldPassword:[{required:!0,message:r("profile.password.oldPwdMsg"),trigger:"blur"},{min:6,max:20,message:r("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:r("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:r("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:r("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(c,a,o)=>{s.newPassword!==a?o(new Error(r("profile.password.diffPwd"))):o()},trigger:"blur"}]});return(c,a)=>{const o=v,i=x,P=R;return V(),h(P,{ref_key:"formRef",ref:n,model:e(s),rules:e(f),"label-width":200},{default:w(()=>[l(o,{label:e(r)("profile.password.oldPassword"),prop:"oldPassword"},{default:w(()=>[l(e(m),{modelValue:e(s).oldPassword,"onUpdate:modelValue":a[0]||(a[0]=t=>e(s).oldPassword=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:e(r)("profile.password.newPassword"),prop:"newPassword"},{default:w(()=>[l(e(m),{modelValue:e(s).newPassword,"onUpdate:modelValue":a[1]||(a[1]=t=>e(s).newPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:e(r)("profile.password.confirmPassword"),prop:"confirmPassword"},{default:w(()=>[l(e(m),{modelValue:e(s).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=t=>e(s).confirmPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,null,{default:w(()=>[l(i,{title:e(r)("common.save"),type:"primary",onClick:a[3]||(a[3]=t=>{var d;(d=e(n))&&d.validate(async g=>{g&&(await C(s.oldPassword,s.newPassword),_.success(r("common.updateSuccess")))})})},null,8,["title"]),l(i,{title:e(r)("common.reset"),type:"danger",onClick:a[4]||(a[4]=t=>{var d;(d=e(n))&&d.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}})});export{p as _,I as __tla};
