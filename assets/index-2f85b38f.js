import{d as I,r,aS as w,p as B,o as l,v as j,w as z,g as n,av as p,a,c as s,F as C,q as L,f as b,a4 as f,R as P,t as g,aT as S,__tla as U}from"./index-d2088aec.js";import{E as q,__tla as E}from"./el-image-9c436071.js";import{__tla as F}from"./el-image-viewer-6188d22b.js";import{g as G,__tla as W}from"./spu-23786f86.js";import{g as A,__tla as D}from"./seckillActivity-9f4d6a02.js";let R,H=Promise.all([(()=>{try{return U}catch{}})(),(()=>{try{return E}catch{}})(),(()=>{try{return F}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return D}catch{}})()]).then(async()=>{let _;_={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},R=I({name:"PromotionSeckill",__name:"index",props:{property:{}},setup(T){const o=T,i=r([]);w(()=>o.property.activityId,async()=>{if(!o.property.activityId)return;const t=await A(o.property.activityId);t!=null&&t.spuId&&(i.value=[await G(t.spuId)])},{immediate:!0,deep:!0});const c=r(375),m=r(),e=r(2),v=r("100%"),d=r("0"),x=r("");return w(()=>[o.property,c,i.value.length],()=>{e.value=o.property.layoutType==="oneCol"?1:3;const t=(c.value-o.property.space*(e.value-1))/e.value;d.value=e.value===2?"64px":`${t}px`,x.value=`repeat(${e.value}, auto)`,v.value="100%"},{immediate:!0,deep:!0}),B(()=>{var t,u;c.value=((u=(t=m.value)==null?void 0:t.wrapRef)==null?void 0:u.offsetWidth)||375}),(t,u)=>{const h=q,$=S;return l(),j($,{class:"z-1 min-h-30px","wrap-class":"w-full",ref_key:"containerRef",ref:m},{default:z(()=>[n("div",{class:"grid overflow-x-auto",style:p({gridGap:`${t.property.space}px`,gridTemplateColumns:a(x),width:a(v)})},[(l(!0),s(C,null,L(a(i),(y,k)=>(l(),s("div",{class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:p({borderTopLeftRadius:`${t.property.borderRadiusTop}px`,borderTopRightRadius:`${t.property.borderRadiusTop}px`,borderBottomLeftRadius:`${t.property.borderRadiusBottom}px`,borderBottomRightRadius:`${t.property.borderRadiusBottom}px`}),key:k},[t.property.badge.show?(l(),s("div",_,[b(h,{fit:"cover",src:t.property.badge.imgUrl,class:"h-26px w-38px"},null,8,["src"])])):f("",!0),b(h,{fit:"cover",src:y.picUrl,style:p({width:a(d),height:a(d)})},null,8,["src","style"]),n("div",{class:P(["flex flex-col gap-8px p-8px box-border",{"w-[calc(100%-64px)]":a(e)===2,"w-full":a(e)===3}])},[t.property.fields.name.show?(l(),s("div",{key:0,class:"truncate text-12px",style:p({color:t.property.fields.name.color})},g(y.name),5)):f("",!0),n("div",null,[t.property.fields.price.show?(l(),s("span",{key:0,class:"text-12px",style:p({color:t.property.fields.price.color})}," \uFFE5"+g(y.price),5)):f("",!0)])],2)],4))),128))],4)]),_:1},512)}}})});export{H as __tla,R as default};
