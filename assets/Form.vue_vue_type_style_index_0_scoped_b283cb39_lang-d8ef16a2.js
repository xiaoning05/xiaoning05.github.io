import{bq as bl,br as yl,bs as Sl,d as be,am as xl,b1 as ye,r as N,bb as Re,a2 as M,a as V,p as qe,bt as Vl,bu as wl,aR as Oe,b8 as Be,bd as Ge,an as le,bv as Cl,bw as Ct,b3 as Qe,o as W,c as q,t as se,S as L,aw as re,g as Y,bx as ne,b0 as It,b7 as ue,by as Il,bz as Ol,bA as Tl,bB as Ml,bC as kl,aY as Ot,aK as Ee,aS as ae,aT as he,bD as _l,f as $,ak as de,bE as Le,bF as zl,bG as Pl,bH as Rl,bI as Ye,bJ as Bl,bK as El,e as Je,bL as Tt,bM as Ll,bN as Dl,ba as De,bO as Fl,bP as $l,bQ as Mt,bR as Wl,bS as Nl,bT as Kl,bU as kt,bV as _t,al as Al,aB as zt,$ as Hl,bW as Ul,bX as jl,bY as Pt,bZ as ql,Y as Fe,L as Xe,x as Se,w as Z,a5 as pe,F as xe,q as Ze,v as me,M as ce,a4 as Gl,aL as Ql,aM as Yl,aj as Rt,b_ as Bt,Q as Jl,b$ as Xl,c0 as Zl,z as ea,c1 as ta,a0 as la,c2 as aa,c3 as oa,B as sa,c4 as na,c5 as ia,c6 as ra,c7 as ca,i as ua,c8 as da,y as pa,ai as ma,aA as fa,ae as ha,c9 as va,ah as Te,J as ga,G as ba,V as ya,ca as Sa,s as xa,k as Va,j as wa,C as Ca,A as Ia,bc as Oa,__tla as Ta}from"./index-f0743f71.js";import{H as Et,V as Ma,v as ka,I as Lt,S as Dt,u as _a,i as Me,R as et,g as Ft,a as za,b as $t,c as Pa,B as Ra,F as Ba,d as tt,A as lt,e as Ea,C as $e,E as Wt,f as Nt,h as Kt,D as La,__tla as Da}from"./el-virtual-list-f8460722.js";import{E as Fa,__tla as $a}from"./el-tree-select-d7a8a522.js";import{E as Wa,__tla as Na}from"./el-time-select-fda81daa.js";import{I as Ka,__tla as Aa}from"./InputPassword-70012cf4.js";import{_ as Ha,__tla as Ua}from"./Editor-9944a8eb.js";import{_ as ja,__tla as qa}from"./UploadImg-aab03145.js";import{_ as Ga,__tla as Qa}from"./UploadImgs-e8dcbd85.js";import{_ as Ya,__tla as Ja}from"./UploadFile-8fbb57ef.js";import{g as Ve,__tla as Xa}from"./tsxHelper-0d496dea.js";let At,Za=Promise.all([(()=>{try{return Ta}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return $a}catch{}})(),(()=>{try{return Na}catch{}})(),(()=>{try{return Aa}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return qa}catch{}})(),(()=>{try{return Qa}catch{}})(),(()=>{try{return Ja}catch{}})(),(()=>{try{return Xa}catch{}})()]).then(async()=>{const Ht={[Et]:"deltaX",[Ma]:"deltaY"},at=({name:e,getOffset:l,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:d,getStartIndexForOffset:p,getStopIndexForStartIndex:v,initCache:m,clearCache:c,validateProps:O})=>be({name:e??"ElVirtualList",props:ka,emits:[Lt,Dt],setup(h,{emit:o,expose:t}){O(h);const T=xl(),w=ye("vl"),I=N(m(h,T)),g=_a(),B=N(),C=N(),E=N(),r=N({isScrolling:!1,scrollDir:"forward",scrollOffset:Re(h.initScrollOffset)?h.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:h.scrollbarAlwaysOn}),u=M(()=>{const{total:S,cache:k}=h,{isScrolling:R,scrollDir:K,scrollOffset:P}=V(r);if(S===0)return[0,0,0,0];const F=p(h,P,V(I)),H=v(h,F,P,V(I)),A=R&&K!==Ra?1:Math.max(1,k),oe=R&&K!==Ba?1:Math.max(1,k);return[Math.max(0,F-A),Math.max(0,Math.min(S-1,H+oe)),F,H]}),x=M(()=>d(h,V(I))),f=M(()=>Me(h.layout)),b=M(()=>[{position:"relative",["overflow-"+(f.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:h.direction,height:Re(h.height)?`${h.height}px`:h.height,width:Re(h.width)?`${h.width}px`:h.width},h.style]),D=M(()=>{const S=V(x),k=V(f);return{height:k?"100%":`${S}px`,pointerEvents:V(r).isScrolling?"none":void 0,width:k?`${S}px`:"100%"}}),z=M(()=>f.value?h.width:h.height),{onWheel:U}=(({atEndEdge:S,atStartEdge:k,layout:R},K)=>{let P,F=0;const H=A=>A<0&&k.value||A>0&&S.value;return{hasReachedEdge:H,onWheel:A=>{bl(P);const oe=A[Ht[R.value]];H(F)&&H(F+oe)||(F+=oe,yl()||A.preventDefault(),P=Sl(()=>{K(F),F=0}))}}})({atStartEdge:M(()=>r.value.scrollOffset<=0),atEndEdge:M(()=>r.value.scrollOffset>=x.value),layout:M(()=>h.layout)},S=>{var k,R;(R=(k=E.value).onMouseUp)==null||R.call(k),G(Math.min(r.value.scrollOffset+S,x.value-z.value))}),ee=()=>{const{total:S}=h;if(S>0){const[P,F,H,A]=V(u);o(Lt,P,F,H,A)}const{scrollDir:k,scrollOffset:R,updateRequested:K}=V(r);o(Dt,k,R,K)},G=S=>{(S=Math.max(S,0))!==V(r).scrollOffset&&(r.value={...V(r),scrollOffset:S,scrollDir:tt(V(r).scrollOffset,S),updateRequested:!0},le(te))},Q=(S,k=lt)=>{const{scrollOffset:R}=V(r);S=Math.max(0,Math.min(S,h.total-1)),G(l(h,S,k,R,V(I)))},te=()=>{r.value.isScrolling=!1,le(()=>{g.value(-1,null,null)})},j=()=>{const S=B.value;S&&(S.scrollTop=0)};qe(()=>{if(!Vl)return;const{initScrollOffset:S}=h,k=V(B);Re(S)&&k&&(V(f)?k.scrollLeft=S:k.scrollTop=S),ee()}),wl(()=>{const{direction:S,layout:k}=h,{scrollOffset:R,updateRequested:K}=V(r),P=V(B);if(K&&P)if(k===Et)if(S===et)switch(Ft()){case $t:P.scrollLeft=-R;break;case za:P.scrollLeft=R;break;default:{const{clientWidth:F,scrollWidth:H}=P;P.scrollLeft=H-F-R;break}}else P.scrollLeft=R;else P.scrollTop=R});const X={ns:w,clientSize:z,estimatedTotalSize:x,windowStyle:b,windowRef:B,innerRef:C,innerStyle:D,itemsToRender:u,scrollbarRef:E,states:r,getItemStyle:S=>{const{direction:k,itemSize:R,layout:K}=h,P=g.value(c&&R,c&&K,c&&k);let F;if(Cl(P,String(S)))F=P[S];else{const H=i(h,S,V(I)),A=n(h,S,V(I)),oe=V(f),we=k===et,Ce=oe?H:0;P[S]=F={position:"absolute",left:we?void 0:`${Ce}px`,right:we?`${Ce}px`:void 0,top:oe?0:`${H}px`,height:oe?"100%":`${A}px`,width:oe?`${A}px`:"100%"}}return F},onScroll:S=>{V(f)?(k=>{const{clientWidth:R,scrollLeft:K,scrollWidth:P}=k.currentTarget,F=V(r);if(F.scrollOffset===K)return;const{direction:H}=h;let A=K;if(H===et)switch(Ft()){case $t:A=-K;break;case Ea:A=P-R-K}A=Math.max(0,Math.min(A,P-R)),r.value={...F,isScrolling:!0,scrollDir:tt(F.scrollOffset,A),scrollOffset:A,updateRequested:!1},le(te)})(S):(k=>{const{clientHeight:R,scrollHeight:K,scrollTop:P}=k.currentTarget,F=V(r);if(F.scrollOffset===P)return;const H=Math.max(0,Math.min(P,K-R));r.value={...F,isScrolling:!0,scrollDir:tt(F.scrollOffset,H),scrollOffset:H,updateRequested:!1},le(te)})(S),ee()},onScrollbarScroll:(S,k)=>{const R=(x.value-z.value)/k*S;G(Math.min(x.value-z.value,R))},onWheel:U,scrollTo:G,scrollToItem:Q,resetScrollTop:j};return t({windowRef:B,innerRef:C,getItemStyleCache:g,scrollTo:G,scrollToItem:Q,resetScrollTop:j,states:r}),X},render(h){var o;const{$slots:t,className:T,clientSize:w,containerElement:I,data:g,getItemStyle:B,innerElement:C,itemsToRender:E,innerStyle:r,layout:u,total:x,onScroll:f,onScrollbarScroll:b,onWheel:D,states:z,useIsScrolling:U,windowStyle:ee,ns:G}=h,[Q,te]=E,j=Oe(I),X=Oe(C),S=[];if(x>0)for(let P=Q;P<=te;P++)S.push((o=t.default)==null?void 0:o.call(t,{data:g,key:P,index:P,isScrolling:U?z.isScrolling:void 0,style:B(P)}));const k=[Be(X,{style:r,ref:"innerRef"},Ge(X)?S:{default:()=>S})],R=Be(Pa,{ref:"scrollbarRef",clientSize:w,layout:u,onScroll:b,ratio:100*w/this.estimatedTotalSize,scrollFrom:z.scrollOffset/(this.estimatedTotalSize-w),total:x}),K=Be(j,{class:[G.e("window"),T],style:ee,onScroll:f,onWheel:D,ref:"windowRef",key:0},Ge(j)?[k]:{default:()=>[k]});return Be("div",{key:0,class:[G.e("wrapper"),z.scrollbarAlwaysOn?"always-on":""]},[K,R])}}),Ut=at({name:"ElFixedSizeList",getItemOffset:({itemSize:e},l)=>l*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:l})=>l*e,getOffset:({height:e,total:l,itemSize:n,layout:i,width:d},p,v,m)=>{const c=Me(i)?d:e;Ge(c)&&Ct("[ElVirtualList]",`
        You should set
          width/height
        to number when your layout is
          horizontal/vertical
      `);const O=Math.max(0,l*n-c),h=Math.min(O,p*n),o=Math.max(0,(p+1)*n-c);switch(v===Kt&&(v=m>=o-c&&m<=h+c?lt:$e),v){case Nt:return h;case Wt:return o;case $e:{const t=Math.round(o+(h-o)/2);return t<Math.ceil(c/2)?0:t>O+Math.floor(c/2)?O:t}default:return m>=o&&m<=h?m:m<o?o:h}},getStartIndexForOffset:({total:e,itemSize:l},n)=>Math.max(0,Math.min(e-1,Math.floor(n/l))),getStopIndexForStartIndex:({height:e,total:l,itemSize:n,layout:i,width:d},p,v)=>{const m=p*n,c=Me(i)?d:e,O=Math.ceil((c+v-m)/n);return Math.max(0,Math.min(l-1,p+O-1))},initCache(){},clearCache:!0,validateProps(){}}),ve=(e,l,n)=>{const{itemSize:i}=e,{items:d,lastVisitedIndex:p}=n;if(l>p){let v=0;if(p>=0){const m=d[p];v=m.offset+m.size}for(let m=p+1;m<=l;m++){const c=i(m);d[m]={offset:v,size:c},v+=c}n.lastVisitedIndex=l}return d[l]},ot=(e,l,n,i,d)=>{for(;n<=i;){const p=n+Math.floor((i-n)/2),v=ve(e,p,l).offset;if(v===d)return p;v<d?n=p+1:v>d&&(i=p-1)}return Math.max(0,n-1)},jt=(e,l,n,i)=>{const{total:d}=e;let p=1;for(;n<d&&ve(e,n,l).offset<i;)n+=p,p*=2;return ot(e,l,Math.floor(n/2),Math.min(n,d-1),i)},st=({total:e},{items:l,estimatedItemSize:n,lastVisitedIndex:i})=>{let d=0;if(i>=e&&(i=e-1),i>=0){const p=l[i];d=p.offset+p.size}return d+(e-i-1)*n},qt=at({name:"ElDynamicSizeList",getItemOffset:(e,l,n)=>ve(e,l,n).offset,getItemSize:(e,l,{items:n})=>n[l].size,getEstimatedTotalSize:st,getOffset:(e,l,n,i,d)=>{const{height:p,layout:v,width:m}=e,c=Me(v)?m:p,O=ve(e,l,d),h=st(e,d),o=Math.max(0,Math.min(h-c,O.offset)),t=Math.max(0,O.offset-c+O.size);switch(n===Kt&&(n=i>=t-c&&i<=o+c?lt:$e),n){case Nt:return o;case Wt:return t;case $e:return Math.round(t+(o-t)/2);default:return i>=t&&i<=o?i:i<t?t:o}},getStartIndexForOffset:(e,l,n)=>((i,d,p)=>{const{items:v,lastVisitedIndex:m}=d;return(m>0?v[m].offset:0)>=p?ot(i,d,0,m,p):jt(i,d,Math.max(0,m),p)})(e,n,l),getStopIndexForStartIndex:(e,l,n,i)=>{const{height:d,total:p,layout:v,width:m}=e,c=Me(v)?m:d,O=ve(e,l,i),h=n+c;let o=O.offset+O.size,t=l;for(;t<p-1&&o<h;)t++,o+=ve(e,t,i).size;return t},initCache({estimatedItemSize:e=La},l){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(i,d=!0)=>{var p,v;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,i-1),(p=l.exposed)==null||p.getItemStyleCache(-1),d&&((v=l.proxy)==null||v.$forceUpdate())}};return n},clearCache:!1,validateProps:({itemSize:e})=>{typeof e!="function"&&Ct("ElDynamicSizeList",`
          itemSize is required as function, but the given value was ${typeof e}
        `)}});var Gt=Qe(be({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:ye("select")})}),[["render",function(e,l,n,i,d,p){return e.item.isTitle?(W(),q("div",{key:0,class:L(e.ns.be("group","title")),style:re([e.style,{lineHeight:`${e.height}px`}])},se(e.item.label),7)):(W(),q("div",{key:1,class:L(e.ns.be("group","split")),style:re(e.style)},[Y("span",{class:L(e.ns.be("group","split-dash")),style:re({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const nt={label:"label",value:"value",disabled:"disabled",options:"options"};function ke(e){const l=M(()=>({...nt,...e.props}));return{aliasProps:l,getLabel:n=>ne(n,l.value.label),getValue:n=>ne(n,l.value.value),getDisabled:n=>ne(n,l.value.disabled),getOptions:n=>ne(n,l.value.options)}}const Qt=It({allowCreate:Boolean,autocomplete:{type:ue(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Il,default:Ol},effect:{type:ue(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:{type:ue([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ue(Array),required:!0},placeholder:{type:String},teleported:Tl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ue(Object),default:()=>({})},remote:Boolean,size:Ml,props:{type:ue(Object),default:()=>nt},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:ue(String),values:kl,default:"bottom-start"}}),Yt=It({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ue(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),We=Symbol("ElSelectV2Injection"),Jt=be({props:Yt,emits:["select","hover"],setup(e,{emit:l}){const n=Ot(We),i=ye("select"),{hoverItem:d,selectOptionClick:p}=function(m,{emit:c}){return{hoverItem:()=>{m.disabled||c("hover",m.index)},selectOptionClick:()=>{m.disabled||c("select",m.item,m.index)}}}(e,{emit:l}),{getLabel:v}=ke(n.props);return{ns:i,hoverItem:d,selectOptionClick:p,getLabel:v}}}),Xt=["aria-selected"];var Zt=Qe(Jt,[["render",function(e,l,n,i,d,p){return W(),q("li",{"aria-selected":e.selected,style:re(e.style),class:L([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:l[0]||(l[0]=(...v)=>e.hoverItem&&e.hoverItem(...v)),onClick:l[1]||(l[1]=ae((...v)=>e.selectOptionClick&&e.selectOptionClick(...v),["stop"]))},[Ee(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Y("span",null,se(e.getLabel(e.item)),1)])],46,Xt)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]),el=be({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:l,expose:n}){const i=Ot(We),d=ye("select"),{getLabel:p,getValue:v,getDisabled:m}=ke(i.props),c=N([]),O=N(),h=M(()=>e.data.length);he(()=>h.value,()=>{var r,u;(u=(r=i.popper.value).updatePopper)==null||u.call(r)});const o=M(()=>_l(i.props.estimatedOptionHeight)),t=M(()=>o.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:r=>c.value[r]}),T=(r,u)=>i.props.multiple?((x=[],f)=>{const{props:{valueKey:b}}=i;return Le(f)?x&&x.some(D=>zl(ne(D,b))===ne(f,b)):x.includes(f)})(r,v(u)):((x,f)=>{if(Le(f)){const{valueKey:b}=i.props;return ne(x,b)===ne(f,b)}return x===f})(r,v(u)),w=(r,u)=>{const{disabled:x,multiple:f,multipleLimit:b}=i.props;return x||!u&&!!f&&b>0&&r.length>=b},I=r=>e.hoveringIndex===r;n({listRef:O,isSized:o,isItemDisabled:w,isItemHovering:I,isItemSelected:T,scrollToItem:r=>{const u=O.value;u&&u.scrollToItem(r)},resetScrollTop:()=>{const r=O.value;r&&r.resetScrollTop()}});const g=r=>{const{index:u,data:x,style:f}=r,b=V(o),{itemSize:D,estimatedSize:z}=V(t),{modelValue:U}=i.props,{onSelect:ee,onHover:G}=i,Q=x[u];if(Q.type==="Group")return $(Gt,{item:Q,style:f,height:b?D:z},null);const te=T(U,Q),j=w(U,te),X=I(u);return $(Zt,de(r,{selected:te,disabled:m(Q)||j,created:!!Q.created,hovering:X,item:Q,onSelect:ee,onHover:G}),{default:S=>{var k;return((k=l.default)==null?void 0:k.call(l,S))||$("span",null,[p(Q)])}})},{onKeyboardNavigate:B,onKeyboardSelect:C}=i,E=r=>{const{code:u}=r,{tab:x,esc:f,down:b,up:D,enter:z}=Pl;switch(u!==x&&(r.preventDefault(),r.stopPropagation()),u){case x:case f:i.expanded=!1;break;case b:B("forward");break;case D:B("backward");break;case z:C()}};return()=>{var r;const{data:u,width:x}=e,{height:f,multiple:b,scrollbarAlwaysOn:D}=i.props;if(u.length===0)return $("div",{class:d.b("dropdown"),style:{width:`${x}px`}},[(r=l.empty)==null?void 0:r.call(l)]);const z=V(o)?Ut:qt;return $("div",{class:[d.b("dropdown"),d.is("multiple",b)]},[$(z,de({ref:O},V(t),{className:d.be("dropdown","list"),scrollbarAlwaysOn:D,data:u,height:f,width:x,total:u.length,onKeydown:E}),{default:U=>$(g,U,null)})])}}});function tl(e,l){const{aliasProps:n,getLabel:i,getValue:d}=ke(e),p=N(0),v=N(null),m=M(()=>e.allowCreate&&e.filterable);return{createNewOption:function(c){if(m.value)if(c&&c.length>0&&!function(O){const h=o=>d(o)===O;return e.options&&e.options.some(h)||l.createdOptions.some(h)}(c)){const O={[n.value.value]:c,[n.value.label]:c,created:!0,[n.value.disabled]:!1};l.createdOptions.length>=p.value?l.createdOptions[p.value]=O:l.createdOptions.push(O)}else if(e.multiple)l.createdOptions.length=p.value;else{const O=v.value;l.createdOptions.length=0,O&&O.created&&l.createdOptions.push(O)}},removeNewOption:function(c){if(!m.value||!c||!c.created||c.created&&e.reserveKeyword&&l.inputValue===i(c))return;const O=l.createdOptions.findIndex(h=>d(h)===d(c));~O&&(l.createdOptions.splice(O,1),p.value--)},selectNewOption:function(c){m.value&&(e.multiple&&c.created?p.value++:v.value=c)},clearAllNewOption:function(){m.value&&(l.createdOptions.length=0,p.value=0)}}}const ll={larget:51,default:42,small:33},al=(e,l)=>{const{t:n}=Bl(),i=ye("select-v2"),d=ye("input"),{form:p,formItem:v}=El(),{getLabel:m,getValue:c,getDisabled:O,getOptions:h}=ke(e),o=Je({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),t=N(-1),T=N(-1),w=N(null),I=N(null),g=N(null),B=N(null),C=N(null),E=N(null),r=N(null),u=N(!1),x=M(()=>e.disabled||(p==null?void 0:p.disabled)),f=M(()=>{const a=34*j.value.length;return a>e.height?e.height:a}),b=M(()=>!Tt(e.modelValue)),D=M(()=>{const a=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:b.value;return e.clearable&&!x.value&&o.comboBoxHovering&&a}),z=M(()=>e.remote&&e.filterable?"":Ll),U=M(()=>z.value&&i.is("reverse",u.value)),ee=M(()=>(v==null?void 0:v.validateState)||""),G=M(()=>Dl[ee.value]),Q=M(()=>e.remote?300:0),te=M(()=>{const a=j.value;return e.loading?e.loadingText||n("el.select.loading"):(!e.remote||o.inputValue!==""||a.length!==0)&&(e.filterable&&o.inputValue&&a.length>0?e.noMatchText||n("el.select.noMatch"):a.length===0?e.noDataText||n("el.select.noData"):null)}),j=M(()=>{const a=s=>{const y=o.inputValue,_=new RegExp(Kl(y),"i");return!y||_.test(m(s)||"")};return e.loading?[]:[...e.options,...o.createdOptions].reduce((s,y)=>{const _=h(y);if(De(_)){const J=_.filter(a);J.length>0&&s.push({label:m(y),isTitle:!0,type:"Group"},...J,{type:"Group"})}else(e.remote||a(y))&&s.push(y);return s},[])}),X=M(()=>{const a=new Map;return j.value.forEach((s,y)=>{a.set(ge(c(s)),{option:s,index:y})}),a}),S=M(()=>j.value.every(a=>O(a))),k=Fl(),R=M(()=>k.value==="small"?"small":"default"),K=M(()=>{const a=E.value,s=R.value||"default",y=a?Number.parseInt(getComputedStyle(a).paddingLeft):0,_=a?Number.parseInt(getComputedStyle(a).paddingRight):0;return o.selectWidth-_-y-ll[s]}),P=()=>{var a;T.value=((a=C.value)==null?void 0:a.offsetWidth)||200},F=M(()=>({width:`${o.calculatedWidth===0?11:Math.ceil(o.calculatedWidth)+11}px`})),H=M(()=>De(e.modelValue)?e.modelValue.length===0&&!o.displayInputValue:!e.filterable||o.displayInputValue.length===0),A=M(()=>{const a=e.placeholder||n("el.select.placeholder");return e.multiple||Tt(e.modelValue)?a:o.selectedLabel}),oe=M(()=>{var a,s;return(s=(a=B.value)==null?void 0:a.popperRef)==null?void 0:s.contentRef}),we=M(()=>{if(e.multiple){const a=e.modelValue.length;if(e.modelValue.length>0&&X.value.has(e.modelValue[a-1])){const{index:s}=X.value.get(e.modelValue[a-1]);return s}}else if(e.modelValue&&X.value.has(e.modelValue)){const{index:a}=X.value.get(e.modelValue);return a}return-1}),Ce=M({get:()=>u.value&&te.value!==!1,set(a){u.value=a}}),dl=M(()=>o.cachedOptions.slice(0,e.maxCollapseTags)),pl=M(()=>o.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:dt,removeNewOption:Ne,selectNewOption:pt,clearAllNewOption:Ke}=tl(e,o),{handleCompositionStart:ml,handleCompositionUpdate:fl,handleCompositionEnd:hl}=function(a){const s=N(!1);return{handleCompositionStart:()=>{s.value=!0},handleCompositionUpdate:y=>{const _=y.target.value,J=_[_.length-1]||"";s.value=!Rl(J)},handleCompositionEnd:y=>{s.value&&(s.value=!1,Ye(a)&&a(y))}}}(a=>wt(a)),mt=()=>{var a,s,y;(s=(a=I.value)==null?void 0:a.focus)==null||s.call(a),(y=B.value)==null||y.updatePopper()},Ae=()=>{if(!e.automaticDropdown)return x.value?void 0:(o.isComposing&&(o.softFocus=!0),le(()=>{var a,s;u.value=!u.value,(s=(a=I.value)==null?void 0:a.focus)==null||s.call(a)}))},ft=()=>(e.filterable&&o.inputValue!==o.selectedLabel&&(o.query=o.selectedLabel),vt(o.inputValue),le(()=>{dt(o.inputValue)})),ht=$l(ft,Q.value),vt=a=>{o.previousQuery!==a&&(o.previousQuery=a,e.filterable&&Ye(e.filterMethod)?e.filterMethod(a):e.filterable&&e.remote&&Ye(e.remoteMethod)&&e.remoteMethod(a))},Ie=a=>{l(kt,a),(s=>{Mt(e.modelValue,s)||l(_t,s)})(a),o.previousValue=String(a)},gt=(a=[],s)=>{if(!Le(s))return a.indexOf(s);const y=e.valueKey;let _=-1;return a.some((J,ie)=>ne(J,y)===ne(s,y)&&(_=ie,!0)),_},ge=a=>Le(a)?ne(a,e.valueKey):a,He=()=>le(()=>{var a,s;if(!I.value)return;const y=E.value;C.value.height=y.offsetHeight,u.value&&te.value!==!1&&((s=(a=B.value)==null?void 0:a.updatePopper)==null||s.call(a))}),bt=()=>{var a,s;if(vl(),P(),(s=(a=B.value)==null?void 0:a.updatePopper)==null||s.call(a),e.multiple)return He()},vl=()=>{const a=E.value;a&&(o.selectWidth=a.getBoundingClientRect().width)},yt=(a,s,y=!0)=>{var _,J;if(e.multiple){let ie=e.modelValue.slice();const Pe=gt(ie,c(a));Pe>-1?(ie=[...ie.slice(0,Pe),...ie.slice(Pe+1)],o.cachedOptions.splice(Pe,1),Ne(a)):(e.multipleLimit<=0||ie.length<e.multipleLimit)&&(ie=[...ie,c(a)],o.cachedOptions.push(a),pt(a),fe(s)),Ie(ie),a.created&&(o.query="",vt(""),o.inputLength=20),e.filterable&&!e.reserveKeyword&&((J=(_=I.value).focus)==null||J.call(_),ze("")),e.filterable&&(o.calculatedWidth=r.value.getBoundingClientRect().width),He(),gl()}else t.value=s,o.selectedLabel=m(a),Ie(c(a)),u.value=!1,o.isComposing=!1,o.isSilentBlur=y,pt(a),a.created||Ke(),fe(s)},St=a=>(o.softFocus=!1,le(()=>{var s,y;(y=(s=I.value)==null?void 0:s.blur)==null||y.call(s),r.value&&(o.calculatedWidth=r.value.getBoundingClientRect().width),o.isSilentBlur?o.isSilentBlur=!1:o.isComposing&&l("blur",a),o.isComposing=!1})),ze=a=>{o.displayInputValue=a,o.inputValue=a},xt=(a,s=void 0)=>{const y=j.value;if(!["forward","backward"].includes(a)||x.value||y.length<=0||S.value)return;if(!u.value)return Ae();s===void 0&&(s=o.hoveringIndex);let _=-1;a==="forward"?(_=s+1,_>=y.length&&(_=0)):a==="backward"&&(_=s-1,(_<0||_>=y.length)&&(_=y.length-1));const J=y[_];if(O(J)||J.type==="Group")return xt(a,_);fe(_),Ue(_)},fe=a=>{o.hoveringIndex=a},Vt=()=>{o.hoveringIndex=-1},gl=()=>{var a;const s=I.value;s&&((a=s.focus)==null||a.call(s))},wt=a=>{const s=a.target.value;if(ze(s),o.displayInputValue.length>0&&!u.value&&(u.value=!0),o.calculatedWidth=r.value.getBoundingClientRect().width,e.multiple&&He(),!e.remote)return ft();ht()},Ue=a=>{g.value.scrollToItem(a)},je=()=>{if(Vt(),e.multiple)if(e.modelValue.length>0){let a=!1;o.cachedOptions.length=0,o.previousValue=e.modelValue.toString();for(const s of e.modelValue){const y=ge(s);if(X.value.has(y)){const{index:_,option:J}=X.value.get(y);o.cachedOptions.push(J),a||fe(_),a=!0}}}else o.cachedOptions=[],o.previousValue=void 0;else if(b.value){o.previousValue=e.modelValue;const a=j.value,s=a.findIndex(y=>ge(c(y))===ge(e.modelValue));~s?(o.selectedLabel=m(a[s]),fe(s)):o.selectedLabel=ge(e.modelValue)}else o.selectedLabel="",o.previousValue=void 0;Ke(),P()};return he(u,a=>{var s,y;l("visible-change",a),a?(y=(s=B.value).update)==null||y.call(s):(o.displayInputValue="",o.previousQuery=null,dt(""))}),he(()=>e.modelValue,(a,s)=>{var y;a&&a.toString()===o.previousValue||je(),!Mt(a,s)&&e.validateEvent&&((y=v==null?void 0:v.validate)==null||y.call(v,"change").catch(_=>Wl(_)))},{deep:!0}),he(()=>e.options,()=>{const a=I.value;(!a||a&&document.activeElement!==a)&&je()},{deep:!0}),he(j,()=>g.value&&le(g.value.resetScrollTop)),he(()=>Ce.value,a=>{a||Vt()}),qe(()=>{je()}),Nl(C,bt),{collapseTagSize:R,currentPlaceholder:A,expanded:u,emptyText:te,popupHeight:f,debounce:Q,filteredOptions:j,iconComponent:z,iconReverse:U,inputWrapperStyle:F,popperSize:T,dropdownMenuVisible:Ce,hasModelValue:b,shouldShowPlaceholder:H,selectDisabled:x,selectSize:k,showClearBtn:D,states:o,tagMaxWidth:K,nsSelectV2:i,nsInput:d,calculatorRef:r,controlRef:w,inputRef:I,menuRef:g,popper:B,selectRef:C,selectionRef:E,popperRef:oe,validateState:ee,validateIcon:G,showTagList:dl,collapseTagList:pl,debouncedOnInputChange:ht,deleteTag:(a,s)=>{let y=e.modelValue.slice();const _=gt(y,c(s));if(_>-1&&!x.value)return y=[...e.modelValue.slice(0,_),...e.modelValue.slice(_+1)],o.cachedOptions.splice(_,1),Ie(y),l("remove-tag",c(s)),o.softFocus=!0,Ne(s),le(mt);a.stopPropagation()},getLabel:m,getValue:c,getDisabled:O,getValueKey:ge,handleBlur:St,handleClear:()=>{let a;return a=De(e.modelValue)?[]:void 0,o.softFocus=!0,e.multiple?o.cachedOptions=[]:o.selectedLabel="",u.value=!1,Ie(a),l("clear"),Ke(),le(mt)},handleClickOutside:()=>(u.value=!1,St()),handleDel:a=>{if(o.displayInputValue.length===0){a.preventDefault();const s=e.modelValue.slice();s.pop(),Ne(o.cachedOptions.pop()),Ie(s)}},handleEsc:()=>{o.displayInputValue.length>0?ze(""):u.value=!1},handleFocus:a=>{const s=o.isComposing;o.isComposing=!0,o.softFocus?o.softFocus=!1:s||l("focus",a)},handleMenuEnter:()=>(o.inputValue=o.displayInputValue,le(()=>{~we.value&&(fe(we.value),Ue(o.hoveringIndex))})),handleResize:bt,toggleMenu:Ae,scrollTo:Ue,onInput:wt,onKeyboardNavigate:xt,onKeyboardSelect:()=>{if(!u.value)return Ae();~o.hoveringIndex&&j.value[o.hoveringIndex]&&yt(j.value[o.hoveringIndex],o.hoveringIndex,!1)},onSelect:yt,onHover:fe,onUpdateInputValue:ze,handleCompositionStart:ml,handleCompositionEnd:hl,handleCompositionUpdate:fl}},ol=be({name:"ElSelectV2",components:{ElSelectMenu:el,ElTag:Al,ElTooltip:zt,ElIcon:Hl},directives:{ClickOutside:Ul,ModelText:jl},props:Qt,emits:[kt,_t,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:l}){const n=M(()=>{const{modelValue:d,multiple:p}=e,v=p?[]:void 0;return De(d)?p?d:v:p?v:d}),i=al(Je({...Pt(e),modelValue:n}),l);return ql(We,{props:Je({...Pt(e),height:i.popupHeight,modelValue:n}),popper:i.popper,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:n}}}),sl={key:0},nl=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],il=["textContent"],rl=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],cl=["textContent"];var _e=Qe(ol,[["render",function(e,l,n,i,d,p){const v=Fe("el-tag"),m=Fe("el-tooltip"),c=Fe("el-icon"),O=Fe("el-select-menu"),h=Xe("model-text"),o=Xe("click-outside");return Se((W(),q("div",{ref:"selectRef",class:L([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:l[24]||(l[24]=ae((...t)=>e.toggleMenu&&e.toggleMenu(...t),["stop"])),onMouseenter:l[25]||(l[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:l[26]||(l[26]=t=>e.states.comboBoxHovering=!1)},[$(m,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:l[23]||(l[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:Z(()=>[Y("div",{ref:"selectionRef",class:L([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(W(),q("div",sl,[Ee(e.$slots,"prefix")])):pe("v-if",!0),e.multiple?(W(),q("div",{key:1,class:L(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(W(),q(xe,{key:0},[(W(!0),q(xe,null,Ze(e.showTagList,t=>(W(),q("div",{key:e.getValueKey(e.getValue(t)),class:L(e.nsSelectV2.e("selected-item"))},[$(v,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:T=>e.deleteTag(T,t)},{default:Z(()=>[Y("span",{class:L(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},se(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),Y("div",{class:L(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(W(),me(v,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Z(()=>[e.collapseTagsTooltip?(W(),me(m,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Z(()=>[Y("span",{class:L(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})}," + "+se(e.modelValue.length-e.maxCollapseTags),7)]),content:Z(()=>[Y("div",{class:L(e.nsSelectV2.e("selection"))},[(W(!0),q(xe,null,Ze(e.collapseTagList,t=>(W(),q("div",{key:e.getValueKey(e.getValue(t)),class:L(e.nsSelectV2.e("selected-item"))},[$(v,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:T=>e.deleteTag(T,t)},{default:Z(()=>[Y("span",{class:L(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},se(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(W(),q("span",{key:1,class:L(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})}," + "+se(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):pe("v-if",!0)],2)],64)):(W(!0),q(xe,{key:1},Ze(e.states.cachedOptions,t=>(W(),q("div",{key:e.getValueKey(e.getValue(t)),class:L(e.nsSelectV2.e("selected-item"))},[$(v,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:T=>e.deleteTag(T,t)},{default:Z(()=>[Y("span",{class:L(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},se(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),Y("div",{class:L([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:re(e.inputWrapperStyle)},[Se(Y("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:L([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":l[0]||(l[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:l[1]||(l[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[2]||(l[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:l[3]||(l[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:l[4]||(l[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:l[5]||(l[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:l[6]||(l[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[l[7]||(l[7]=ce(ae(t=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[8]||(l[8]=ce(ae(t=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[9]||(l[9]=ce(ae((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),["stop","prevent"]),["enter"])),l[10]||(l[10]=ce(ae((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"])),l[11]||(l[11]=ce(ae((...t)=>e.handleDel&&e.handleDel(...t),["stop"]),["delete"]))]},null,42,nl),[[h,e.states.displayInputValue]]),e.filterable?(W(),q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(e.nsSelectV2.e("input-calculator")),textContent:se(e.states.displayInputValue)},null,10,il)):pe("v-if",!0)],6)],2)):(W(),q(xe,{key:2},[Y("div",{class:L([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Se(Y("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:L(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:l[12]||(l[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:l[13]||(l[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:l[14]||(l[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:l[15]||(l[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[16]||(l[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:l[17]||(l[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[l[18]||(l[18]=ce(ae(t=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[19]||(l[19]=ce(ae(t=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[20]||(l[20]=ce(ae((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),["stop","prevent"]),["enter"])),l[21]||(l[21]=ce(ae((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":l[22]||(l[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,rl),[[h,e.states.displayInputValue]])],2),e.filterable?(W(),q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:se(e.states.displayInputValue)},null,10,cl)):pe("v-if",!0)],64)),e.shouldShowPlaceholder?(W(),q("span",{key:3,class:L([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},se(e.currentPlaceholder),3)):pe("v-if",!0),Y("span",{class:L(e.nsSelectV2.e("suffix"))},[e.iconComponent?Se((W(),me(c,{key:0,class:L([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Z(()=>[(W(),me(Oe(e.iconComponent)))]),_:1},8,["class"])),[[Gl,!e.showClearBtn]]):pe("v-if",!0),e.showClearBtn&&e.clearIcon?(W(),me(c,{key:1,class:L([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:ae(e.handleClear,["prevent","stop"])},{default:Z(()=>[(W(),me(Oe(e.clearIcon)))]),_:1},8,["class","onClick"])):pe("v-if",!0),e.validateState&&e.validateIcon?(W(),me(c,{key:2,class:L([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Z(()=>[(W(),me(Oe(e.validateIcon)))]),_:1},8,["class"])):pe("v-if",!0)],2)],2)]),content:Z(()=>[$(O,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Z(t=>[Ee(e.$slots,"default",Ql(Yl(t)))]),empty:Z(()=>[Ee(e.$slots,"empty",{},()=>[Y("p",{class:L(e.nsSelectV2.e("empty"))},se(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[o,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);_e.install=e=>{e.component(_e.name,_e)};const it={Radio:Rt,Checkbox:Bt,CheckboxButton:Bt,Input:Jl,Autocomplete:Xl,InputNumber:Zl,Select:ea,Cascader:ta,Switch:la,Slider:aa,TimePicker:oa,DatePicker:sa,Rate:na,ColorPicker:ia,Transfer:ra,Divider:ca,TimeSelect:Wa,SelectV2:_e,TreeSelect:Fa,RadioButton:Rt,InputPassword:Ka,Editor:Ha,UploadImg:ja,UploadImgs:Ga,UploadFile:Ya},ul=(e,l={},n)=>{const i={};for(const d in l)l[d]&&(i[d]=p=>Ve(e,`${n}-${d}`,p));return i};function rt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Oa(e)}let ct,ut;({getPrefixCls:ct}=ya()),ut=ct("form"),At=be({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:Te.bool.def(!1),model:{type:Object,default:()=>({})},autoSetPlaceholder:Te.bool.def(!0),isCustom:Te.bool.def(!1),labelWidth:Te.oneOfType([String,Number]).def("auto"),vLoading:Te.bool.def(!1)},emits:["register"],setup(e,{slots:l,expose:n,emit:i}){const d=N(),p=N({}),v=N({}),m=M(()=>{const t={...e};return Object.assign(t,V(v)),t}),c=N({});qe(()=>{var t;i("register",(t=V(d))==null?void 0:t.$parent,V(d))}),n({setValues:(t={})=>{c.value=Object.assign(V(c),t)},formModel:c,setProps:(t={})=>{v.value=Object.assign(V(v),t),p.value=t},delSchema:t=>{const{schema:T}=V(m),w=Sa(T,I=>I.field===t);w>-1&&T.splice(w,1)},addSchema:(t,T)=>{const{schema:w}=V(m);T===void 0?w.push(t):w.splice(T,0,t)},setSchema:t=>{const{schema:T}=V(m);for(const w of T)for(const I of t)w.field===I.field&&xa(w,I.path,I.value)},getElFormRef:()=>V(d)}),he(()=>V(m).schema,(t=[])=>{c.value=((T,w)=>{const I={...w};return T.map(g=>{if(g.hidden)delete I[g.field];else if(g.component&&g.component!=="Divider"){const B=Reflect.has(I,g.field);I[g.field]=B?I[g.field]:g.value!==void 0?g.value:""}}),I})(t,V(c))},{immediate:!0,deep:!0});const O=()=>{const{schema:t=[],isCol:T}=V(m);return t.filter(w=>!w.hidden).map(w=>{let I;return w.component==="Divider"?$(it.Divider,{contentPosition:"left",...w.componentProps},{default:()=>[w==null?void 0:w.label]}):T?$(wa,((g={})=>({...g.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...g}))(w.colProps),rt(I=h(w))?I:{default:()=>[I]}):h(w)})},h=t=>{var g,B;const T=["SelectV2","Cascader","Transfer"],w={...ul(l,(g=t==null?void 0:t.componentProps)==null?void 0:g.slots,t.field)};(t==null?void 0:t.component)!=="SelectV2"&&(t==null?void 0:t.component)!=="Cascader"&&((B=t==null?void 0:t.componentProps)!=null&&B.options)&&(w.default=()=>o(t));const I=((C,E)=>{const r={};return C[`${E}-error`]&&(r.error=u=>Ve(C,`${E}-error`,u)),C[`${E}-label`]&&(r.label=u=>Ve(C,`${E}-label`,u)),r})(l,t.field);return t!=null&&t.labelMessage&&(I.label=()=>$(xe,null,[$("span",null,[t.label]),$(zt,{placement:"right","raw-content":!0},{content:()=>Se($("span",null,null),[[Xe("dompurify-html"),t.labelMessage]]),default:()=>$(Ca,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"relative top-1px ml-2px"},null)})])),$(Ia,de(t.formItemProps||{},{prop:t.field,label:t.label||""}),{...I,default:()=>{var r,u,x;const C=it[t.component],{autoSetPlaceholder:E}=V(m);return l[t.field]?Ve(l,t.field,c.value):$(C,de({modelValue:c.value[t.field],"onUpdate:modelValue":f=>c.value[t.field]=f},E&&(f=>{var D,z;const{t:b}=ua();return["Input","Autocomplete","InputNumber","InputPassword"].includes(f==null?void 0:f.component)?{placeholder:b("common.inputText")+f.label}:["Select","SelectV2","TimePicker","DatePicker","TimeSelect","TimeSelect"].includes(f==null?void 0:f.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes(((D=f==null?void 0:f.componentProps)==null?void 0:D.type)||((z=f==null?void 0:f.componentProps)==null?void 0:z.isRange))?{startPlaceholder:b("common.startTimeText"),endPlaceholder:b("common.endTimeText"),rangeSeparator:"-"}:{placeholder:b("common.selectText")+f.label}:{}})(t),(f=>{const b=["ColorPicker"].includes(f.component)?{...f.componentProps}:{clearable:!0,...f.componentProps};return b==null||delete b.slots,b})(t),{style:(r=t.componentProps)==null?void 0:r.style},T.includes(t==null?void 0:t.component)&&((u=t==null?void 0:t.componentProps)!=null&&u.options)?{options:((x=t==null?void 0:t.componentProps)==null?void 0:x.options)||[]}:{}),{...w})}})},o=t=>{switch(t.component){case"Select":case"SelectV2":const{renderSelectOptions:T}=(g=>{const B=(C,E)=>{var D,z,U,ee;const r=(z=(D=C==null?void 0:C.componentProps)==null?void 0:D.optionsAlias)==null?void 0:z.labelField,u=(ee=(U=C==null?void 0:C.componentProps)==null?void 0:U.optionsAlias)==null?void 0:ee.valueField,{label:x,value:f,...b}=E;return $(pa,de(b,{label:r?E[r]:x,value:u?E[u]:f}),{default:()=>{var G;return(G=C==null?void 0:C.componentProps)!=null&&G.optionsSlot?Ve(g,`${C.field}-option`,{item:E}):void 0}})};return{renderSelectOptions:C=>{var r,u,x,f;const E=(u=(r=C==null?void 0:C.componentProps)==null?void 0:r.optionsAlias)==null?void 0:u.labelField;return(f=(x=C==null?void 0:C.componentProps)==null?void 0:x.options)==null?void 0:f.map(b=>{var D;return(D=b==null?void 0:b.options)!=null&&D.length?$(da,{label:b[E||"label"]},{default:()=>{var z;return(z=b==null?void 0:b.options)==null?void 0:z.map(U=>B(C,U))}}):B(C,b)})}}})(l);return T(t);case"Radio":case"RadioButton":const{renderRadioOptions:w}={renderRadioOptions:g=>{var r,u,x,f,b,D;const B=(u=(r=g==null?void 0:g.componentProps)==null?void 0:r.optionsAlias)==null?void 0:u.labelField,C=(f=(x=g==null?void 0:g.componentProps)==null?void 0:x.optionsAlias)==null?void 0:f.valueField,E=g.component==="Radio"?ma:fa;return(D=(b=g==null?void 0:g.componentProps)==null?void 0:b.options)==null?void 0:D.map(z=>{const{...U}=z;return $(E,de(U,{label:z[C||"value"]}),{default:()=>[z[B||"label"]]})})}};return w(t);case"Checkbox":case"CheckboxButton":const{renderCheckboxOptions:I}={renderCheckboxOptions:g=>{var r,u,x,f,b,D;const B=(u=(r=g==null?void 0:g.componentProps)==null?void 0:r.optionsAlias)==null?void 0:u.labelField,C=(f=(x=g==null?void 0:g.componentProps)==null?void 0:x.optionsAlias)==null?void 0:f.valueField,E=g.component==="Checkbox"?ha:va;return(D=(b=g==null?void 0:g.componentProps)==null?void 0:b.options)==null?void 0:D.map(z=>{const{...U}=z;return $(E,de(U,{label:z[C||"value"]}),{default:()=>[z[B||"label"]]})})}};return I(t)}};return()=>Se($(ba,de({ref:d},(()=>{const t=["schema","isCol","autoSetPlaceholder","isCustom","model"],T={...V(m)};for(const w in T)t.indexOf(w)!==-1&&delete T[w];return T})(),{model:e.isCustom?e.model:c,class:ut}),{default:()=>{const{isCustom:t}=V(m);return t?Ve(l,"default"):(()=>{let T;const{isCol:w}=V(m);return w?$(Va,{gutter:20},rt(T=O())?T:{default:()=>[T]}):O()})()}}),[[ga,e.vLoading]])}})});export{At as _,Za as __tla};
