import{d as f,r as u,a1 as w,dX as b,aS as g,aq as N,o as P,v,w as n,f as a,a as l,h as y,t as C,G as V,H as x,__tla as D}from"./index-d2088aec.js";import{_ as L,__tla as R}from"./DictTag.vue_vue_type_script_lang-754cee6f.js";import{D as T,__tla as U}from"./dict-999fbee6.js";import{f as q,__tla as F}from"./formatter-38679f6e.js";let p,G=Promise.all([(()=>{try{return D}catch{}})(),(()=>{try{return R}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return F}catch{}})()]).then(async()=>{p=f({name:"ContractProductList",__name:"ContractProductList",props:{modelValue:{default:()=>[]}},setup(_){const i=_,c=u([]),d=w(()=>e=>{const t=Number(e.price)/100*Number(e.count)*(1-Number(e.discountPercent)/100);return e.totalPrice=isNaN(t)?0:b(t),isNaN(t)?0:t.toFixed(2)}),s=u(!1);return g(()=>i.modelValue,e=>{e&&e.length!==0&&!s.value&&(c.value=[...i.modelValue.map(t=>(t.totalPrice=N(t.totalPrice),t))],s.value=!0)},{immediate:!0,deep:!0}),(e,t)=>{const r=V,m=L,h=x;return P(),v(h,{data:l(c),"show-overflow-tooltip":!0,stripe:!0},{default:n(()=>[a(r,{align:"center",label:"\u4EA7\u54C1\u540D\u79F0",prop:"name",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u7C7B\u578B",prop:"categoryName",width:"160"}),a(r,{align:"center",label:"\u4EA7\u54C1\u5355\u4F4D",prop:"unit"},{default:n(o=>[a(m,{type:l(T).CRM_PRODUCT_UNIT,value:o.row.unit},null,8,["type","value"])]),_:1}),a(r,{align:"center",label:"\u4EA7\u54C1\u7F16\u7801",prop:"no"}),a(r,{formatter:l(q),align:"center",label:"\u4EF7\u683C\uFF08\u5143\uFF09",prop:"price",width:"100"},null,8,["formatter"]),a(r,{align:"center",label:"\u6570\u91CF",prop:"count",width:"200"}),a(r,{align:"center",label:"\u6298\u6263(%)",prop:"discountPercent",width:"200"}),a(r,{align:"center",label:"\u5408\u8BA1",prop:"totalPrice",width:"100"},{default:n(({row:o})=>[y(C(l(d)(o)),1)]),_:1})]),_:1},8,["data"])}}})});export{p as _,G as __tla};
