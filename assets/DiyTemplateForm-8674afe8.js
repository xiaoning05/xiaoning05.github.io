import{d as q,k as I,r as _,n as S,o as h,q as w,e as s,b as o,a,h as V,w as M,j as X,L as A,y as B,C as E,B as G,v as L,_ as N,__tla as R}from"./index-b079f499.js";import{_ as Y,__tla as Z}from"./Dialog-07bcd661.js";import{_ as z,__tla as H}from"./UploadImgs-2af287de.js";import{a as J,c as K,b as O,__tla as Q}from"./template-b3bdac6a.js";import{u as W,__tla as $}from"./useMessage-66b9cf03.js";import{__tla as ee}from"./UploadImgs.vue_vue_type_style_index_0_scoped_9d666400_lang-62ab8f5e.js";import{__tla as ae}from"./el-image-viewer-3e8b0085.js";import{__tla as le}from"./useUpload-ca092158.js";import{__tla as te}from"./index-4c44a910.js";let U,re=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ee}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return te}catch{}})()]).then(async()=>{U=N(q({name:"DiyTemplateForm",__name:"DiyTemplateForm",emits:["success"],setup(se,{expose:b,emit:k}){const{t:c}=I(),n=W(),u=_(!1),p=_(""),m=_(!1),v=_(""),l=_({id:void 0,name:void 0,remark:void 0,previewPicUrls:[]}),P=S({name:[{required:!0,message:"\u6A21\u677F\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),i=_();b({open:async(t,e)=>{if(u.value=!0,p.value=c("action."+t),v.value=t,C(),e){m.value=!0;try{l.value=await J(e)}finally{m.value=!1}}}});const g=k,x=async()=>{if(i&&await i.value.validate()){m.value=!0;try{const t=l.value;v.value==="create"?(await K(t),n.success(c("common.createSuccess"))):(await O(t),n.success(c("common.updateSuccess"))),u.value=!1,g("success")}finally{m.value=!1}}},C=()=>{var t;l.value={id:void 0,name:void 0,remark:void 0,previewPicUrls:[]},(t=i.value)==null||t.resetFields()};return(t,e)=>{const f=A,d=B,D=z,F=E,y=G,T=Y,j=L;return h(),w(T,{modelValue:a(u),"onUpdate:modelValue":e[4]||(e[4]=r=>X(u)?u.value=r:null),title:a(p)},{footer:s(()=>[o(y,{disabled:a(m),type:"primary",onClick:x},{default:s(()=>[V("\u786E \u5B9A")]),_:1},8,["disabled"]),o(y,{onClick:e[3]||(e[3]=r=>u.value=!1)},{default:s(()=>[V("\u53D6 \u6D88")]),_:1})]),default:s(()=>[M((h(),w(F,{ref_key:"formRef",ref:i,model:a(l),rules:a(P),"label-width":"100px"},{default:s(()=>[o(d,{label:"\u6A21\u677F\u540D\u79F0",prop:"name"},{default:s(()=>[o(f,{modelValue:a(l).name,"onUpdate:modelValue":e[0]||(e[0]=r=>a(l).name=r),placeholder:"\u8BF7\u8F93\u5165\u6A21\u677F\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(d,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[o(f,{modelValue:a(l).remark,"onUpdate:modelValue":e[1]||(e[1]=r=>a(l).remark=r),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea"},null,8,["modelValue"])]),_:1}),o(d,{label:"\u9884\u89C8\u56FE",prop:"previewPicUrls"},{default:s(()=>[o(D,{modelValue:a(l).previewPicUrls,"onUpdate:modelValue":e[2]||(e[2]=r=>a(l).previewPicUrls=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[j,a(m)]])]),_:1},8,["modelValue","title"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/mall/promotion/diy/template/DiyTemplateForm.vue"]])});export{re as __tla,U as default};
