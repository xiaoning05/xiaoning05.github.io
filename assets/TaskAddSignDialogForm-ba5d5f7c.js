import{d as A,r as i,o as _,q as c,e as t,b as u,a as l,h as p,w as B,c as D,F as T,g as j,j as S,s as E,x as G,y as M,L as N,C as P,B as R,v as X,_ as Y,__tla as Z}from"./index-b079f499.js";import{_ as z,__tla as H}from"./Dialog-07bcd661.js";import{t as J,__tla as K}from"./index-ec9d7ed0.js";import{g as O,__tla as Q}from"./index-41e17afa.js";import{u as W,__tla as $}from"./useMessage-66b9cf03.js";let g,ee=Promise.all([(()=>{try{return Z}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return $}catch{}})()]).then(async()=>{g=Y(A({name:"BpmTaskUpdateAssigneeForm",__name:"TaskAddSignDialogForm",emits:["success"],setup(ae,{expose:b,emit:h}){const k=W(),d=i(!1),o=i(!1),s=i({id:"",userIdList:[],type:""}),I=i({userIdList:[{required:!0,message:"\u52A0\u7B7E\u5904\u7406\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],reason:[{required:!0,message:"\u52A0\u7B7E\u7406\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]}),n=i(),f=i([]);b({open:async r=>{d.value=!0,w(),s.value.id=r,f.value=await O()}});const V=h,y=async r=>{if(n&&await n.value.validate()){o.value=!0,s.value.type=r;try{await J(s.value),k.success("\u52A0\u7B7E\u6210\u529F"),d.value=!1,V("success")}finally{o.value=!1}}},w=()=>{var r;s.value={id:"",userIdList:[],type:""},(r=n.value)==null||r.resetFields()};return(r,e)=>{const L=E,x=G,v=M,C=N,F=P,m=R,U=z,q=X;return _(),c(U,{modelValue:l(d),"onUpdate:modelValue":e[5]||(e[5]=a=>S(d)?d.value=a:null),title:"\u52A0\u7B7E",width:"500"},{footer:t(()=>[u(m,{disabled:l(o),type:"primary",onClick:e[2]||(e[2]=a=>y("before"))},{default:t(()=>[p(" \u5411\u524D\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{disabled:l(o),type:"primary",onClick:e[3]||(e[3]=a=>y("after"))},{default:t(()=>[p(" \u5411\u540E\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{onClick:e[4]||(e[4]=a=>d.value=!1)},{default:t(()=>[p("\u53D6 \u6D88")]),_:1})]),default:t(()=>[B((_(),c(F,{ref_key:"formRef",ref:n,model:l(s),rules:l(I),"label-width":"110px"},{default:t(()=>[u(v,{label:"\u52A0\u7B7E\u5904\u7406\u4EBA",prop:"userIdList"},{default:t(()=>[u(x,{modelValue:l(s).userIdList,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).userIdList=a),multiple:"",clearable:"",style:{width:"100%"}},{default:t(()=>[(_(!0),D(T,null,j(l(f),a=>(_(),c(L,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(v,{label:"\u52A0\u7B7E\u7406\u7531",prop:"reason"},{default:t(()=>[u(C,{modelValue:l(s).reason,"onUpdate:modelValue":e[1]||(e[1]=a=>l(s).reason=a),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u52A0\u7B7E\u7406\u7531"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,l(o)]])]),_:1},8,["modelValue"])}}}),[["__file","E:/newCode/GYZX-UI-ADMIN/src/views/bpm/processInstance/detail/TaskAddSignDialogForm.vue"]])});export{ee as __tla,g as default};
