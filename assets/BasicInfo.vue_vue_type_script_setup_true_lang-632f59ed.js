import{_ as F,__tla as U}from"./XButton-764a1d39.js";import{_ as j,__tla as C}from"./Form-980450b6.js";import{d as N,aj as R,n as d,r as A,p as E,o as M,c as P,b as r,e as o,h as g,t as b,a,f as S,F as W,k as $,ae as z,af as D,__tla as G}from"./index-34f06ebd.js";import{u as H,g as J,__tla as K}from"./profile-0508bad6.js";import{u as L,__tla as O}from"./useMessage-7a5ab7ef.js";let y,Q=Promise.all([(()=>{try{return U}catch{}})(),(()=>{try{return C}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return O}catch{}})()]).then(async()=>{let u;u={style:{"text-align":"center"}},y=N({name:"BasicInfo",__name:"BasicInfo",setup(T){const{t:e}=$(),h=L(),k=R(),x=d({nickname:[{required:!0,message:e("profile.rules.nickname"),trigger:"blur"}],email:[{required:!0,message:e("profile.rules.mail"),trigger:"blur"},{type:"email",message:e("profile.rules.truemail"),trigger:["blur","change"]}],mobile:[{required:!0,message:e("profile.rules.phone"),trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:e("profile.rules.truephone"),trigger:"blur"}]}),I=d([{field:"nickname",label:e("profile.user.nickname"),component:"Input"},{field:"mobile",label:e("profile.user.mobile"),component:"Input"},{field:"email",label:e("profile.user.email"),component:"Input"},{field:"sex",label:e("profile.user.sex"),component:"InputNumber",value:0}]),l=A(),i=async()=>{var t;const m=await J();return(t=a(l))==null||t.setValues(m),m};return E(async()=>{await i()}),(m,t)=>{const c=z,w=D,V=j,p=F;return M(),P(W,null,[r(V,{ref_key:"formRef",ref:l,labelWidth:200,rules:a(x),schema:a(I)},{sex:o(s=>[r(w,{modelValue:s.sex,"onUpdate:modelValue":n=>s.sex=n},{default:o(()=>[r(c,{label:1},{default:o(()=>[g(b(a(e)("profile.user.man")),1)]),_:1}),r(c,{label:2},{default:o(()=>[g(b(a(e)("profile.user.woman")),1)]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["rules","schema"]),S("div",u,[r(p,{title:a(e)("common.save"),type:"primary",onClick:t[0]||(t[0]=s=>(()=>{var _;const n=(_=a(l))==null?void 0:_.getElFormRef();n&&n.validate(async v=>{var f;if(v){const q=(f=a(l))==null?void 0:f.formModel;await H(q),h.success(e("common.updateSuccess"));const B=await i();k.setUserNicknameAction(B.nickname)}})})())},null,8,["title"]),r(p,{title:a(e)("common.reset"),type:"danger",onClick:t[1]||(t[1]=s=>i())},null,8,["title"])])],64)}}})});export{y as _,Q as __tla};
