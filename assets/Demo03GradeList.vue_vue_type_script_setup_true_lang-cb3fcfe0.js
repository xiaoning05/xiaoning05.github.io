import{d as D,i as F,r as c,e as H,aS as K,K as A,o as i,c as L,f as a,w as n,x as p,v as d,h,a as e,F as R,_ as q,C as B,G as E,H as J,I as M,__tla as O}from"./index-d5b00dc9.js";import{_ as Q,__tla as V}from"./ContentWrap.vue_vue_type_script_setup_true_lang-29ba9b6b.js";import{_ as W,__tla as X}from"./index.vue_vue_type_script_setup_true_lang-8478be74.js";import{d as Y,__tla as Z}from"./formatTime-9063410f.js";import{k as $,l as aa,__tla as ta}from"./index-323e6bb0.js";import{_ as ea,__tla as ra}from"./Demo03GradeForm.vue_vue_type_script_setup_true_lang-585afa5f.js";import{u as la,__tla as sa}from"./useMessage-2288a5f2.js";let I,na=Promise.all([(()=>{try{return O}catch{}})(),(()=>{try{return V}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return sa}catch{}})()]).then(async()=>{I=D({__name:"Demo03GradeList",props:{studentId:{}},setup(S){const{t:b}=F(),u=la(),m=S,f=c(!1),w=c([]),k=c(0),r=H({pageNo:1,pageSize:10,studentId:void 0});K(()=>m.studentId,l=>{r.studentId=l,N()},{immediate:!1});const _=async()=>{f.value=!0;try{const l=await $(r);w.value=l.list,k.value=l.total}finally{f.value=!1}},N=()=>{r.pageNo=1,_()},v=c(),C=(l,t)=>{m.studentId?v.value.open(l,t,m.studentId):u.error("\u8BF7\u9009\u62E9\u4E00\u4E2A\u5B66\u751F")};return(l,t)=>{const x=q,y=B,o=E,z=J,P=W,G=Q,g=A("hasPermi"),T=M;return i(),L(R,null,[a(G,null,{default:n(()=>[p((i(),d(y,{type:"primary",plain:"",onClick:t[0]||(t[0]=s=>C("create"))},{default:n(()=>[a(x,{icon:"ep:plus",class:"mr-5px"}),h(" \u65B0\u589E ")]),_:1})),[[g,["infra:demo03-student:create"]]]),p((i(),d(z,{data:e(w),stripe:!0,"show-overflow-tooltip":!0},{default:n(()=>[a(o,{label:"\u7F16\u53F7",align:"center",prop:"id"}),a(o,{label:"\u540D\u5B57",align:"center",prop:"name"}),a(o,{label:"\u73ED\u4E3B\u4EFB",align:"center",prop:"teacher"}),a(o,{label:"\u521B\u5EFA\u65F6\u95F4",align:"center",prop:"createTime",formatter:e(Y),width:"180px"},null,8,["formatter"]),a(o,{label:"\u64CD\u4F5C",align:"center"},{default:n(s=>[p((i(),d(y,{link:"",type:"primary",onClick:U=>C("update",s.row.id)},{default:n(()=>[h(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[g,["infra:demo03-student:update"]]]),p((i(),d(y,{link:"",type:"danger",onClick:U=>(async j=>{try{await u.delConfirm(),await aa(j),u.success(b("common.delSuccess")),await _()}catch{}})(s.row.id)},{default:n(()=>[h(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[g,["infra:demo03-student:delete"]]])]),_:1})]),_:1},8,["data"])),[[T,e(f)]]),a(P,{total:e(k),page:e(r).pageNo,"onUpdate:page":t[1]||(t[1]=s=>e(r).pageNo=s),limit:e(r).pageSize,"onUpdate:limit":t[2]||(t[2]=s=>e(r).pageSize=s),onPagination:_},null,8,["total","page","limit"])]),_:1}),a(ea,{ref_key:"formRef",ref:v,onSuccess:_},null,512)],64)}}})});export{I as _,na as __tla};
