import{d as L,r as y,u as Q,J as V,p as q,K as A,o as m,c as G,f as a,w as _,a as t,x as N,v as f,h as s,a4 as p,F as X,C as Y,m as Z,n as tt,j as at,__tla as rt}from"./index-d2088aec.js";import{g as _t,_ as lt,__tla as et}from"./index-f50a4e7c.js";import{u as it,__tla as ot}from"./tagsView-b65f82a8.js";import{c as ct,t as mt,l as T,r as st,p as ut,__tla as nt}from"./index-8fa07f93.js";import{_ as yt,__tla as ft}from"./CustomerForm.vue_vue_type_script_setup_true_lang-b458a578.js";import{_ as pt,__tla as ht}from"./CustomerDetailsInfo.vue_vue_type_script_setup_true_lang-3d30b288.js";import{_ as dt,__tla as bt}from"./CustomerDetailsHeader.vue_vue_type_script_setup_true_lang-9fcee138.js";import{_ as zt,__tla as vt}from"./ContactList.vue_vue_type_script_setup_true_lang-6da9cc67.js";import{_ as wt,__tla as Ct}from"./ContractList.vue_vue_type_script_setup_true_lang-12b92bb8.js";import{_ as Rt,__tla as kt}from"./BusinessList.vue_vue_type_script_setup_true_lang-c1d6c727.js";import{_ as Mt,__tla as Ot}from"./ReceivableList.vue_vue_type_script_setup_true_lang-79cc0e94.js";import{_ as Ut,__tla as St}from"./ReceivablePlanList.vue_vue_type_script_setup_true_lang-4fb8bbc5.js";import{_ as Tt,__tla as Et}from"./PermissionList.vue_vue_type_script_setup_true_lang-1575a58f.js";import{_ as $t,__tla as gt}from"./TransferForm.vue_vue_type_script_setup_true_lang-96669f93.js";import{_ as xt,__tla as It}from"./index.vue_vue_type_script_setup_true_lang-c21380c7.js";import{B as u,__tla as Pt}from"./index-05c907cf.js";import{u as Dt,__tla as Ft}from"./useMessage-c5990e2c.js";import{__tla as Wt}from"./el-timeline-item-bf602b47.js";import{__tla as jt}from"./formatTime-c7e0c543.js";import{__tla as Bt}from"./dict-999fbee6.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as Ht}from"./Dialog.vue_vue_type_style_index_0_lang-4d2024bd.js";import{__tla as Jt}from"./el-tree-select-284f702e.js";import{__tla as Kt}from"./index-397dc4f9.js";import"./tree-82bb3b99.js";import{__tla as Lt}from"./index-456c5cde.js";import{__tla as Qt}from"./ContentWrap.vue_vue_type_script_setup_true_lang-3fd6aef1.js";import{__tla as Vt}from"./index-82efac34.js";import{__tla as qt}from"./el-collapse-item-df5fb7ce.js";import{__tla as At}from"./el-descriptions-item-6a175b15.js";import{__tla as Gt}from"./DictTag.vue_vue_type_script_lang-754cee6f.js";import"./color-f5b6e279.js";import{__tla as Nt}from"./index.vue_vue_type_script_setup_true_lang-6baf9e60.js";import{__tla as Xt}from"./index-9309eb20.js";import{__tla as Yt}from"./el-link-3f427b16.js";import{__tla as Zt}from"./index-3b1c9cde.js";import{__tla as ta}from"./ContactForm.vue_vue_type_script_setup_true_lang-f40a203b.js";import{__tla as aa}from"./index-2a8c377b.js";import{__tla as ra}from"./ContractForm.vue_vue_type_script_setup_true_lang-086218eb.js";import{__tla as _a}from"./index-63130e49.js";import{__tla as la}from"./ProductList.vue_vue_type_script_setup_true_lang-60623b80.js";import{__tla as ea}from"./index-bbc28546.js";import{__tla as ia}from"./formatter-38679f6e.js";import{__tla as oa}from"./Table.vue_vue_type_style_index_0_scoped_1ee0f9ba_lang-2efd46fd.js";import{__tla as ca}from"./tsxHelper-9f8b23eb.js";import{__tla as ma}from"./BusinessForm.vue_vue_type_script_setup_true_lang-b403798a.js";import{__tla as sa}from"./index-2e545b10.js";import{__tla as ua}from"./BusinessListModal.vue_vue_type_script_setup_true_lang-0f9a8b07.js";import{__tla as na}from"./index-23ca72e5.js";import{__tla as ya}from"./ReceivableForm.vue_vue_type_script_setup_true_lang-35f640c4.js";import{__tla as fa}from"./index-b495e813.js";import{__tla as pa}from"./ReceivablePlanForm.vue_vue_type_script_setup_true_lang-74b6ac32.js";import{__tla as ha}from"./PermissionForm.vue_vue_type_script_setup_true_lang-2f5a6ef5.js";import{__tla as da}from"./FollowUpRecordForm.vue_vue_type_script_setup_true_lang-8c11d64b.js";import{__tla as ba}from"./UploadFile-07ceee60.js";import{__tla as za}from"./UploadFile.vue_vue_type_style_index_0_scoped_3311e906_lang-1f0a110b.js";import{__tla as va}from"./useUpload-53891715.js";import{__tla as wa}from"./index-a70e1e2c.js";import{__tla as Ca}from"./UploadImgs-2e1224f9.js";import{__tla as Ra}from"./UploadImgs.vue_vue_type_style_index_0_scoped_78c552d7_lang-c3ac64a1.js";import{__tla as ka}from"./el-image-viewer-6188d22b.js";import{__tla as Ma}from"./BusinessList.vue_vue_type_script_setup_true_lang-eeb83ca3.js";import{__tla as Oa}from"./BusinessTableSelect.vue_vue_type_script_setup_true_lang-a239bbfb.js";import{__tla as Ua}from"./ContactList.vue_vue_type_script_setup_true_lang-a2b63b56.js";import{__tla as Sa}from"./ContactTableSelect.vue_vue_type_script_setup_true_lang-34ddb4a3.js";let E,Ta=Promise.all([(()=>{try{return rt}catch{}})(),(()=>{try{return et}catch{}})(),(()=>{try{return ot}catch{}})(),(()=>{try{return nt}catch{}})(),(()=>{try{return ft}catch{}})(),(()=>{try{return ht}catch{}})(),(()=>{try{return bt}catch{}})(),(()=>{try{return vt}catch{}})(),(()=>{try{return Ct}catch{}})(),(()=>{try{return kt}catch{}})(),(()=>{try{return Ot}catch{}})(),(()=>{try{return St}catch{}})(),(()=>{try{return Et}catch{}})(),(()=>{try{return gt}catch{}})(),(()=>{try{return It}catch{}})(),(()=>{try{return Pt}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Wt}catch{}})(),(()=>{try{return jt}catch{}})(),(()=>{try{return Bt}catch{}})(),(()=>{try{return Ht}catch{}})(),(()=>{try{return Jt}catch{}})(),(()=>{try{return Kt}catch{}})(),(()=>{try{return Lt}catch{}})(),(()=>{try{return Qt}catch{}})(),(()=>{try{return Vt}catch{}})(),(()=>{try{return qt}catch{}})(),(()=>{try{return At}catch{}})(),(()=>{try{return Gt}catch{}})(),(()=>{try{return Nt}catch{}})(),(()=>{try{return Xt}catch{}})(),(()=>{try{return Yt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ra}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return ma}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return ua}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return za}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return Ra}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return Oa}catch{}})(),(()=>{try{return Ua}catch{}})(),(()=>{try{return Sa}catch{}})()]).then(async()=>{E=L({name:"CrmCustomerDetail",__name:"index",setup(Ea){const l=y(0),z=y(!0),e=Dt(),{delView:$}=it(),{currentRoute:g}=Q(),o=y(),r=y({}),h=async()=>{z.value=!0;try{r.value=await ct(l.value),await j()}finally{z.value=!1}},v=y(),x=()=>{var c;(c=v.value)==null||c.open("update",l.value)},w=y(),I=()=>{var c;(c=w.value)==null||c.open("\u5BA2\u6237\u8F6C\u79FB",l.value,mt)},P=async()=>{await e.confirm(`\u786E\u5B9A\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!0),e.success(`\u9501\u5B9A\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},D=async()=>{await e.confirm(`\u786E\u5B9A\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await T(t(l.value),!1),e.success(`\u89E3\u9501\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},F=async()=>{await e.confirm(`\u786E\u5B9A\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011 \u5417\uFF1F`),await st([t(l.value)]),e.success(`\u9886\u53D6\u5BA2\u6237\u3010${r.value.name}\u3011\u6210\u529F`),await h()},W=async()=>{await e.confirm(`\u786E\u5B9A\u5C06\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u5417\uFF1F`),await ut(t(l.value)),e.success(`\u5BA2\u6237\u3010${r.value.name}\u3011\u653E\u5165\u516C\u6D77\u6210\u529F`),b()},C=y([]),j=async()=>{if(!l.value)return;const c=await _t({bizType:u.CRM_CUSTOMER,bizId:l.value});C.value=c.list},b=()=>{$(t(g))},{params:R}=V();return q(()=>{if(!R.id)return e.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u5BA2\u6237\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void b();l.value=R.id,h()}),(c,$a)=>{const n=Y,i=Z,B=lt,H=tt,J=at,K=A("hasPermi");return m(),G(X,null,[a(dt,{customer:t(r),loading:t(z)},{default:_(()=>{var d,k,M,O,U,S;return[(d=t(o))!=null&&d.validateWrite?N((m(),f(n,{key:0,type:"primary",onClick:x},{default:_(()=>[s(" \u7F16\u8F91 ")]),_:1})),[[K,["crm:customer:update"]]]):p("",!0),(k=t(o))!=null&&k.validateOwnerUser?(m(),f(n,{key:1,type:"primary",onClick:I},{default:_(()=>[s(" \u8F6C\u79FB ")]),_:1})):p("",!0),(M=t(o))!=null&&M.validateWrite?(m(),f(n,{key:2},{default:_(()=>[s("\u66F4\u6539\u6210\u4EA4\u72B6\u6001")]),_:1})):p("",!0),t(r).lockStatus&&((O=t(o))!=null&&O.validateOwnerUser)?(m(),f(n,{key:3,onClick:D},{default:_(()=>[s(" \u89E3\u9501 ")]),_:1})):p("",!0),!t(r).lockStatus&&((U=t(o))!=null&&U.validateOwnerUser)?(m(),f(n,{key:4,onClick:P},{default:_(()=>[s(" \u9501\u5B9A ")]),_:1})):p("",!0),t(r).ownerUserId?p("",!0):(m(),f(n,{key:5,type:"primary",onClick:F},{default:_(()=>[s(" \u9886\u53D6\u5BA2\u6237 ")]),_:1})),t(r).ownerUserId&&((S=t(o))!=null&&S.validateOwnerUser)?(m(),f(n,{key:6,onClick:W},{default:_(()=>[s(" \u5BA2\u6237\u653E\u5165\u516C\u6D77 ")]),_:1})):p("",!0)]}),_:1},8,["customer","loading"]),a(J,null,{default:_(()=>[a(H,null,{default:_(()=>[a(i,{label:"\u8DDF\u8FDB\u8BB0\u5F55"},{default:_(()=>[a(xt,{"biz-id":t(l),"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u57FA\u672C\u4FE1\u606F"},{default:_(()=>[a(pt,{customer:t(r)},null,8,["customer"])]),_:1}),a(i,{label:"\u8054\u7CFB\u4EBA",lazy:""},{default:_(()=>[a(zt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56E2\u961F\u6210\u5458"},{default:_(()=>{var d;return[a(Tt,{ref_key:"permissionListRef",ref:o,"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER,"show-action":!((d=t(o))!=null&&d.isPool)||!1,onQuitTeam:b},null,8,["biz-id","biz-type","show-action"])]}),_:1}),a(i,{label:"\u5546\u673A",lazy:""},{default:_(()=>[a(Rt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u5408\u540C",lazy:""},{default:_(()=>[a(wt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u56DE\u6B3E",lazy:""},{default:_(()=>[a(Ut,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"]),a(Mt,{"biz-id":t(r).id,"biz-type":t(u).CRM_CUSTOMER},null,8,["biz-id","biz-type"])]),_:1}),a(i,{label:"\u64CD\u4F5C\u65E5\u5FD7"},{default:_(()=>[a(B,{"log-list":t(C)},null,8,["log-list"])]),_:1}),a(i,{label:"\u56DE\u8BBF",lazy:""},{default:_(()=>[s("TODO \u5F85\u5F00\u53D1")]),_:1})]),_:1})]),_:1}),a(yt,{ref_key:"formRef",ref:v,onSuccess:h},null,512),a($t,{ref_key:"crmTransferFormRef",ref:w,onSuccess:b},null,512)],64)}}})});export{Ta as __tla,E as default};
