import{d as x,r as n,e as P,u as U,aS as D,o as y,c as L,f as a,w as o,h as g,x as M,v as B,a as t,t as j,F as A,_ as F,C as G,k as O,G as V,H,I as Y,__tla as q}from"./index-d2088aec.js";import{_ as J,__tla as K}from"./ContentWrap.vue_vue_type_script_setup_true_lang-3fd6aef1.js";import{_ as Q,__tla as W}from"./index.vue_vue_type_script_setup_true_lang-6baf9e60.js";import{_ as X,__tla as Z}from"./DictTag.vue_vue_type_script_lang-754cee6f.js";import{E as $,__tla as aa}from"./el-link-3f427b16.js";import{a as ta,__tla as ea}from"./index-b495e813.js";import{_ as ra,__tla as la}from"./ReceivablePlanForm.vue_vue_type_script_setup_true_lang-74b6ac32.js";import{B as oa,__tla as _a}from"./index-05c907cf.js";import{d as ia,__tla as sa}from"./formatTime-c7e0c543.js";import{f as na,__tla as pa}from"./formatter-38679f6e.js";import{D as ca,__tla as ma}from"./dict-999fbee6.js";let b,ua=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ma}catch{}})()]).then(async()=>{b=x({name:"CrmReceivablePlanList",__name:"ReceivablePlanList",props:{bizType:{},bizId:{}},setup(h){const _=h,p=n(!0),m=n(0),u=n([]),e=P({pageNo:1,pageSize:10,customerId:void 0}),c=async()=>{p.value=!0;try{e.customerId=void 0;let i={list:[],total:0};if(_.bizType!==oa.CRM_CUSTOMER)return;e.customerId=_.bizId,i=await ta(e),u.value=i.list,m.value=i.total}finally{p.value=!1}},f=n(),v=()=>{f.value.open("create")},{push:z}=U();return D(()=>[_.bizId,_.bizType],()=>{e.pageNo=1,c()},{immediate:!0,deep:!0}),(i,s)=>{const C=F,R=G,w=O,N=$,r=V,I=X,T=H,k=Q,E=J,S=Y;return y(),L(A,null,[a(w,{justify:"end"},{default:o(()=>[a(R,{onClick:v},{default:o(()=>[a(C,{class:"mr-5px",icon:"icon-park:income"}),g(" \u521B\u5EFA\u56DE\u6B3E\u8BA1\u5212 ")]),_:1})]),_:1}),a(E,{class:"mt-10px"},{default:o(()=>[M((y(),B(T,{data:t(u),stripe:!0,"show-overflow-tooltip":!0},{default:o(()=>[a(r,{label:"\u671F\u6570",fixed:"left",align:"center",prop:"no"},{default:o(l=>[a(N,{type:"primary",underline:!1,onClick:fa=>{return d=l.row.id,void z({name:"CrmReceivablePlanDetail",params:{id:d}});var d}},{default:o(()=>[g(j(l.row.period),1)]),_:2},1032,["onClick"])]),_:1}),a(r,{label:"\u5BA2\u6237\u540D\u79F0",align:"center",prop:"customerName"}),a(r,{label:"\u5408\u540C\u7F16\u53F7",align:"center",prop:"contractNo"}),a(r,{label:"\u8BA1\u5212\u8FD8\u6B3E\u91D1\u989D\uFF08\u5143\uFF09",align:"center",prop:"price",formatter:t(na)},null,8,["formatter"]),a(r,{label:"\u8BA1\u5212\u8FD8\u6B3E\u65E5\u671F",align:"center",prop:"returnTime",formatter:t(ia),width:"180px"},null,8,["formatter"]),a(r,{align:"center",label:"\u8BA1\u5212\u8FD8\u6B3E\u65B9\u5F0F",prop:"auditStatus"},{default:o(l=>[a(I,{type:t(ca).CRM_RECEIVABLE_RETURN_TYPE,value:l.row.returnType},null,8,["type","value"])]),_:1}),a(r,{label:"\u63D0\u524D\u51E0\u65E5\u63D0\u9192",align:"center",prop:"remindDays"}),a(r,{label:"\u5907\u6CE8",align:"center",prop:"remark"})]),_:1},8,["data"])),[[S,t(p)]]),a(k,{total:t(m),page:t(e).pageNo,"onUpdate:page":s[0]||(s[0]=l=>t(e).pageNo=l),limit:t(e).pageSize,"onUpdate:limit":s[1]||(s[1]=l=>t(e).pageSize=l),onPagination:c},null,8,["total","page","limit"])]),_:1}),a(ra,{ref_key:"formRef",ref:f,onSuccess:c},null,512)],64)}}})});export{b as _,ua as __tla};
